(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sf={exports:{}},Zo={},Cf={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),Vv=Symbol.for("react.portal"),Uv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),$v=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),Gv=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),qv=Symbol.for("react.memo"),Qv=Symbol.for("react.lazy"),Ad=Symbol.iterator;function Yv(e){return e===null||typeof e!="object"?null:(e=Ad&&e[Ad]||e["@@iterator"],typeof e=="function"?e:null)}var Nf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kf=Object.assign,Pf={};function Qi(e,n,i){this.props=e,this.context=n,this.refs=Pf,this.updater=i||Nf}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lf(){}Lf.prototype=Qi.prototype;function Ec(e,n,i){this.props=e,this.context=n,this.refs=Pf,this.updater=i||Nf}var Tc=Ec.prototype=new Lf;Tc.constructor=Ec;kf(Tc,Qi.prototype);Tc.isPureReactComponent=!0;var Dd=Array.isArray,Ef=Object.prototype.hasOwnProperty,bc={current:null},Tf={key:!0,ref:!0,__self:!0,__source:!0};function bf(e,n,i){var s,a={},l=null,u=null;if(n!=null)for(s in n.ref!==void 0&&(u=n.ref),n.key!==void 0&&(l=""+n.key),n)Ef.call(n,s)&&!Tf.hasOwnProperty(s)&&(a[s]=n[s]);var f=arguments.length-2;if(f===1)a.children=i;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];a.children=p}if(e&&e.defaultProps)for(s in f=e.defaultProps,f)a[s]===void 0&&(a[s]=f[s]);return{$$typeof:as,type:e,key:l,ref:u,props:a,_owner:bc.current}}function Jv(e,n){return{$$typeof:as,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function Xv(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var zd=/\/+/g;function Za(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Xv(""+e.key):n.toString(36)}function Ys(e,n,i,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case as:case Vv:u=!0}}if(u)return u=e,a=a(u),e=s===""?"."+Za(u,0):s,Dd(a)?(i="",e!=null&&(i=e.replace(zd,"$&/")+"/"),Ys(a,n,i,"",function(g){return g})):a!=null&&(jc(a)&&(a=Jv(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(zd,"$&/")+"/")+e)),n.push(a)),1;if(u=0,s=s===""?".":s+":",Dd(e))for(var f=0;f<e.length;f++){l=e[f];var p=s+Za(l,f);u+=Ys(l,n,i,p,a)}else if(p=Yv(e),typeof p=="function")for(e=p.call(e),f=0;!(l=e.next()).done;)l=l.value,p=s+Za(l,f++),u+=Ys(l,n,i,p,a);else if(l==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return u}function js(e,n,i){if(e==null)return e;var s=[],a=0;return Ys(e,s,"","",function(l){return n.call(i,l,a++)}),s}function ey(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Js={transition:null},ty={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Js,ReactCurrentOwner:bc};function jf(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:js,forEach:function(e,n,i){js(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return js(e,function(){n++}),n},toArray:function(e){return js(e,function(n){return n})||[]},only:function(e){if(!jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Qi;me.Fragment=Uv;me.Profiler=Hv;me.PureComponent=Ec;me.StrictMode=Zv;me.Suspense=Kv;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ty;me.act=jf;me.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=kf({},e.props),a=e.key,l=e.ref,u=e._owner;if(n!=null){if(n.ref!==void 0&&(l=n.ref,u=bc.current),n.key!==void 0&&(a=""+n.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in n)Ef.call(n,p)&&!Tf.hasOwnProperty(p)&&(s[p]=n[p]===void 0&&f!==void 0?f[p]:n[p])}var p=arguments.length-2;if(p===1)s.children=i;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];s.children=f}return{$$typeof:as,type:e.type,key:a,ref:l,props:s,_owner:u}};me.createContext=function(e){return e={$$typeof:Wv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$v,_context:e},e.Consumer=e};me.createElement=bf;me.createFactory=function(e){var n=bf.bind(null,e);return n.type=e,n};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Gv,render:e}};me.isValidElement=jc;me.lazy=function(e){return{$$typeof:Qv,_payload:{_status:-1,_result:e},_init:ey}};me.memo=function(e,n){return{$$typeof:qv,type:e,compare:n===void 0?null:n}};me.startTransition=function(e){var n=Js.transition;Js.transition={};try{e()}finally{Js.transition=n}};me.unstable_act=jf;me.useCallback=function(e,n){return ot.current.useCallback(e,n)};me.useContext=function(e){return ot.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};me.useEffect=function(e,n){return ot.current.useEffect(e,n)};me.useId=function(){return ot.current.useId()};me.useImperativeHandle=function(e,n,i){return ot.current.useImperativeHandle(e,n,i)};me.useInsertionEffect=function(e,n){return ot.current.useInsertionEffect(e,n)};me.useLayoutEffect=function(e,n){return ot.current.useLayoutEffect(e,n)};me.useMemo=function(e,n){return ot.current.useMemo(e,n)};me.useReducer=function(e,n,i){return ot.current.useReducer(e,n,i)};me.useRef=function(e){return ot.current.useRef(e)};me.useState=function(e){return ot.current.useState(e)};me.useSyncExternalStore=function(e,n,i){return ot.current.useSyncExternalStore(e,n,i)};me.useTransition=function(){return ot.current.useTransition()};me.version="18.3.1";Cf.exports=me;var E=Cf.exports;const po=wf(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny=E,iy=Symbol.for("react.element"),ry=Symbol.for("react.fragment"),sy=Object.prototype.hasOwnProperty,oy=ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ay={key:!0,ref:!0,__self:!0,__source:!0};function Of(e,n,i){var s,a={},l=null,u=null;i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(u=n.ref);for(s in n)sy.call(n,s)&&!ay.hasOwnProperty(s)&&(a[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps,n)a[s]===void 0&&(a[s]=n[s]);return{$$typeof:iy,type:e,key:l,ref:u,props:a,_owner:oy.current}}Zo.Fragment=ry;Zo.jsx=Of;Zo.jsxs=Of;Sf.exports=Zo;var d=Sf.exports,Sl={},Mf={exports:{}},xt={},Rf={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(B,ie){var U=B.length;B.push(ie);e:for(;0<U;){var X=U-1>>>1,oe=B[X];if(0<a(oe,ie))B[X]=ie,B[U]=oe,U=X;else break e}}function i(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var ie=B[0],U=B.pop();if(U!==ie){B[0]=U;e:for(var X=0,oe=B.length,_e=oe>>>1;X<_e;){var pe=2*(X+1)-1,K=B[pe],ne=pe+1,Se=B[ne];if(0>a(K,U))ne<oe&&0>a(Se,K)?(B[X]=Se,B[ne]=U,X=ne):(B[X]=K,B[pe]=U,X=pe);else if(ne<oe&&0>a(Se,U))B[X]=Se,B[ne]=U,X=ne;else break e}}return ie}function a(B,ie){var U=B.sortIndex-ie.sortIndex;return U!==0?U:B.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],S=1,y=null,C=3,k=!1,T=!1,b=!1,H=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var ie=i(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=B)s(g),ie.sortIndex=ie.expirationTime,n(p,ie);else break;ie=i(g)}}function N(B){if(b=!1,w(B),!T)if(i(p)!==null)T=!0,te(R);else{var ie=i(g);ie!==null&&ge(N,ie.startTime-B)}}function R(B,ie){T=!1,b&&(b=!1,x(O),O=-1),k=!0;var U=C;try{for(w(ie),y=i(p);y!==null&&(!(y.expirationTime>ie)||B&&!Y());){var X=y.callback;if(typeof X=="function"){y.callback=null,C=y.priorityLevel;var oe=X(y.expirationTime<=ie);ie=e.unstable_now(),typeof oe=="function"?y.callback=oe:y===i(p)&&s(p),w(ie)}else s(p);y=i(p)}if(y!==null)var _e=!0;else{var pe=i(g);pe!==null&&ge(N,pe.startTime-ie),_e=!1}return _e}finally{y=null,C=U,k=!1}}var I=!1,j=null,O=-1,F=5,z=-1;function Y(){return!(e.unstable_now()-z<F)}function G(){if(j!==null){var B=e.unstable_now();z=B;var ie=!0;try{ie=j(!0,B)}finally{ie?$():(I=!1,j=null)}}else I=!1}var $;if(typeof _=="function")$=function(){_(G)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,q=A.port2;A.port1.onmessage=G,$=function(){q.postMessage(null)}}else $=function(){H(G,0)};function te(B){j=B,I||(I=!0,$())}function ge(B,ie){O=H(function(){B(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){T||k||(T=!0,te(R))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return i(p)},e.unstable_next=function(B){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var U=C;C=ie;try{return B()}finally{C=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=C;C=B;try{return ie()}finally{C=U}},e.unstable_scheduleCallback=function(B,ie,U){var X=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,B){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=U+oe,B={id:S++,callback:ie,priorityLevel:B,startTime:U,expirationTime:oe,sortIndex:-1},U>X?(B.sortIndex=U,n(g,B),i(p)===null&&B===i(g)&&(b?(x(O),O=-1):b=!0,ge(N,U-X))):(B.sortIndex=oe,n(p,B),T||k||(T=!0,te(R))),B},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(B){var ie=C;return function(){var U=C;C=ie;try{return B.apply(this,arguments)}finally{C=U}}}})(If);Rf.exports=If;var ly=Rf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy=E,_t=ly;function W(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Af=new Set,Zr={};function li(e,n){Ui(e,n),Ui(e+"Capture",n)}function Ui(e,n){for(Zr[e]=n,e=0;e<n.length;e++)Af.add(n[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,uy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},Bd={};function dy(e){return Cl.call(Bd,e)?!0:Cl.call(Fd,e)?!1:uy.test(e)?Bd[e]=!0:(Fd[e]=!0,!1)}function hy(e,n,i,s){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fy(e,n,i,s){if(n===null||typeof n>"u"||hy(e,n,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function at(e,n,i,s,a,l,u){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=l,this.removeEmptyString=u}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];qe[n]=new at(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oc=/[\-:]([a-z])/g;function Mc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Oc,Mc);qe[n]=new at(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Oc,Mc);qe[n]=new at(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Oc,Mc);qe[n]=new at(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rc(e,n,i,s){var a=qe.hasOwnProperty(n)?qe[n]:null;(a!==null?a.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(fy(n,i,a,s)&&(i=null),s||a===null?dy(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(n=a.attributeName,s=a.attributeNamespace,i===null?e.removeAttribute(n):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,s?e.setAttributeNS(s,n,i):e.setAttribute(n,i))))}var vn=cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),zf=Symbol.for("react.context"),Ac=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),Vd=Symbol.iterator;function gr(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Ha;function Lr(e){if(Ha===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ha=n&&n[1]||""}return`
`+Ha+e}var $a=!1;function Wa(e,n){if(!e||$a)return"";$a=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(g){var s=g}Reflect.construct(e,[],n)}else{try{n.call()}catch(g){s=g}e.call(n.prototype)}else{try{throw Error()}catch(g){s=g}e()}}catch(g){if(g&&s&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),l=s.stack.split(`
`),u=a.length-1,f=l.length-1;1<=u&&0<=f&&a[u]!==l[f];)f--;for(;1<=u&&0<=f;u--,f--)if(a[u]!==l[f]){if(u!==1||f!==1)do if(u--,f--,0>f||a[u]!==l[f]){var p=`
`+a[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{$a=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Lr(e):""}function py(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=Wa(e.type,!1),e;case 11:return e=Wa(e.type.render,!1),e;case 1:return e=Wa(e.type,!0),e;default:return""}}function Ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ki:return"Fragment";case Ni:return"Portal";case Nl:return"Profiler";case Ic:return"StrictMode";case kl:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zf:return(e.displayName||"Context")+".Consumer";case Df:return(e._context.displayName||"Context")+".Provider";case Ac:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return n=e.displayName||null,n!==null?n:Ll(e.type)||"Memo";case Cn:n=e._payload,e=e._init;try{return Ll(e(n))}catch{}}return null}function my(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(n);case 8:return n===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gy(e){var n=Bf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,l=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(u){s=""+u,l.call(this,u)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(u){s=""+u},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ms(e){e._valueTracker||(e._valueTracker=gy(e))}function Vf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=Bf(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,n){var i=n.checked;return Oe({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ud(e,n){var i=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;i=zn(n.value!=null?n.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Uf(e,n){n=n.checked,n!=null&&Rc(e,"checked",n,!1)}function Tl(e,n){Uf(e,n);var i=zn(n.value),s=n.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?bl(e,n.type,i):n.hasOwnProperty("defaultValue")&&bl(e,n.type,zn(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Zd(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function bl(e,n,i){(n!=="number"||mo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Er=Array.isArray;function Ai(e,n,i,s){if(e=e.options,n){n={};for(var a=0;a<i.length;a++)n["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=n.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&s&&(e[i].defaultSelected=!0)}else{for(i=""+zn(i),n=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function jl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(W(91));return Oe({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hd(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(W(92));if(Er(i)){if(1<i.length)throw Error(W(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:zn(i)}}function Zf(e,n){var i=zn(n.value),s=zn(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function $d(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Hf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ol(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Hf(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,$f=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,s,a){MSApp.execUnsafeLocalFunction(function(){return e(n,i,s,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Hr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vy=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){vy.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Or[n]=Or[e]})});function Wf(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Or.hasOwnProperty(e)&&Or[e]?(""+n).trim():n+"px"}function Gf(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var s=i.indexOf("--")===0,a=Wf(i,n[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,a):e[i]=a}}var yy=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(e,n){if(n){if(yy[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(W(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(W(61))}if(n.style!=null&&typeof n.style!="object")throw Error(W(62))}}function Rl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,Di=null,zi=null;function Wd(e){if(e=us(e)){if(typeof Al!="function")throw Error(W(280));var n=e.stateNode;n&&(n=Ko(n),Al(e.stateNode,e.type,n))}}function Kf(e){Di?zi?zi.push(e):zi=[e]:Di=e}function qf(){if(Di){var e=Di,n=zi;if(zi=Di=null,Wd(e),n)for(e=0;e<n.length;e++)Wd(n[e])}}function Qf(e,n){return e(n)}function Yf(){}var Ga=!1;function Jf(e,n,i){if(Ga)return e(n,i);Ga=!0;try{return Qf(e,n,i)}finally{Ga=!1,(Di!==null||zi!==null)&&(Yf(),qf())}}function $r(e,n){var i=e.stateNode;if(i===null)return null;var s=Ko(i);if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(W(231,n,typeof i));return i}var Dl=!1;if(fn)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Dl=!1}function _y(e,n,i,s,a,l,u,f,p){var g=Array.prototype.slice.call(arguments,3);try{n.apply(i,g)}catch(S){this.onError(S)}}var Mr=!1,go=null,vo=!1,zl=null,xy={onError:function(e){Mr=!0,go=e}};function wy(e,n,i,s,a,l,u,f,p){Mr=!1,go=null,_y.apply(xy,arguments)}function Sy(e,n,i,s,a,l,u,f,p){if(wy.apply(this,arguments),Mr){if(Mr){var g=go;Mr=!1,go=null}else throw Error(W(198));vo||(vo=!0,zl=g)}}function ci(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Xf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Gd(e){if(ci(e)!==e)throw Error(W(188))}function Cy(e){var n=e.alternate;if(!n){if(n=ci(e),n===null)throw Error(W(188));return n!==e?null:e}for(var i=e,s=n;;){var a=i.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){i=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===i)return Gd(a),e;if(l===s)return Gd(a),n;l=l.sibling}throw Error(W(188))}if(i.return!==s.return)i=a,s=l;else{for(var u=!1,f=a.child;f;){if(f===i){u=!0,i=a,s=l;break}if(f===s){u=!0,s=a,i=l;break}f=f.sibling}if(!u){for(f=l.child;f;){if(f===i){u=!0,i=l,s=a;break}if(f===s){u=!0,s=l,i=a;break}f=f.sibling}if(!u)throw Error(W(189))}}if(i.alternate!==s)throw Error(W(190))}if(i.tag!==3)throw Error(W(188));return i.stateNode.current===i?e:n}function ep(e){return e=Cy(e),e!==null?tp(e):null}function tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=tp(e);if(n!==null)return n;e=e.sibling}return null}var np=_t.unstable_scheduleCallback,Kd=_t.unstable_cancelCallback,Ny=_t.unstable_shouldYield,ky=_t.unstable_requestPaint,Ie=_t.unstable_now,Py=_t.unstable_getCurrentPriorityLevel,Fc=_t.unstable_ImmediatePriority,ip=_t.unstable_UserBlockingPriority,yo=_t.unstable_NormalPriority,Ly=_t.unstable_LowPriority,rp=_t.unstable_IdlePriority,Ho=null,Xt=null;function Ey(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:jy,Ty=Math.log,by=Math.LN2;function jy(e){return e>>>=0,e===0?32:31-(Ty(e)/by|0)|0}var Is=64,As=4194304;function Tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _o(e,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,u=i&268435455;if(u!==0){var f=u&~a;f!==0?s=Tr(f):(l&=u,l!==0&&(s=Tr(l)))}else u=i&~a,u!==0?s=Tr(u):l!==0&&(s=Tr(l));if(s===0)return 0;if(n!==0&&n!==s&&!(n&a)&&(a=s&-s,l=n&-n,a>=l||a===16&&(l&4194240)!==0))return n;if(s&4&&(s|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)i=31-Bt(n),a=1<<i,s|=e[i],n&=~a;return s}function Oy(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var u=31-Bt(l),f=1<<u,p=a[u];p===-1?(!(f&i)||f&s)&&(a[u]=Oy(f,n)):p<=n&&(e.expiredLanes|=f),l&=~f}}function Fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sp(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function Ka(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function ls(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Bt(n),e[n]=i}function Ry(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Bt(i),l=1<<a;n[a]=0,s[a]=-1,e[a]=-1,i&=~l}}function Bc(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Bt(i),a=1<<s;a&n|e[s]&n&&(e[s]|=n),i&=~a}}var we=0;function op(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ap,Vc,lp,cp,up,Bl=!1,Ds=[],Tn=null,bn=null,jn=null,Wr=new Map,Gr=new Map,kn=[],Iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,n){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Wr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(n.pointerId)}}function yr(e,n,i,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},n!==null&&(n=us(n),n!==null&&Vc(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function Ay(e,n,i,s,a){switch(n){case"focusin":return Tn=yr(Tn,e,n,i,s,a),!0;case"dragenter":return bn=yr(bn,e,n,i,s,a),!0;case"mouseover":return jn=yr(jn,e,n,i,s,a),!0;case"pointerover":var l=a.pointerId;return Wr.set(l,yr(Wr.get(l)||null,e,n,i,s,a)),!0;case"gotpointercapture":return l=a.pointerId,Gr.set(l,yr(Gr.get(l)||null,e,n,i,s,a)),!0}return!1}function dp(e){var n=Yn(e.target);if(n!==null){var i=ci(n);if(i!==null){if(n=i.tag,n===13){if(n=Xf(i),n!==null){e.blockedOn=n,up(e.priority,function(){lp(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Vl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Il=s,i.target.dispatchEvent(s),Il=null}else return n=us(i),n!==null&&Vc(n),e.blockedOn=i,!1;n.shift()}return!0}function Qd(e,n,i){Xs(e)&&i.delete(n)}function Dy(){Bl=!1,Tn!==null&&Xs(Tn)&&(Tn=null),bn!==null&&Xs(bn)&&(bn=null),jn!==null&&Xs(jn)&&(jn=null),Wr.forEach(Qd),Gr.forEach(Qd)}function _r(e,n){e.blockedOn===n&&(e.blockedOn=null,Bl||(Bl=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Dy)))}function Kr(e){function n(a){return _r(a,e)}if(0<Ds.length){_r(Ds[0],e);for(var i=1;i<Ds.length;i++){var s=Ds[i];s.blockedOn===e&&(s.blockedOn=null)}}for(Tn!==null&&_r(Tn,e),bn!==null&&_r(bn,e),jn!==null&&_r(jn,e),Wr.forEach(n),Gr.forEach(n),i=0;i<kn.length;i++)s=kn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<kn.length&&(i=kn[0],i.blockedOn===null);)dp(i),i.blockedOn===null&&kn.shift()}var Fi=vn.ReactCurrentBatchConfig,xo=!0;function zy(e,n,i,s){var a=we,l=Fi.transition;Fi.transition=null;try{we=1,Uc(e,n,i,s)}finally{we=a,Fi.transition=l}}function Fy(e,n,i,s){var a=we,l=Fi.transition;Fi.transition=null;try{we=4,Uc(e,n,i,s)}finally{we=a,Fi.transition=l}}function Uc(e,n,i,s){if(xo){var a=Vl(e,n,i,s);if(a===null)rl(e,n,s,wo,i),qd(e,s);else if(Ay(a,e,n,i,s))s.stopPropagation();else if(qd(e,s),n&4&&-1<Iy.indexOf(e)){for(;a!==null;){var l=us(a);if(l!==null&&ap(l),l=Vl(e,n,i,s),l===null&&rl(e,n,s,wo,i),l===a)break;a=l}a!==null&&s.stopPropagation()}else rl(e,n,s,null,i)}}var wo=null;function Vl(e,n,i,s){if(wo=null,e=zc(s),e=Yn(e),e!==null)if(n=ci(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Xf(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return wo=e,null}function hp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Py()){case Fc:return 1;case ip:return 4;case yo:case Ly:return 16;case rp:return 536870912;default:return 16}default:return 16}}var Ln=null,Zc=null,eo=null;function fp(){if(eo)return eo;var e,n=Zc,i=n.length,s,a="value"in Ln?Ln.value:Ln.textContent,l=a.length;for(e=0;e<i&&n[e]===a[e];e++);var u=i-e;for(s=1;s<=u&&n[i-s]===a[l-s];s++);return eo=a.slice(e,1<s?1-s:void 0)}function to(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function Yd(){return!1}function wt(e){function n(i,s,a,l,u){this._reactName=i,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?zs:Yd,this.isPropagationStopped=Yd,this}return Oe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=wt(Yi),cs=Oe({},Yi,{view:0,detail:0}),By=wt(cs),qa,Qa,xr,$o=Oe({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(qa=e.screenX-xr.screenX,Qa=e.screenY-xr.screenY):Qa=qa=0,xr=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Jd=wt($o),Vy=Oe({},$o,{dataTransfer:0}),Uy=wt(Vy),Zy=Oe({},cs,{relatedTarget:0}),Ya=wt(Zy),Hy=Oe({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=wt(Hy),Wy=Oe({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gy=wt(Wy),Ky=Oe({},Yi,{data:0}),Xd=wt(Ky),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yy[e])?!!n[e]:!1}function $c(){return Jy}var Xy=Oe({},cs,{key:function(e){if(e.key){var n=qy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=to(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?to(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?to(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e_=wt(Xy),t_=Oe({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=wt(t_),n_=Oe({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),i_=wt(n_),r_=Oe({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),s_=wt(r_),o_=Oe({},$o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a_=wt(o_),l_=[9,13,27,32],Wc=fn&&"CompositionEvent"in window,Rr=null;fn&&"documentMode"in document&&(Rr=document.documentMode);var c_=fn&&"TextEvent"in window&&!Rr,pp=fn&&(!Wc||Rr&&8<Rr&&11>=Rr),th=" ",nh=!1;function mp(e,n){switch(e){case"keyup":return l_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function u_(e,n){switch(e){case"compositionend":return gp(n);case"keypress":return n.which!==32?null:(nh=!0,th);case"textInput":return e=n.data,e===th&&nh?null:e;default:return null}}function d_(e,n){if(Pi)return e==="compositionend"||!Wc&&mp(e,n)?(e=fp(),eo=Zc=Ln=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pp&&n.locale!=="ko"?null:n.data;default:return null}}var h_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!h_[e.type]:n==="textarea"}function vp(e,n,i,s){Kf(s),n=So(n,"onChange"),0<n.length&&(i=new Hc("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Ir=null,qr=null;function f_(e){Ep(e,0)}function Wo(e){var n=Ti(e);if(Vf(n))return e}function p_(e,n){if(e==="change")return n}var yp=!1;if(fn){var Ja;if(fn){var Xa="oninput"in document;if(!Xa){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Xa=typeof rh.oninput=="function"}Ja=Xa}else Ja=!1;yp=Ja&&(!document.documentMode||9<document.documentMode)}function sh(){Ir&&(Ir.detachEvent("onpropertychange",_p),qr=Ir=null)}function _p(e){if(e.propertyName==="value"&&Wo(qr)){var n=[];vp(n,qr,e,zc(e)),Jf(f_,n)}}function m_(e,n,i){e==="focusin"?(sh(),Ir=n,qr=i,Ir.attachEvent("onpropertychange",_p)):e==="focusout"&&sh()}function g_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(qr)}function v_(e,n){if(e==="click")return Wo(n)}function y_(e,n){if(e==="input"||e==="change")return Wo(n)}function __(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ut=typeof Object.is=="function"?Object.is:__;function Qr(e,n){if(Ut(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var a=i[s];if(!Cl.call(n,a)||!Ut(e[a],n[a]))return!1}return!0}function oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,n){var i=oh(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=oh(i)}}function xp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(){for(var e=window,n=mo();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=mo(e.document)}return n}function Gc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function x_(e){var n=wp(),i=e.focusedElem,s=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&xp(i.ownerDocument.documentElement,i)){if(s!==null&&Gc(i)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=ah(i,l);var u=ah(i,s);a&&u&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(n),e.extend(u.node,u.offset)):(n.setEnd(u.node,u.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w_=fn&&"documentMode"in document&&11>=document.documentMode,Li=null,Ul=null,Ar=null,Zl=!1;function lh(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Zl||Li==null||Li!==mo(s)||(s=Li,"selectionStart"in s&&Gc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ar&&Qr(Ar,s)||(Ar=s,s=So(Ul,"onSelect"),0<s.length&&(n=new Hc("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Li)))}function Fs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ei={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},el={},Sp={};fn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Go(e){if(el[e])return el[e];if(!Ei[e])return e;var n=Ei[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Sp)return el[e]=n[i];return e}var Cp=Go("animationend"),Np=Go("animationiteration"),kp=Go("animationstart"),Pp=Go("transitionend"),Lp=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,n){Lp.set(e,n),li(n,[e])}for(var tl=0;tl<ch.length;tl++){var nl=ch[tl],S_=nl.toLowerCase(),C_=nl[0].toUpperCase()+nl.slice(1);Bn(S_,"on"+C_)}Bn(Cp,"onAnimationEnd");Bn(Np,"onAnimationIteration");Bn(kp,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Pp,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function uh(e,n,i){var s=e.type||"unknown-event";e.currentTarget=i,Sy(s,n,void 0,e),e.currentTarget=null}function Ep(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],a=s.event;s=s.listeners;e:{var l=void 0;if(n)for(var u=s.length-1;0<=u;u--){var f=s[u],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==l&&a.isPropagationStopped())break e;uh(a,f,g),l=p}else for(u=0;u<s.length;u++){if(f=s[u],p=f.instance,g=f.currentTarget,f=f.listener,p!==l&&a.isPropagationStopped())break e;uh(a,f,g),l=p}}}if(vo)throw e=zl,vo=!1,zl=null,e}function Pe(e,n){var i=n[Kl];i===void 0&&(i=n[Kl]=new Set);var s=e+"__bubble";i.has(s)||(Tp(n,e,2,!1),i.add(s))}function il(e,n,i){var s=0;n&&(s|=4),Tp(i,e,s,n)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Bs]){e[Bs]=!0,Af.forEach(function(i){i!=="selectionchange"&&(N_.has(i)||il(i,!1,e),il(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bs]||(n[Bs]=!0,il("selectionchange",!1,n))}}function Tp(e,n,i,s){switch(hp(n)){case 1:var a=zy;break;case 4:a=Fy;break;default:a=Uc}i=a.bind(null,n,i,e),a=void 0,!Dl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(n,i,{capture:!0,passive:a}):e.addEventListener(n,i,!0):a!==void 0?e.addEventListener(n,i,{passive:a}):e.addEventListener(n,i,!1)}function rl(e,n,i,s,a){var l=s;if(!(n&1)&&!(n&2)&&s!==null)e:for(;;){if(s===null)return;var u=s.tag;if(u===3||u===4){var f=s.stateNode.containerInfo;if(f===a||f.nodeType===8&&f.parentNode===a)break;if(u===4)for(u=s.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===a||p.nodeType===8&&p.parentNode===a))return;u=u.return}for(;f!==null;){if(u=Yn(f),u===null)return;if(p=u.tag,p===5||p===6){s=l=u;continue e}f=f.parentNode}}s=s.return}Jf(function(){var g=l,S=zc(i),y=[];e:{var C=Lp.get(e);if(C!==void 0){var k=Hc,T=e;switch(e){case"keypress":if(to(i)===0)break e;case"keydown":case"keyup":k=e_;break;case"focusin":T="focus",k=Ya;break;case"focusout":T="blur",k=Ya;break;case"beforeblur":case"afterblur":k=Ya;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=i_;break;case Cp:case Np:case kp:k=$y;break;case Pp:k=s_;break;case"scroll":k=By;break;case"wheel":k=a_;break;case"copy":case"cut":case"paste":k=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=eh}var b=(n&4)!==0,H=!b&&e==="scroll",x=b?C!==null?C+"Capture":null:C;b=[];for(var _=g,w;_!==null;){w=_;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=$r(_,x),N!=null&&b.push(Jr(_,N,w)))),H)break;_=_.return}0<b.length&&(C=new k(C,T,null,i,S),y.push({event:C,listeners:b}))}}if(!(n&7)){e:{if(C=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",C&&i!==Il&&(T=i.relatedTarget||i.fromElement)&&(Yn(T)||T[pn]))break e;if((k||C)&&(C=S.window===S?S:(C=S.ownerDocument)?C.defaultView||C.parentWindow:window,k?(T=i.relatedTarget||i.toElement,k=g,T=T?Yn(T):null,T!==null&&(H=ci(T),T!==H||T.tag!==5&&T.tag!==6)&&(T=null)):(k=null,T=g),k!==T)){if(b=Jd,N="onMouseLeave",x="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=eh,N="onPointerLeave",x="onPointerEnter",_="pointer"),H=k==null?C:Ti(k),w=T==null?C:Ti(T),C=new b(N,_+"leave",k,i,S),C.target=H,C.relatedTarget=w,N=null,Yn(S)===g&&(b=new b(x,_+"enter",T,i,S),b.target=w,b.relatedTarget=H,N=b),H=N,k&&T)t:{for(b=k,x=T,_=0,w=b;w;w=xi(w))_++;for(w=0,N=x;N;N=xi(N))w++;for(;0<_-w;)b=xi(b),_--;for(;0<w-_;)x=xi(x),w--;for(;_--;){if(b===x||x!==null&&b===x.alternate)break t;b=xi(b),x=xi(x)}b=null}else b=null;k!==null&&dh(y,C,k,b,!1),T!==null&&H!==null&&dh(y,H,T,b,!0)}}e:{if(C=g?Ti(g):window,k=C.nodeName&&C.nodeName.toLowerCase(),k==="select"||k==="input"&&C.type==="file")var R=p_;else if(ih(C))if(yp)R=y_;else{R=g_;var I=m_}else(k=C.nodeName)&&k.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(R=v_);if(R&&(R=R(e,g))){vp(y,R,i,S);break e}I&&I(e,C,g),e==="focusout"&&(I=C._wrapperState)&&I.controlled&&C.type==="number"&&bl(C,"number",C.value)}switch(I=g?Ti(g):window,e){case"focusin":(ih(I)||I.contentEditable==="true")&&(Li=I,Ul=g,Ar=null);break;case"focusout":Ar=Ul=Li=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,lh(y,i,S);break;case"selectionchange":if(w_)break;case"keydown":case"keyup":lh(y,i,S)}var j;if(Wc)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Pi?mp(e,i)&&(O="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(O="onCompositionStart");O&&(pp&&i.locale!=="ko"&&(Pi||O!=="onCompositionStart"?O==="onCompositionEnd"&&Pi&&(j=fp()):(Ln=S,Zc="value"in Ln?Ln.value:Ln.textContent,Pi=!0)),I=So(g,O),0<I.length&&(O=new Xd(O,e,null,i,S),y.push({event:O,listeners:I}),j?O.data=j:(j=gp(i),j!==null&&(O.data=j)))),(j=c_?u_(e,i):d_(e,i))&&(g=So(g,"onBeforeInput"),0<g.length&&(S=new Xd("onBeforeInput","beforeinput",null,i,S),y.push({event:S,listeners:g}),S.data=j))}Ep(y,n)})}function Jr(e,n,i){return{instance:e,listener:n,currentTarget:i}}function So(e,n){for(var i=n+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=$r(e,i),l!=null&&s.unshift(Jr(e,l,a)),l=$r(e,n),l!=null&&s.push(Jr(e,l,a))),e=e.return}return s}function xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dh(e,n,i,s,a){for(var l=n._reactName,u=[];i!==null&&i!==s;){var f=i,p=f.alternate,g=f.stateNode;if(p!==null&&p===s)break;f.tag===5&&g!==null&&(f=g,a?(p=$r(i,l),p!=null&&u.unshift(Jr(i,p,f))):a||(p=$r(i,l),p!=null&&u.push(Jr(i,p,f)))),i=i.return}u.length!==0&&e.push({event:n,listeners:u})}var k_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function hh(e){return(typeof e=="string"?e:""+e).replace(k_,`
`).replace(P_,"")}function Vs(e,n,i){if(n=hh(n),hh(e)!==n&&i)throw Error(W(425))}function Co(){}var Hl=null,$l=null;function Wl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,E_=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(e){return fh.resolve(null).then(e).catch(T_)}:Gl;function T_(e){setTimeout(function(){throw e})}function sl(e,n){var i=n,s=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(s===0){e.removeChild(a),Kr(n);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=a}while(i);Kr(n)}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function ph(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Ji,Xr="__reactProps$"+Ji,pn="__reactContainer$"+Ji,Kl="__reactEvents$"+Ji,b_="__reactListeners$"+Ji,j_="__reactHandles$"+Ji;function Yn(e){var n=e[Yt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[pn]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=ph(e);e!==null;){if(i=e[Yt])return i;e=ph(e)}return n}e=i,i=e.parentNode}return null}function us(e){return e=e[Yt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ti(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Ko(e){return e[Xr]||null}var ql=[],bi=-1;function Vn(e){return{current:e}}function Le(e){0>bi||(e.current=ql[bi],ql[bi]=null,bi--)}function Ne(e,n){bi++,ql[bi]=e.current,e.current=n}var Fn={},tt=Vn(Fn),ht=Vn(!1),ni=Fn;function Zi(e,n){var i=e.type.contextTypes;if(!i)return Fn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in i)a[l]=n[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function ft(e){return e=e.childContextTypes,e!=null}function No(){Le(ht),Le(tt)}function mh(e,n,i){if(tt.current!==Fn)throw Error(W(168));Ne(tt,n),Ne(ht,i)}function bp(e,n,i){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var a in s)if(!(a in n))throw Error(W(108,my(e)||"Unknown",a));return Oe({},i,s)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,ni=tt.current,Ne(tt,e),Ne(ht,ht.current),!0}function gh(e,n,i){var s=e.stateNode;if(!s)throw Error(W(169));i?(e=bp(e,n,ni),s.__reactInternalMemoizedMergedChildContext=e,Le(ht),Le(tt),Ne(tt,e)):Le(ht),Ne(ht,i)}var cn=null,qo=!1,ol=!1;function jp(e){cn===null?cn=[e]:cn.push(e)}function O_(e){qo=!0,jp(e)}function Un(){if(!ol&&cn!==null){ol=!0;var e=0,n=we;try{var i=cn;for(we=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}cn=null,qo=!1}catch(a){throw cn!==null&&(cn=cn.slice(e+1)),np(Fc,Un),a}finally{we=n,ol=!1}}return null}var ji=[],Oi=0,Po=null,Lo=0,Pt=[],Lt=0,ii=null,un=1,dn="";function qn(e,n){ji[Oi++]=Lo,ji[Oi++]=Po,Po=e,Lo=n}function Op(e,n,i){Pt[Lt++]=un,Pt[Lt++]=dn,Pt[Lt++]=ii,ii=e;var s=un;e=dn;var a=32-Bt(s)-1;s&=~(1<<a),i+=1;var l=32-Bt(n)+a;if(30<l){var u=a-a%5;l=(s&(1<<u)-1).toString(32),s>>=u,a-=u,un=1<<32-Bt(n)+a|i<<a|s,dn=l+e}else un=1<<l|i<<a|s,dn=e}function Kc(e){e.return!==null&&(qn(e,1),Op(e,1,0))}function qc(e){for(;e===Po;)Po=ji[--Oi],ji[Oi]=null,Lo=ji[--Oi],ji[Oi]=null;for(;e===ii;)ii=Pt[--Lt],Pt[Lt]=null,dn=Pt[--Lt],Pt[Lt]=null,un=Pt[--Lt],Pt[Lt]=null}var yt=null,vt=null,Ee=!1,Ft=null;function Mp(e,n){var i=Tt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function vh(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,yt=e,vt=On(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,yt=e,vt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ii!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Tt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,yt=e,vt=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(Ee){var n=vt;if(n){var i=n;if(!vh(e,n)){if(Ql(e))throw Error(W(418));n=On(i.nextSibling);var s=yt;n&&vh(e,n)?Mp(s,i):(e.flags=e.flags&-4097|2,Ee=!1,yt=e)}}else{if(Ql(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ee=!1,yt=e}}}function yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Us(e){if(e!==yt)return!1;if(!Ee)return yh(e),Ee=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Wl(e.type,e.memoizedProps)),n&&(n=vt)){if(Ql(e))throw Rp(),Error(W(418));for(;n;)Mp(e,n),n=On(n.nextSibling)}if(yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){vt=On(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}vt=null}}else vt=yt?On(e.stateNode.nextSibling):null;return!0}function Rp(){for(var e=vt;e;)e=On(e.nextSibling)}function Hi(){vt=yt=null,Ee=!1}function Qc(e){Ft===null?Ft=[e]:Ft.push(e)}var M_=vn.ReactCurrentBatchConfig;function wr(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(W(309));var s=i.stateNode}if(!s)throw Error(W(147,e));var a=s,l=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===l?n.ref:(n=function(u){var f=a.refs;u===null?delete f[l]:f[l]=u},n._stringRef=l,n)}if(typeof e!="string")throw Error(W(284));if(!i._owner)throw Error(W(290,e))}return e}function Zs(e,n){throw e=Object.prototype.toString.call(n),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function _h(e){var n=e._init;return n(e._payload)}function Ip(e){function n(x,_){if(e){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function i(x,_){if(!e)return null;for(;_!==null;)n(x,_),_=_.sibling;return null}function s(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function a(x,_){return x=An(x,_),x.index=0,x.sibling=null,x}function l(x,_,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function u(x){return e&&x.alternate===null&&(x.flags|=2),x}function f(x,_,w,N){return _===null||_.tag!==6?(_=fl(w,x.mode,N),_.return=x,_):(_=a(_,w),_.return=x,_)}function p(x,_,w,N){var R=w.type;return R===ki?S(x,_,w.props.children,N,w.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Cn&&_h(R)===_.type)?(N=a(_,w.props),N.ref=wr(x,_,w),N.return=x,N):(N=lo(w.type,w.key,w.props,null,x.mode,N),N.ref=wr(x,_,w),N.return=x,N)}function g(x,_,w,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=pl(w,x.mode,N),_.return=x,_):(_=a(_,w.children||[]),_.return=x,_)}function S(x,_,w,N,R){return _===null||_.tag!==7?(_=ti(w,x.mode,N,R),_.return=x,_):(_=a(_,w),_.return=x,_)}function y(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=fl(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Os:return w=lo(_.type,_.key,_.props,null,x.mode,w),w.ref=wr(x,null,_),w.return=x,w;case Ni:return _=pl(_,x.mode,w),_.return=x,_;case Cn:var N=_._init;return y(x,N(_._payload),w)}if(Er(_)||gr(_))return _=ti(_,x.mode,w,null),_.return=x,_;Zs(x,_)}return null}function C(x,_,w,N){var R=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:f(x,_,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Os:return w.key===R?p(x,_,w,N):null;case Ni:return w.key===R?g(x,_,w,N):null;case Cn:return R=w._init,C(x,_,R(w._payload),N)}if(Er(w)||gr(w))return R!==null?null:S(x,_,w,N,null);Zs(x,w)}return null}function k(x,_,w,N,R){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,f(_,x,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Os:return x=x.get(N.key===null?w:N.key)||null,p(_,x,N,R);case Ni:return x=x.get(N.key===null?w:N.key)||null,g(_,x,N,R);case Cn:var I=N._init;return k(x,_,w,I(N._payload),R)}if(Er(N)||gr(N))return x=x.get(w)||null,S(_,x,N,R,null);Zs(_,N)}return null}function T(x,_,w,N){for(var R=null,I=null,j=_,O=_=0,F=null;j!==null&&O<w.length;O++){j.index>O?(F=j,j=null):F=j.sibling;var z=C(x,j,w[O],N);if(z===null){j===null&&(j=F);break}e&&j&&z.alternate===null&&n(x,j),_=l(z,_,O),I===null?R=z:I.sibling=z,I=z,j=F}if(O===w.length)return i(x,j),Ee&&qn(x,O),R;if(j===null){for(;O<w.length;O++)j=y(x,w[O],N),j!==null&&(_=l(j,_,O),I===null?R=j:I.sibling=j,I=j);return Ee&&qn(x,O),R}for(j=s(x,j);O<w.length;O++)F=k(j,x,O,w[O],N),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?O:F.key),_=l(F,_,O),I===null?R=F:I.sibling=F,I=F);return e&&j.forEach(function(Y){return n(x,Y)}),Ee&&qn(x,O),R}function b(x,_,w,N){var R=gr(w);if(typeof R!="function")throw Error(W(150));if(w=R.call(w),w==null)throw Error(W(151));for(var I=R=null,j=_,O=_=0,F=null,z=w.next();j!==null&&!z.done;O++,z=w.next()){j.index>O?(F=j,j=null):F=j.sibling;var Y=C(x,j,z.value,N);if(Y===null){j===null&&(j=F);break}e&&j&&Y.alternate===null&&n(x,j),_=l(Y,_,O),I===null?R=Y:I.sibling=Y,I=Y,j=F}if(z.done)return i(x,j),Ee&&qn(x,O),R;if(j===null){for(;!z.done;O++,z=w.next())z=y(x,z.value,N),z!==null&&(_=l(z,_,O),I===null?R=z:I.sibling=z,I=z);return Ee&&qn(x,O),R}for(j=s(x,j);!z.done;O++,z=w.next())z=k(j,x,O,z.value,N),z!==null&&(e&&z.alternate!==null&&j.delete(z.key===null?O:z.key),_=l(z,_,O),I===null?R=z:I.sibling=z,I=z);return e&&j.forEach(function(G){return n(x,G)}),Ee&&qn(x,O),R}function H(x,_,w,N){if(typeof w=="object"&&w!==null&&w.type===ki&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Os:e:{for(var R=w.key,I=_;I!==null;){if(I.key===R){if(R=w.type,R===ki){if(I.tag===7){i(x,I.sibling),_=a(I,w.props.children),_.return=x,x=_;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Cn&&_h(R)===I.type){i(x,I.sibling),_=a(I,w.props),_.ref=wr(x,I,w),_.return=x,x=_;break e}i(x,I);break}else n(x,I);I=I.sibling}w.type===ki?(_=ti(w.props.children,x.mode,N,w.key),_.return=x,x=_):(N=lo(w.type,w.key,w.props,null,x.mode,N),N.ref=wr(x,_,w),N.return=x,x=N)}return u(x);case Ni:e:{for(I=w.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){i(x,_.sibling),_=a(_,w.children||[]),_.return=x,x=_;break e}else{i(x,_);break}else n(x,_);_=_.sibling}_=pl(w,x.mode,N),_.return=x,x=_}return u(x);case Cn:return I=w._init,H(x,_,I(w._payload),N)}if(Er(w))return T(x,_,w,N);if(gr(w))return b(x,_,w,N);Zs(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(i(x,_.sibling),_=a(_,w),_.return=x,x=_):(i(x,_),_=fl(w,x.mode,N),_.return=x,x=_),u(x)):i(x,_)}return H}var $i=Ip(!0),Ap=Ip(!1),Eo=Vn(null),To=null,Mi=null,Yc=null;function Jc(){Yc=Mi=To=null}function Xc(e){var n=Eo.current;Le(Eo),e._currentValue=n}function Jl(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Bi(e,n){To=e,Yc=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(dt=!0),e.firstContext=null)}function jt(e){var n=e._currentValue;if(Yc!==e)if(e={context:e,memoizedValue:n,next:null},Mi===null){if(To===null)throw Error(W(308));Mi=e,To.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return n}var Jn=null;function eu(e){Jn===null?Jn=[e]:Jn.push(e)}function Dp(e,n,i,s){var a=n.interleaved;return a===null?(i.next=i,eu(n)):(i.next=a.next,a.next=i),n.interleaved=i,mn(e,s)}function mn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Nn=!1;function tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Mn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ye&2){var a=s.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),s.pending=n,mn(e,i)}return a=s.interleaved,a===null?(n.next=n,eu(s)):(n.next=a.next,a.next=n),s.interleaved=n,mn(e,i)}function no(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Bc(e,i)}}function xh(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var a=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var u={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?a=l=u:l=l.next=u,i=i.next}while(i!==null);l===null?a=l=n:l=l.next=n}else a=l=n;i={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function bo(e,n,i,s){var a=e.updateQueue;Nn=!1;var l=a.firstBaseUpdate,u=a.lastBaseUpdate,f=a.shared.pending;if(f!==null){a.shared.pending=null;var p=f,g=p.next;p.next=null,u===null?l=g:u.next=g,u=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==u&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=p))}if(l!==null){var y=a.baseState;u=0,S=g=p=null,f=l;do{var C=f.lane,k=f.eventTime;if((s&C)===C){S!==null&&(S=S.next={eventTime:k,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var T=e,b=f;switch(C=n,k=i,b.tag){case 1:if(T=b.payload,typeof T=="function"){y=T.call(k,y,C);break e}y=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=b.payload,C=typeof T=="function"?T.call(k,y,C):T,C==null)break e;y=Oe({},y,C);break e;case 2:Nn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,C=a.effects,C===null?a.effects=[f]:C.push(f))}else k={eventTime:k,lane:C,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=k,p=y):S=S.next=k,u|=C;if(f=f.next,f===null){if(f=a.shared.pending,f===null)break;C=f,f=C.next,C.next=null,a.lastBaseUpdate=C,a.shared.pending=null}}while(!0);if(S===null&&(p=y),a.baseState=p,a.firstBaseUpdate=g,a.lastBaseUpdate=S,n=a.shared.interleaved,n!==null){a=n;do u|=a.lane,a=a.next;while(a!==n)}else l===null&&(a.shared.lanes=0);si|=u,e.lanes=u,e.memoizedState=y}}function wh(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],a=s.callback;if(a!==null){if(s.callback=null,s=i,typeof a!="function")throw Error(W(191,a));a.call(s)}}}var ds={},en=Vn(ds),es=Vn(ds),ts=Vn(ds);function Xn(e){if(e===ds)throw Error(W(174));return e}function nu(e,n){switch(Ne(ts,n),Ne(es,e),Ne(en,ds),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ol(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ol(n,e)}Le(en),Ne(en,n)}function Wi(){Le(en),Le(es),Le(ts)}function Fp(e){Xn(ts.current);var n=Xn(en.current),i=Ol(n,e.type);n!==i&&(Ne(es,e),Ne(en,i))}function iu(e){es.current===e&&(Le(en),Le(es))}var be=Vn(0);function jo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var al=[];function ru(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var io=vn.ReactCurrentDispatcher,ll=vn.ReactCurrentBatchConfig,ri=0,je=null,Ve=null,He=null,Oo=!1,Dr=!1,ns=0,R_=0;function Je(){throw Error(W(321))}function su(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ut(e[i],n[i]))return!1;return!0}function ou(e,n,i,s,a,l){if(ri=l,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,io.current=e===null||e.memoizedState===null?z_:F_,e=i(s,a),Dr){l=0;do{if(Dr=!1,ns=0,25<=l)throw Error(W(301));l+=1,He=Ve=null,n.updateQueue=null,io.current=B_,e=i(s,a)}while(Dr)}if(io.current=Mo,n=Ve!==null&&Ve.next!==null,ri=0,He=Ve=je=null,Oo=!1,n)throw Error(W(300));return e}function au(){var e=ns!==0;return ns=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?je.memoizedState=He=e:He=He.next=e,He}function Ot(){if(Ve===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var n=He===null?je.memoizedState:He.next;if(n!==null)He=n,Ve=e;else{if(e===null)throw Error(W(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},He===null?je.memoizedState=He=e:He=He.next=e}return He}function is(e,n){return typeof n=="function"?n(e):n}function cl(e){var n=Ot(),i=n.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=e;var s=Ve,a=s.baseQueue,l=i.pending;if(l!==null){if(a!==null){var u=a.next;a.next=l.next,l.next=u}s.baseQueue=a=l,i.pending=null}if(a!==null){l=a.next,s=s.baseState;var f=u=null,p=null,g=l;do{var S=g.lane;if((ri&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),s=g.hasEagerState?g.eagerState:e(s,g.action);else{var y={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=y,u=s):p=p.next=y,je.lanes|=S,si|=S}g=g.next}while(g!==null&&g!==l);p===null?u=s:p.next=f,Ut(s,n.memoizedState)||(dt=!0),n.memoizedState=s,n.baseState=u,n.baseQueue=p,i.lastRenderedState=s}if(e=i.interleaved,e!==null){a=e;do l=a.lane,je.lanes|=l,si|=l,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function ul(e){var n=Ot(),i=n.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=e;var s=i.dispatch,a=i.pending,l=n.memoizedState;if(a!==null){i.pending=null;var u=a=a.next;do l=e(l,u.action),u=u.next;while(u!==a);Ut(l,n.memoizedState)||(dt=!0),n.memoizedState=l,n.baseQueue===null&&(n.baseState=l),i.lastRenderedState=l}return[l,s]}function Bp(){}function Vp(e,n){var i=je,s=Ot(),a=n(),l=!Ut(s.memoizedState,a);if(l&&(s.memoizedState=a,dt=!0),s=s.queue,lu(Hp.bind(null,i,s,e),[e]),s.getSnapshot!==n||l||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,rs(9,Zp.bind(null,i,s,a,n),void 0,null),$e===null)throw Error(W(349));ri&30||Up(i,n,a)}return a}function Up(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Zp(e,n,i,s){n.value=i,n.getSnapshot=s,$p(n)&&Wp(e)}function Hp(e,n,i){return i(function(){$p(n)&&Wp(e)})}function $p(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ut(e,i)}catch{return!0}}function Wp(e){var n=mn(e,1);n!==null&&Vt(n,e,1,-1)}function Sh(e){var n=Qt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},n.queue=e,e=e.dispatch=D_.bind(null,je,e),[n.memoizedState,e]}function rs(e,n,i,s){return e={tag:e,create:n,destroy:i,deps:s,next:null},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e)),e}function Gp(){return Ot().memoizedState}function ro(e,n,i,s){var a=Qt();je.flags|=e,a.memoizedState=rs(1|n,i,void 0,s===void 0?null:s)}function Qo(e,n,i,s){var a=Ot();s=s===void 0?null:s;var l=void 0;if(Ve!==null){var u=Ve.memoizedState;if(l=u.destroy,s!==null&&su(s,u.deps)){a.memoizedState=rs(n,i,l,s);return}}je.flags|=e,a.memoizedState=rs(1|n,i,l,s)}function Ch(e,n){return ro(8390656,8,e,n)}function lu(e,n){return Qo(2048,8,e,n)}function Kp(e,n){return Qo(4,2,e,n)}function qp(e,n){return Qo(4,4,e,n)}function Qp(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yp(e,n,i){return i=i!=null?i.concat([e]):null,Qo(4,4,Qp.bind(null,n,e),i)}function cu(){}function Jp(e,n){var i=Ot();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&su(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Xp(e,n){var i=Ot();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&su(n,s[1])?s[0]:(e=e(),i.memoizedState=[e,n],e)}function em(e,n,i){return ri&21?(Ut(i,n)||(i=sp(),je.lanes|=i,si|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=i)}function I_(e,n){var i=we;we=i!==0&&4>i?i:4,e(!0);var s=ll.transition;ll.transition={};try{e(!1),n()}finally{we=i,ll.transition=s}}function tm(){return Ot().memoizedState}function A_(e,n,i){var s=In(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},nm(e))im(n,i);else if(i=Dp(e,n,i,s),i!==null){var a=st();Vt(i,e,s,a),rm(i,n,s)}}function D_(e,n,i){var s=In(e),a={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(nm(e))im(n,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=n.lastRenderedReducer,l!==null))try{var u=n.lastRenderedState,f=l(u,i);if(a.hasEagerState=!0,a.eagerState=f,Ut(f,u)){var p=n.interleaved;p===null?(a.next=a,eu(n)):(a.next=p.next,p.next=a),n.interleaved=a;return}}catch{}finally{}i=Dp(e,n,a,s),i!==null&&(a=st(),Vt(i,e,s,a),rm(i,n,s))}}function nm(e){var n=e.alternate;return e===je||n!==null&&n===je}function im(e,n){Dr=Oo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function rm(e,n,i){if(i&4194240){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Bc(e,i)}}var Mo={readContext:jt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},z_={readContext:jt,useCallback:function(e,n){return Qt().memoizedState=[e,n===void 0?null:n],e},useContext:jt,useEffect:Ch,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,ro(4194308,4,Qp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ro(4194308,4,e,n)},useInsertionEffect:function(e,n){return ro(4,2,e,n)},useMemo:function(e,n){var i=Qt();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var s=Qt();return n=i!==void 0?i(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=A_.bind(null,je,e),[s.memoizedState,e]},useRef:function(e){var n=Qt();return e={current:e},n.memoizedState=e},useState:Sh,useDebugValue:cu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Sh(!1),n=e[0];return e=I_.bind(null,e[1]),Qt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var s=je,a=Qt();if(Ee){if(i===void 0)throw Error(W(407));i=i()}else{if(i=n(),$e===null)throw Error(W(349));ri&30||Up(s,n,i)}a.memoizedState=i;var l={value:i,getSnapshot:n};return a.queue=l,Ch(Hp.bind(null,s,l,e),[e]),s.flags|=2048,rs(9,Zp.bind(null,s,l,i,n),void 0,null),i},useId:function(){var e=Qt(),n=$e.identifierPrefix;if(Ee){var i=dn,s=un;i=(s&~(1<<32-Bt(s)-1)).toString(32)+i,n=":"+n+"R"+i,i=ns++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=R_++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},F_={readContext:jt,useCallback:Jp,useContext:jt,useEffect:lu,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:qp,useMemo:Xp,useReducer:cl,useRef:Gp,useState:function(){return cl(is)},useDebugValue:cu,useDeferredValue:function(e){var n=Ot();return em(n,Ve.memoizedState,e)},useTransition:function(){var e=cl(is)[0],n=Ot().memoizedState;return[e,n]},useMutableSource:Bp,useSyncExternalStore:Vp,useId:tm,unstable_isNewReconciler:!1},B_={readContext:jt,useCallback:Jp,useContext:jt,useEffect:lu,useImperativeHandle:Yp,useInsertionEffect:Kp,useLayoutEffect:qp,useMemo:Xp,useReducer:ul,useRef:Gp,useState:function(){return ul(is)},useDebugValue:cu,useDeferredValue:function(e){var n=Ot();return Ve===null?n.memoizedState=e:em(n,Ve.memoizedState,e)},useTransition:function(){var e=ul(is)[0],n=Ot().memoizedState;return[e,n]},useMutableSource:Bp,useSyncExternalStore:Vp,useId:tm,unstable_isNewReconciler:!1};function At(e,n){if(e&&e.defaultProps){n=Oe({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Xl(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:Oe({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Yo={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var s=st(),a=In(e),l=hn(s,a);l.payload=n,i!=null&&(l.callback=i),n=Mn(e,l,a),n!==null&&(Vt(n,e,a,s),no(n,e,a))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=st(),a=In(e),l=hn(s,a);l.tag=1,l.payload=n,i!=null&&(l.callback=i),n=Mn(e,l,a),n!==null&&(Vt(n,e,a,s),no(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=st(),s=In(e),a=hn(i,s);a.tag=2,n!=null&&(a.callback=n),n=Mn(e,a,s),n!==null&&(Vt(n,e,s,i),no(n,e,s))}};function Nh(e,n,i,s,a,l,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,u):n.prototype&&n.prototype.isPureReactComponent?!Qr(i,s)||!Qr(a,l):!0}function sm(e,n,i){var s=!1,a=Fn,l=n.contextType;return typeof l=="object"&&l!==null?l=jt(l):(a=ft(n)?ni:tt.current,s=n.contextTypes,l=(s=s!=null)?Zi(e,a):Fn),n=new n(i,l),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Yo,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),n}function kh(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Yo.enqueueReplaceState(n,n.state,null)}function ec(e,n,i,s){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},tu(e);var l=n.contextType;typeof l=="object"&&l!==null?a.context=jt(l):(l=ft(n)?ni:tt.current,a.context=Zi(e,l)),a.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Xl(e,n,l,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Yo.enqueueReplaceState(a,a.state,null),bo(e,i,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,n){try{var i="",s=n;do i+=py(s),s=s.return;while(s);var a=i}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:n,stack:a,digest:null}}function dl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function tc(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function om(e,n,i){i=hn(-1,i),i.tag=3,i.payload={element:null};var s=n.value;return i.callback=function(){Io||(Io=!0,dc=s),tc(e,n)},i}function am(e,n,i){i=hn(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=n.value;i.payload=function(){return s(a)},i.callback=function(){tc(e,n)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){tc(e,n),typeof s!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})}),i}function Ph(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new V_;var a=new Set;s.set(n,a)}else a=s.get(n),a===void 0&&(a=new Set,s.set(n,a));a.has(i)||(a.add(i),e=tx.bind(null,e,n,i),n.then(e,e))}function Lh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Eh(e,n,i,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=hn(-1,1),n.tag=2,Mn(i,n,1))),i.lanes|=1),e)}var U_=vn.ReactCurrentOwner,dt=!1;function rt(e,n,i,s){n.child=e===null?Ap(n,null,i,s):$i(n,e.child,i,s)}function Th(e,n,i,s,a){i=i.render;var l=n.ref;return Bi(n,a),s=ou(e,n,i,s,l,a),i=au(),e!==null&&!dt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,gn(e,n,a)):(Ee&&i&&Kc(n),n.flags|=1,rt(e,n,s,a),n.child)}function bh(e,n,i,s,a){if(e===null){var l=i.type;return typeof l=="function"&&!vu(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=l,lm(e,n,l,s,a)):(e=lo(i.type,null,s,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(l=e.child,!(e.lanes&a)){var u=l.memoizedProps;if(i=i.compare,i=i!==null?i:Qr,i(u,s)&&e.ref===n.ref)return gn(e,n,a)}return n.flags|=1,e=An(l,s),e.ref=n.ref,e.return=n,n.child=e}function lm(e,n,i,s,a){if(e!==null){var l=e.memoizedProps;if(Qr(l,s)&&e.ref===n.ref)if(dt=!1,n.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(dt=!0);else return n.lanes=e.lanes,gn(e,n,a)}return nc(e,n,i,s,a)}function cm(e,n,i){var s=n.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ii,gt),gt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ne(Ii,gt),gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:i,Ne(Ii,gt),gt|=s}else l!==null?(s=l.baseLanes|i,n.memoizedState=null):s=i,Ne(Ii,gt),gt|=s;return rt(e,n,a,i),n.child}function um(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function nc(e,n,i,s,a){var l=ft(i)?ni:tt.current;return l=Zi(n,l),Bi(n,a),i=ou(e,n,i,s,l,a),s=au(),e!==null&&!dt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,gn(e,n,a)):(Ee&&s&&Kc(n),n.flags|=1,rt(e,n,i,a),n.child)}function jh(e,n,i,s,a){if(ft(i)){var l=!0;ko(n)}else l=!1;if(Bi(n,a),n.stateNode===null)so(e,n),sm(n,i,s),ec(n,i,s,a),s=!0;else if(e===null){var u=n.stateNode,f=n.memoizedProps;u.props=f;var p=u.context,g=i.contextType;typeof g=="object"&&g!==null?g=jt(g):(g=ft(i)?ni:tt.current,g=Zi(n,g));var S=i.getDerivedStateFromProps,y=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==s||p!==g)&&kh(n,u,s,g),Nn=!1;var C=n.memoizedState;u.state=C,bo(n,s,u,a),p=n.memoizedState,f!==s||C!==p||ht.current||Nn?(typeof S=="function"&&(Xl(n,i,S,s),p=n.memoizedState),(f=Nn||Nh(n,i,f,s,C,p,g))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=p),u.props=s,u.state=p,u.context=g,s=f):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{u=n.stateNode,zp(e,n),f=n.memoizedProps,g=n.type===n.elementType?f:At(n.type,f),u.props=g,y=n.pendingProps,C=u.context,p=i.contextType,typeof p=="object"&&p!==null?p=jt(p):(p=ft(i)?ni:tt.current,p=Zi(n,p));var k=i.getDerivedStateFromProps;(S=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==y||C!==p)&&kh(n,u,s,p),Nn=!1,C=n.memoizedState,u.state=C,bo(n,s,u,a);var T=n.memoizedState;f!==y||C!==T||ht.current||Nn?(typeof k=="function"&&(Xl(n,i,k,s),T=n.memoizedState),(g=Nn||Nh(n,i,g,s,C,T,p)||!1)?(S||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,T,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,T,p)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=T),u.props=s,u.state=T,u.context=p,s=g):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),s=!1)}return ic(e,n,i,s,l,a)}function ic(e,n,i,s,a,l){um(e,n);var u=(n.flags&128)!==0;if(!s&&!u)return a&&gh(n,i,!1),gn(e,n,l);s=n.stateNode,U_.current=n;var f=u&&typeof i.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&u?(n.child=$i(n,e.child,null,l),n.child=$i(n,null,f,l)):rt(e,n,f,l),n.memoizedState=s.state,a&&gh(n,i,!0),n.child}function dm(e){var n=e.stateNode;n.pendingContext?mh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&mh(e,n.context,!1),nu(e,n.containerInfo)}function Oh(e,n,i,s,a){return Hi(),Qc(a),n.flags|=256,rt(e,n,i,s),n.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function hm(e,n,i){var s=n.pendingProps,a=be.current,l=!1,u=(n.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(a&2)!==0),f?(l=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ne(be,a&1),e===null)return Yl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(u=s.children,e=s.fallback,l?(s=n.mode,l=n.child,u={mode:"hidden",children:u},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=u):l=ea(u,s,0,null),e=ti(e,s,i,null),l.return=n,e.return=n,l.sibling=e,n.child=l,n.child.memoizedState=sc(i),n.memoizedState=rc,e):uu(n,u));if(a=e.memoizedState,a!==null&&(f=a.dehydrated,f!==null))return Z_(e,n,u,s,f,a,i);if(l){l=s.fallback,u=n.mode,a=e.child,f=a.sibling;var p={mode:"hidden",children:s.children};return!(u&1)&&n.child!==a?(s=n.child,s.childLanes=0,s.pendingProps=p,n.deletions=null):(s=An(a,p),s.subtreeFlags=a.subtreeFlags&14680064),f!==null?l=An(f,l):(l=ti(l,u,i,null),l.flags|=2),l.return=n,s.return=n,s.sibling=l,n.child=s,s=l,l=n.child,u=e.child.memoizedState,u=u===null?sc(i):{baseLanes:u.baseLanes|i,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=e.childLanes&~i,n.memoizedState=rc,s}return l=e.child,e=l.sibling,s=An(l,{mode:"visible",children:s.children}),!(n.mode&1)&&(s.lanes=i),s.return=n,s.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=s,n.memoizedState=null,s}function uu(e,n){return n=ea({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Hs(e,n,i,s){return s!==null&&Qc(s),$i(n,e.child,null,i),e=uu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Z_(e,n,i,s,a,l,u){if(i)return n.flags&256?(n.flags&=-257,s=dl(Error(W(422))),Hs(e,n,u,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(l=s.fallback,a=n.mode,s=ea({mode:"visible",children:s.children},a,0,null),l=ti(l,a,u,null),l.flags|=2,s.return=n,l.return=n,s.sibling=l,n.child=s,n.mode&1&&$i(n,e.child,null,u),n.child.memoizedState=sc(u),n.memoizedState=rc,l);if(!(n.mode&1))return Hs(e,n,u,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var f=s.dgst;return s=f,l=Error(W(419)),s=dl(l,s,void 0),Hs(e,n,u,s)}if(f=(u&e.childLanes)!==0,dt||f){if(s=$e,s!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|u)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,mn(e,a),Vt(s,e,a,-1))}return gu(),s=dl(Error(W(421))),Hs(e,n,u,s)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=nx.bind(null,e),a._reactRetry=n,null):(e=l.treeContext,vt=On(a.nextSibling),yt=n,Ee=!0,Ft=null,e!==null&&(Pt[Lt++]=un,Pt[Lt++]=dn,Pt[Lt++]=ii,un=e.id,dn=e.overflow,ii=n),n=uu(n,s.children),n.flags|=4096,n)}function Mh(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Jl(e.return,n,i)}function hl(e,n,i,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:a}:(l.isBackwards=n,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=i,l.tailMode=a)}function fm(e,n,i){var s=n.pendingProps,a=s.revealOrder,l=s.tail;if(rt(e,n,s.children,i),s=be.current,s&2)s=s&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,i,n);else if(e.tag===19)Mh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ne(be,s),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(i=n.child,a=null;i!==null;)e=i.alternate,e!==null&&jo(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=n.child,n.child=null):(a=i.sibling,i.sibling=null),hl(n,!1,a,i,l);break;case"backwards":for(i=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&jo(e)===null){n.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}hl(n,!0,i,null,l);break;case"together":hl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function so(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function gn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),si|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(W(153));if(n.child!==null){for(e=n.child,i=An(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=An(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function H_(e,n,i){switch(n.tag){case 3:dm(n),Hi();break;case 5:Fp(n);break;case 1:ft(n.type)&&ko(n);break;case 4:nu(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,a=n.memoizedProps.value;Ne(Eo,s._currentValue),s._currentValue=a;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Ne(be,be.current&1),n.flags|=128,null):i&n.child.childLanes?hm(e,n,i):(Ne(be,be.current&1),e=gn(e,n,i),e!==null?e.sibling:null);Ne(be,be.current&1);break;case 19:if(s=(i&n.childLanes)!==0,e.flags&128){if(s)return fm(e,n,i);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(be,be.current),s)break;return null;case 22:case 23:return n.lanes=0,cm(e,n,i)}return gn(e,n,i)}var pm,oc,mm,gm;pm=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};oc=function(){};mm=function(e,n,i,s){var a=e.memoizedProps;if(a!==s){e=n.stateNode,Xn(en.current);var l=null;switch(i){case"input":a=El(e,a),s=El(e,s),l=[];break;case"select":a=Oe({},a,{value:void 0}),s=Oe({},s,{value:void 0}),l=[];break;case"textarea":a=jl(e,a),s=jl(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Co)}Ml(i,s);var u;i=null;for(g in a)if(!s.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var f=a[g];for(u in f)f.hasOwnProperty(u)&&(i||(i={}),i[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Zr.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in s){var p=s[g];if(f=a!=null?a[g]:void 0,s.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(i||(i={}),i[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(i||(i={}),i[u]=p[u])}else i||(l||(l=[]),l.push(g,i)),i=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(l=l||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&Pe("scroll",e),l||f===p||(l=[])):(l=l||[]).push(g,p))}i&&(l=l||[]).push("style",i);var g=l;(n.updateQueue=g)&&(n.flags|=4)}};gm=function(e,n,i,s){i!==s&&(n.flags|=4)};function Sr(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function $_(e,n,i){var s=n.pendingProps;switch(qc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return ft(n.type)&&No(),Xe(n),null;case 3:return s=n.stateNode,Wi(),Le(ht),Le(tt),ru(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Us(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ft!==null&&(pc(Ft),Ft=null))),oc(e,n),Xe(n),null;case 5:iu(n);var a=Xn(ts.current);if(i=n.type,e!==null&&n.stateNode!=null)mm(e,n,i,s,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(W(166));return Xe(n),null}if(e=Xn(en.current),Us(n)){s=n.stateNode,i=n.type;var l=n.memoizedProps;switch(s[Yt]=n,s[Xr]=l,e=(n.mode&1)!==0,i){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(a=0;a<br.length;a++)Pe(br[a],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Ud(s,l),Pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Pe("invalid",s);break;case"textarea":Hd(s,l),Pe("invalid",s)}Ml(i,l),a=null;for(var u in l)if(l.hasOwnProperty(u)){var f=l[u];u==="children"?typeof f=="string"?s.textContent!==f&&(l.suppressHydrationWarning!==!0&&Vs(s.textContent,f,e),a=["children",f]):typeof f=="number"&&s.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&Vs(s.textContent,f,e),a=["children",""+f]):Zr.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Pe("scroll",s)}switch(i){case"input":Ms(s),Zd(s,l,!0);break;case"textarea":Ms(s),$d(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Co)}s=a,n.updateQueue=s,s!==null&&(n.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=u.createElement(i,{is:s.is}):(e=u.createElement(i),i==="select"&&(u=e,s.multiple?u.multiple=!0:s.size&&(u.size=s.size))):e=u.createElementNS(e,i),e[Yt]=n,e[Xr]=s,pm(e,n,!1,!1),n.stateNode=e;e:{switch(u=Rl(i,s),i){case"dialog":Pe("cancel",e),Pe("close",e),a=s;break;case"iframe":case"object":case"embed":Pe("load",e),a=s;break;case"video":case"audio":for(a=0;a<br.length;a++)Pe(br[a],e);a=s;break;case"source":Pe("error",e),a=s;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),a=s;break;case"details":Pe("toggle",e),a=s;break;case"input":Ud(e,s),a=El(e,s),Pe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Oe({},s,{value:void 0}),Pe("invalid",e);break;case"textarea":Hd(e,s),a=jl(e,s),Pe("invalid",e);break;default:a=s}Ml(i,a),f=a;for(l in f)if(f.hasOwnProperty(l)){var p=f[l];l==="style"?Gf(e,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&$f(e,p)):l==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&Hr(e,p):typeof p=="number"&&Hr(e,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Zr.hasOwnProperty(l)?p!=null&&l==="onScroll"&&Pe("scroll",e):p!=null&&Rc(e,l,p,u))}switch(i){case"input":Ms(e),Zd(e,s,!1);break;case"textarea":Ms(e),$d(e);break;case"option":s.value!=null&&e.setAttribute("value",""+zn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Ai(e,!!s.multiple,l,!1):s.defaultValue!=null&&Ai(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Co)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Xe(n),null;case 6:if(e&&n.stateNode!=null)gm(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(W(166));if(i=Xn(ts.current),Xn(en.current),Us(n)){if(s=n.stateNode,i=n.memoizedProps,s[Yt]=n,(l=s.nodeValue!==i)&&(e=yt,e!==null))switch(e.tag){case 3:Vs(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(s.nodeValue,i,(e.mode&1)!==0)}l&&(n.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[Yt]=n,n.stateNode=s}return Xe(n),null;case 13:if(Le(be),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&vt!==null&&n.mode&1&&!(n.flags&128))Rp(),Hi(),n.flags|=98560,l=!1;else if(l=Us(n),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(W(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(W(317));l[Yt]=n}else Hi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Xe(n),l=!1}else Ft!==null&&(pc(Ft),Ft=null),l=!0;if(!l)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,n.mode&1&&(e===null||be.current&1?Ue===0&&(Ue=3):gu())),n.updateQueue!==null&&(n.flags|=4),Xe(n),null);case 4:return Wi(),oc(e,n),e===null&&Yr(n.stateNode.containerInfo),Xe(n),null;case 10:return Xc(n.type._context),Xe(n),null;case 17:return ft(n.type)&&No(),Xe(n),null;case 19:if(Le(be),l=n.memoizedState,l===null)return Xe(n),null;if(s=(n.flags&128)!==0,u=l.rendering,u===null)if(s)Sr(l,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(u=jo(e),u!==null){for(n.flags|=128,Sr(l,!1),s=u.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=i,i=n.child;i!==null;)l=i,e=s,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(be,be.current&1|2),n.child}e=e.sibling}l.tail!==null&&Ie()>Ki&&(n.flags|=128,s=!0,Sr(l,!1),n.lanes=4194304)}else{if(!s)if(e=jo(u),e!==null){if(n.flags|=128,s=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Sr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ee)return Xe(n),null}else 2*Ie()-l.renderingStartTime>Ki&&i!==1073741824&&(n.flags|=128,s=!0,Sr(l,!1),n.lanes=4194304);l.isBackwards?(u.sibling=n.child,n.child=u):(i=l.last,i!==null?i.sibling=u:n.child=u,l.last=u)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ie(),n.sibling=null,i=be.current,Ne(be,s?i&1|2:i&1),n):(Xe(n),null);case 22:case 23:return mu(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&n.mode&1?gt&1073741824&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),null;case 24:return null;case 25:return null}throw Error(W(156,n.tag))}function W_(e,n){switch(qc(n),n.tag){case 1:return ft(n.type)&&No(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(),Le(ht),Le(tt),ru(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return iu(n),null;case 13:if(Le(be),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(W(340));Hi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Le(be),null;case 4:return Wi(),null;case 10:return Xc(n.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var $s=!1,et=!1,G_=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ri(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){Me(e,n,s)}else i.current=null}function ac(e,n,i){try{i()}catch(s){Me(e,n,s)}}var Rh=!1;function K_(e,n){if(Hl=xo,e=wp(),Gc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var u=0,f=-1,p=-1,g=0,S=0,y=e,C=null;t:for(;;){for(var k;y!==i||a!==0&&y.nodeType!==3||(f=u+a),y!==l||s!==0&&y.nodeType!==3||(p=u+s),y.nodeType===3&&(u+=y.nodeValue.length),(k=y.firstChild)!==null;)C=y,y=k;for(;;){if(y===e)break t;if(C===i&&++g===a&&(f=u),C===l&&++S===s&&(p=u),(k=y.nextSibling)!==null)break;y=C,C=y.parentNode}y=k}i=f===-1||p===-1?null:{start:f,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for($l={focusedElem:e,selectionRange:i},xo=!1,ee=n;ee!==null;)if(n=ee,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ee=e;else for(;ee!==null;){n=ee;try{var T=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var b=T.memoizedProps,H=T.memoizedState,x=n.stateNode,_=x.getSnapshotBeforeUpdate(n.elementType===n.type?b:At(n.type,b),H);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=n.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){Me(n,n.return,N)}if(e=n.sibling,e!==null){e.return=n.return,ee=e;break}ee=n.return}return T=Rh,Rh=!1,T}function zr(e,n,i){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ac(n,i,l)}a=a.next}while(a!==s)}}function Jo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==n)}}function lc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function vm(e){var n=e.alternate;n!==null&&(e.alternate=null,vm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Yt],delete n[Xr],delete n[Kl],delete n[b_],delete n[j_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ym(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Co));else if(s!==4&&(e=e.child,e!==null))for(cc(e,n,i),e=e.sibling;e!==null;)cc(e,n,i),e=e.sibling}function uc(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(uc(e,n,i),e=e.sibling;e!==null;)uc(e,n,i),e=e.sibling}var Ge=null,Dt=!1;function Sn(e,n,i){for(i=i.child;i!==null;)_m(e,n,i),i=i.sibling}function _m(e,n,i){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ho,i)}catch{}switch(i.tag){case 5:et||Ri(i,n);case 6:var s=Ge,a=Dt;Ge=null,Sn(e,n,i),Ge=s,Dt=a,Ge!==null&&(Dt?(e=Ge,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ge.removeChild(i.stateNode));break;case 18:Ge!==null&&(Dt?(e=Ge,i=i.stateNode,e.nodeType===8?sl(e.parentNode,i):e.nodeType===1&&sl(e,i),Kr(e)):sl(Ge,i.stateNode));break;case 4:s=Ge,a=Dt,Ge=i.stateNode.containerInfo,Dt=!0,Sn(e,n,i),Ge=s,Dt=a;break;case 0:case 11:case 14:case 15:if(!et&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,u=l.destroy;l=l.tag,u!==void 0&&(l&2||l&4)&&ac(i,n,u),a=a.next}while(a!==s)}Sn(e,n,i);break;case 1:if(!et&&(Ri(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(f){Me(i,n,f)}Sn(e,n,i);break;case 21:Sn(e,n,i);break;case 22:i.mode&1?(et=(s=et)||i.memoizedState!==null,Sn(e,n,i),et=s):Sn(e,n,i);break;default:Sn(e,n,i)}}function Ah(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new G_),n.forEach(function(s){var a=ix.bind(null,e,s);i.has(s)||(i.add(s),s.then(a,a))})}}function It(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];try{var l=e,u=n,f=u;e:for(;f!==null;){switch(f.tag){case 5:Ge=f.stateNode,Dt=!1;break e;case 3:Ge=f.stateNode.containerInfo,Dt=!0;break e;case 4:Ge=f.stateNode.containerInfo,Dt=!0;break e}f=f.return}if(Ge===null)throw Error(W(160));_m(l,u,a),Ge=null,Dt=!1;var p=a.alternate;p!==null&&(p.return=null),a.return=null}catch(g){Me(a,n,g)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xm(n,e),n=n.sibling}function xm(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(n,e),qt(e),s&4){try{zr(3,e,e.return),Jo(3,e)}catch(b){Me(e,e.return,b)}try{zr(5,e,e.return)}catch(b){Me(e,e.return,b)}}break;case 1:It(n,e),qt(e),s&512&&i!==null&&Ri(i,i.return);break;case 5:if(It(n,e),qt(e),s&512&&i!==null&&Ri(i,i.return),e.flags&32){var a=e.stateNode;try{Hr(a,"")}catch(b){Me(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,u=i!==null?i.memoizedProps:l,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&Uf(a,l),Rl(f,u);var g=Rl(f,l);for(u=0;u<p.length;u+=2){var S=p[u],y=p[u+1];S==="style"?Gf(a,y):S==="dangerouslySetInnerHTML"?$f(a,y):S==="children"?Hr(a,y):Rc(a,S,y,g)}switch(f){case"input":Tl(a,l);break;case"textarea":Zf(a,l);break;case"select":var C=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?Ai(a,!!l.multiple,k,!1):C!==!!l.multiple&&(l.defaultValue!=null?Ai(a,!!l.multiple,l.defaultValue,!0):Ai(a,!!l.multiple,l.multiple?[]:"",!1))}a[Xr]=l}catch(b){Me(e,e.return,b)}}break;case 6:if(It(n,e),qt(e),s&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(b){Me(e,e.return,b)}}break;case 3:if(It(n,e),qt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Kr(n.containerInfo)}catch(b){Me(e,e.return,b)}break;case 4:It(n,e),qt(e);break;case 13:It(n,e),qt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(fu=Ie())),s&4&&Ah(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(et=(g=et)||S,It(n,e),et=g):It(n,e),qt(e),s&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(ee=e,S=e.child;S!==null;){for(y=ee=S;ee!==null;){switch(C=ee,k=C.child,C.tag){case 0:case 11:case 14:case 15:zr(4,C,C.return);break;case 1:Ri(C,C.return);var T=C.stateNode;if(typeof T.componentWillUnmount=="function"){s=C,i=C.return;try{n=s,T.props=n.memoizedProps,T.state=n.memoizedState,T.componentWillUnmount()}catch(b){Me(s,i,b)}}break;case 5:Ri(C,C.return);break;case 22:if(C.memoizedState!==null){zh(y);continue}}k!==null?(k.return=C,ee=k):zh(y)}S=S.sibling}e:for(S=null,y=e;;){if(y.tag===5){if(S===null){S=y;try{a=y.stateNode,g?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=y.stateNode,p=y.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Wf("display",u))}catch(b){Me(e,e.return,b)}}}else if(y.tag===6){if(S===null)try{y.stateNode.nodeValue=g?"":y.memoizedProps}catch(b){Me(e,e.return,b)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;S===y&&(S=null),y=y.return}S===y&&(S=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:It(n,e),qt(e),s&4&&Ah(e);break;case 21:break;default:It(n,e),qt(e)}}function qt(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(ym(i)){var s=i;break e}i=i.return}throw Error(W(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Hr(a,""),s.flags&=-33);var l=Ih(e);uc(e,l,a);break;case 3:case 4:var u=s.stateNode.containerInfo,f=Ih(e);cc(e,f,u);break;default:throw Error(W(161))}}catch(p){Me(e,e.return,p)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function q_(e,n,i){ee=e,wm(e)}function wm(e,n,i){for(var s=(e.mode&1)!==0;ee!==null;){var a=ee,l=a.child;if(a.tag===22&&s){var u=a.memoizedState!==null||$s;if(!u){var f=a.alternate,p=f!==null&&f.memoizedState!==null||et;f=$s;var g=et;if($s=u,(et=p)&&!g)for(ee=a;ee!==null;)u=ee,p=u.child,u.tag===22&&u.memoizedState!==null?Fh(a):p!==null?(p.return=u,ee=p):Fh(a);for(;l!==null;)ee=l,wm(l),l=l.sibling;ee=a,$s=f,et=g}Dh(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ee=l):Dh(e)}}function Dh(e){for(;ee!==null;){var n=ee;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:et||Jo(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!et)if(i===null)s.componentDidMount();else{var a=n.elementType===n.type?i.memoizedProps:At(n.type,i.memoizedProps);s.componentDidUpdate(a,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=n.updateQueue;l!==null&&wh(n,l,s);break;case 3:var u=n.updateQueue;if(u!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}wh(n,u,i)}break;case 5:var f=n.stateNode;if(i===null&&n.flags&4){i=f;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var g=n.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var y=S.dehydrated;y!==null&&Kr(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}et||n.flags&512&&lc(n)}catch(C){Me(n,n.return,C)}}if(n===e){ee=null;break}if(i=n.sibling,i!==null){i.return=n.return,ee=i;break}ee=n.return}}function zh(e){for(;ee!==null;){var n=ee;if(n===e){ee=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ee=i;break}ee=n.return}}function Fh(e){for(;ee!==null;){var n=ee;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Jo(4,n)}catch(p){Me(n,i,p)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var a=n.return;try{s.componentDidMount()}catch(p){Me(n,a,p)}}var l=n.return;try{lc(n)}catch(p){Me(n,l,p)}break;case 5:var u=n.return;try{lc(n)}catch(p){Me(n,u,p)}}}catch(p){Me(n,n.return,p)}if(n===e){ee=null;break}var f=n.sibling;if(f!==null){f.return=n.return,ee=f;break}ee=n.return}}var Q_=Math.ceil,Ro=vn.ReactCurrentDispatcher,du=vn.ReactCurrentOwner,bt=vn.ReactCurrentBatchConfig,ye=0,$e=null,Fe=null,Ke=0,gt=0,Ii=Vn(0),Ue=0,ss=null,si=0,Xo=0,hu=0,Fr=null,ut=null,fu=0,Ki=1/0,ln=null,Io=!1,dc=null,Rn=null,Ws=!1,En=null,Ao=0,Br=0,hc=null,oo=-1,ao=0;function st(){return ye&6?Ie():oo!==-1?oo:oo=Ie()}function In(e){return e.mode&1?ye&2&&Ke!==0?Ke&-Ke:M_.transition!==null?(ao===0&&(ao=sp()),ao):(e=we,e!==0||(e=window.event,e=e===void 0?16:hp(e.type)),e):1}function Vt(e,n,i,s){if(50<Br)throw Br=0,hc=null,Error(W(185));ls(e,i,s),(!(ye&2)||e!==$e)&&(e===$e&&(!(ye&2)&&(Xo|=i),Ue===4&&Pn(e,Ke)),pt(e,s),i===1&&ye===0&&!(n.mode&1)&&(Ki=Ie()+500,qo&&Un()))}function pt(e,n){var i=e.callbackNode;My(e,n);var s=_o(e,e===$e?Ke:0);if(s===0)i!==null&&Kd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(i!=null&&Kd(i),n===1)e.tag===0?O_(Bh.bind(null,e)):jp(Bh.bind(null,e)),E_(function(){!(ye&6)&&Un()}),i=null;else{switch(op(s)){case 1:i=Fc;break;case 4:i=ip;break;case 16:i=yo;break;case 536870912:i=rp;break;default:i=yo}i=Tm(i,Sm.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Sm(e,n){if(oo=-1,ao=0,ye&6)throw Error(W(327));var i=e.callbackNode;if(Vi()&&e.callbackNode!==i)return null;var s=_o(e,e===$e?Ke:0);if(s===0)return null;if(s&30||s&e.expiredLanes||n)n=Do(e,s);else{n=s;var a=ye;ye|=2;var l=Nm();($e!==e||Ke!==n)&&(ln=null,Ki=Ie()+500,ei(e,n));do try{X_();break}catch(f){Cm(e,f)}while(!0);Jc(),Ro.current=l,ye=a,Fe!==null?n=0:($e=null,Ke=0,n=Ue)}if(n!==0){if(n===2&&(a=Fl(e),a!==0&&(s=a,n=fc(e,a))),n===1)throw i=ss,ei(e,0),Pn(e,s),pt(e,Ie()),i;if(n===6)Pn(e,s);else{if(a=e.current.alternate,!(s&30)&&!Y_(a)&&(n=Do(e,s),n===2&&(l=Fl(e),l!==0&&(s=l,n=fc(e,l))),n===1))throw i=ss,ei(e,0),Pn(e,s),pt(e,Ie()),i;switch(e.finishedWork=a,e.finishedLanes=s,n){case 0:case 1:throw Error(W(345));case 2:Qn(e,ut,ln);break;case 3:if(Pn(e,s),(s&130023424)===s&&(n=fu+500-Ie(),10<n)){if(_o(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){st(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gl(Qn.bind(null,e,ut,ln),n);break}Qn(e,ut,ln);break;case 4:if(Pn(e,s),(s&4194240)===s)break;for(n=e.eventTimes,a=-1;0<s;){var u=31-Bt(s);l=1<<u,u=n[u],u>a&&(a=u),s&=~l}if(s=a,s=Ie()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Q_(s/1960))-s,10<s){e.timeoutHandle=Gl(Qn.bind(null,e,ut,ln),s);break}Qn(e,ut,ln);break;case 5:Qn(e,ut,ln);break;default:throw Error(W(329))}}}return pt(e,Ie()),e.callbackNode===i?Sm.bind(null,e):null}function fc(e,n){var i=Fr;return e.current.memoizedState.isDehydrated&&(ei(e,n).flags|=256),e=Do(e,n),e!==2&&(n=ut,ut=i,n!==null&&pc(n)),e}function pc(e){ut===null?ut=e:ut.push.apply(ut,e)}function Y_(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var a=i[s],l=a.getSnapshot;a=a.value;try{if(!Ut(l(),a))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pn(e,n){for(n&=~hu,n&=~Xo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Bt(n),s=1<<i;e[i]=-1,n&=~s}}function Bh(e){if(ye&6)throw Error(W(327));Vi();var n=_o(e,0);if(!(n&1))return pt(e,Ie()),null;var i=Do(e,n);if(e.tag!==0&&i===2){var s=Fl(e);s!==0&&(n=s,i=fc(e,s))}if(i===1)throw i=ss,ei(e,0),Pn(e,n),pt(e,Ie()),i;if(i===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qn(e,ut,ln),pt(e,Ie()),null}function pu(e,n){var i=ye;ye|=1;try{return e(n)}finally{ye=i,ye===0&&(Ki=Ie()+500,qo&&Un())}}function oi(e){En!==null&&En.tag===0&&!(ye&6)&&Vi();var n=ye;ye|=1;var i=bt.transition,s=we;try{if(bt.transition=null,we=1,e)return e()}finally{we=s,bt.transition=i,ye=n,!(ye&6)&&Un()}}function mu(){gt=Ii.current,Le(Ii)}function ei(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,L_(i)),Fe!==null)for(i=Fe.return;i!==null;){var s=i;switch(qc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&No();break;case 3:Wi(),Le(ht),Le(tt),ru();break;case 5:iu(s);break;case 4:Wi();break;case 13:Le(be);break;case 19:Le(be);break;case 10:Xc(s.type._context);break;case 22:case 23:mu()}i=i.return}if($e=e,Fe=e=An(e.current,null),Ke=gt=n,Ue=0,ss=null,hu=Xo=si=0,ut=Fr=null,Jn!==null){for(n=0;n<Jn.length;n++)if(i=Jn[n],s=i.interleaved,s!==null){i.interleaved=null;var a=s.next,l=i.pending;if(l!==null){var u=l.next;l.next=a,s.next=u}i.pending=s}Jn=null}return e}function Cm(e,n){do{var i=Fe;try{if(Jc(),io.current=Mo,Oo){for(var s=je.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Oo=!1}if(ri=0,He=Ve=je=null,Dr=!1,ns=0,du.current=null,i===null||i.return===null){Ue=1,ss=n,Fe=null;break}e:{var l=e,u=i.return,f=i,p=n;if(n=Ke,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=f,y=S.tag;if(!(S.mode&1)&&(y===0||y===11||y===15)){var C=S.alternate;C?(S.updateQueue=C.updateQueue,S.memoizedState=C.memoizedState,S.lanes=C.lanes):(S.updateQueue=null,S.memoizedState=null)}var k=Lh(u);if(k!==null){k.flags&=-257,Eh(k,u,f,l,n),k.mode&1&&Ph(l,g,n),n=k,p=g;var T=n.updateQueue;if(T===null){var b=new Set;b.add(p),n.updateQueue=b}else T.add(p);break e}else{if(!(n&1)){Ph(l,g,n),gu();break e}p=Error(W(426))}}else if(Ee&&f.mode&1){var H=Lh(u);if(H!==null){!(H.flags&65536)&&(H.flags|=256),Eh(H,u,f,l,n),Qc(Gi(p,f));break e}}l=p=Gi(p,f),Ue!==4&&(Ue=2),Fr===null?Fr=[l]:Fr.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,n&=-n,l.lanes|=n;var x=om(l,p,n);xh(l,x);break e;case 1:f=p;var _=l.type,w=l.stateNode;if(!(l.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rn===null||!Rn.has(w)))){l.flags|=65536,n&=-n,l.lanes|=n;var N=am(l,f,n);xh(l,N);break e}}l=l.return}while(l!==null)}Pm(i)}catch(R){n=R,Fe===i&&i!==null&&(Fe=i=i.return);continue}break}while(!0)}function Nm(){var e=Ro.current;return Ro.current=Mo,e===null?Mo:e}function gu(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),$e===null||!(si&268435455)&&!(Xo&268435455)||Pn($e,Ke)}function Do(e,n){var i=ye;ye|=2;var s=Nm();($e!==e||Ke!==n)&&(ln=null,ei(e,n));do try{J_();break}catch(a){Cm(e,a)}while(!0);if(Jc(),ye=i,Ro.current=s,Fe!==null)throw Error(W(261));return $e=null,Ke=0,Ue}function J_(){for(;Fe!==null;)km(Fe)}function X_(){for(;Fe!==null&&!Ny();)km(Fe)}function km(e){var n=Em(e.alternate,e,gt);e.memoizedProps=e.pendingProps,n===null?Pm(e):Fe=n,du.current=null}function Pm(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=W_(i,n),i!==null){i.flags&=32767,Fe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Fe=null;return}}else if(i=$_(i,n,gt),i!==null){Fe=i;return}if(n=n.sibling,n!==null){Fe=n;return}Fe=n=e}while(n!==null);Ue===0&&(Ue=5)}function Qn(e,n,i){var s=we,a=bt.transition;try{bt.transition=null,we=1,ex(e,n,i,s)}finally{bt.transition=a,we=s}return null}function ex(e,n,i,s){do Vi();while(En!==null);if(ye&6)throw Error(W(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(Ry(e,l),e===$e&&(Fe=$e=null,Ke=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Ws||(Ws=!0,Tm(yo,function(){return Vi(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var u=we;we=1;var f=ye;ye|=4,du.current=null,K_(e,i),xm(i,e),x_($l),xo=!!Hl,$l=Hl=null,e.current=i,q_(i),ky(),ye=f,we=u,bt.transition=l}else e.current=i;if(Ws&&(Ws=!1,En=e,Ao=a),l=e.pendingLanes,l===0&&(Rn=null),Ey(i.stateNode),pt(e,Ie()),n!==null)for(s=e.onRecoverableError,i=0;i<n.length;i++)a=n[i],s(a.value,{componentStack:a.stack,digest:a.digest});if(Io)throw Io=!1,e=dc,dc=null,e;return Ao&1&&e.tag!==0&&Vi(),l=e.pendingLanes,l&1?e===hc?Br++:(Br=0,hc=e):Br=0,Un(),null}function Vi(){if(En!==null){var e=op(Ao),n=bt.transition,i=we;try{if(bt.transition=null,we=16>e?16:e,En===null)var s=!1;else{if(e=En,En=null,Ao=0,ye&6)throw Error(W(331));var a=ye;for(ye|=4,ee=e.current;ee!==null;){var l=ee,u=l.child;if(ee.flags&16){var f=l.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(ee=g;ee!==null;){var S=ee;switch(S.tag){case 0:case 11:case 15:zr(8,S,l)}var y=S.child;if(y!==null)y.return=S,ee=y;else for(;ee!==null;){S=ee;var C=S.sibling,k=S.return;if(vm(S),S===g){ee=null;break}if(C!==null){C.return=k,ee=C;break}ee=k}}}var T=l.alternate;if(T!==null){var b=T.child;if(b!==null){T.child=null;do{var H=b.sibling;b.sibling=null,b=H}while(b!==null)}}ee=l}}if(l.subtreeFlags&2064&&u!==null)u.return=l,ee=u;else e:for(;ee!==null;){if(l=ee,l.flags&2048)switch(l.tag){case 0:case 11:case 15:zr(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,ee=x;break e}ee=l.return}}var _=e.current;for(ee=_;ee!==null;){u=ee;var w=u.child;if(u.subtreeFlags&2064&&w!==null)w.return=u,ee=w;else e:for(u=_;ee!==null;){if(f=ee,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Jo(9,f)}}catch(R){Me(f,f.return,R)}if(f===u){ee=null;break e}var N=f.sibling;if(N!==null){N.return=f.return,ee=N;break e}ee=f.return}}if(ye=a,Un(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ho,e)}catch{}s=!0}return s}finally{we=i,bt.transition=n}}return!1}function Vh(e,n,i){n=Gi(i,n),n=om(e,n,1),e=Mn(e,n,1),n=st(),e!==null&&(ls(e,1,n),pt(e,n))}function Me(e,n,i){if(e.tag===3)Vh(e,e,i);else for(;n!==null;){if(n.tag===3){Vh(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Rn===null||!Rn.has(s))){e=Gi(i,e),e=am(n,e,1),n=Mn(n,e,1),e=st(),n!==null&&(ls(n,1,e),pt(n,e));break}}n=n.return}}function tx(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),n=st(),e.pingedLanes|=e.suspendedLanes&i,$e===e&&(Ke&i)===i&&(Ue===4||Ue===3&&(Ke&130023424)===Ke&&500>Ie()-fu?ei(e,0):hu|=i),pt(e,n)}function Lm(e,n){n===0&&(e.mode&1?(n=As,As<<=1,!(As&130023424)&&(As=4194304)):n=1);var i=st();e=mn(e,n),e!==null&&(ls(e,n,i),pt(e,i))}function nx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Lm(e,i)}function ix(e,n){var i=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(W(314))}s!==null&&s.delete(n),Lm(e,i)}var Em;Em=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||ht.current)dt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return dt=!1,H_(e,n,i);dt=!!(e.flags&131072)}else dt=!1,Ee&&n.flags&1048576&&Op(n,Lo,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;so(e,n),e=n.pendingProps;var a=Zi(n,tt.current);Bi(n,i),a=ou(null,n,s,e,a,i);var l=au();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ft(s)?(l=!0,ko(n)):l=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tu(n),a.updater=Yo,n.stateNode=a,a._reactInternals=n,ec(n,s,e,i),n=ic(null,n,s,!0,l,i)):(n.tag=0,Ee&&l&&Kc(n),rt(null,n,a,i),n=n.child),n;case 16:s=n.elementType;e:{switch(so(e,n),e=n.pendingProps,a=s._init,s=a(s._payload),n.type=s,a=n.tag=sx(s),e=At(s,e),a){case 0:n=nc(null,n,s,e,i);break e;case 1:n=jh(null,n,s,e,i);break e;case 11:n=Th(null,n,s,e,i);break e;case 14:n=bh(null,n,s,At(s.type,e),i);break e}throw Error(W(306,s,""))}return n;case 0:return s=n.type,a=n.pendingProps,a=n.elementType===s?a:At(s,a),nc(e,n,s,a,i);case 1:return s=n.type,a=n.pendingProps,a=n.elementType===s?a:At(s,a),jh(e,n,s,a,i);case 3:e:{if(dm(n),e===null)throw Error(W(387));s=n.pendingProps,l=n.memoizedState,a=l.element,zp(e,n),bo(n,s,null,i);var u=n.memoizedState;if(s=u.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},n.updateQueue.baseState=l,n.memoizedState=l,n.flags&256){a=Gi(Error(W(423)),n),n=Oh(e,n,s,i,a);break e}else if(s!==a){a=Gi(Error(W(424)),n),n=Oh(e,n,s,i,a);break e}else for(vt=On(n.stateNode.containerInfo.firstChild),yt=n,Ee=!0,Ft=null,i=Ap(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hi(),s===a){n=gn(e,n,i);break e}rt(e,n,s,i)}n=n.child}return n;case 5:return Fp(n),e===null&&Yl(n),s=n.type,a=n.pendingProps,l=e!==null?e.memoizedProps:null,u=a.children,Wl(s,a)?u=null:l!==null&&Wl(s,l)&&(n.flags|=32),um(e,n),rt(e,n,u,i),n.child;case 6:return e===null&&Yl(n),null;case 13:return hm(e,n,i);case 4:return nu(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=$i(n,null,s,i):rt(e,n,s,i),n.child;case 11:return s=n.type,a=n.pendingProps,a=n.elementType===s?a:At(s,a),Th(e,n,s,a,i);case 7:return rt(e,n,n.pendingProps,i),n.child;case 8:return rt(e,n,n.pendingProps.children,i),n.child;case 12:return rt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(s=n.type._context,a=n.pendingProps,l=n.memoizedProps,u=a.value,Ne(Eo,s._currentValue),s._currentValue=u,l!==null)if(Ut(l.value,u)){if(l.children===a.children&&!ht.current){n=gn(e,n,i);break e}}else for(l=n.child,l!==null&&(l.return=n);l!==null;){var f=l.dependencies;if(f!==null){u=l.child;for(var p=f.firstContext;p!==null;){if(p.context===s){if(l.tag===1){p=hn(-1,i&-i),p.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}l.lanes|=i,p=l.alternate,p!==null&&(p.lanes|=i),Jl(l.return,i,n),f.lanes|=i;break}p=p.next}}else if(l.tag===10)u=l.type===n.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(W(341));u.lanes|=i,f=u.alternate,f!==null&&(f.lanes|=i),Jl(u,i,n),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===n){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}rt(e,n,a.children,i),n=n.child}return n;case 9:return a=n.type,s=n.pendingProps.children,Bi(n,i),a=jt(a),s=s(a),n.flags|=1,rt(e,n,s,i),n.child;case 14:return s=n.type,a=At(s,n.pendingProps),a=At(s.type,a),bh(e,n,s,a,i);case 15:return lm(e,n,n.type,n.pendingProps,i);case 17:return s=n.type,a=n.pendingProps,a=n.elementType===s?a:At(s,a),so(e,n),n.tag=1,ft(s)?(e=!0,ko(n)):e=!1,Bi(n,i),sm(n,s,a),ec(n,s,a,i),ic(null,n,s,!0,e,i);case 19:return fm(e,n,i);case 22:return cm(e,n,i)}throw Error(W(156,n.tag))};function Tm(e,n){return np(e,n)}function rx(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,i,s){return new rx(e,n,i,s)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sx(e){if(typeof e=="function")return vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ac)return 11;if(e===Dc)return 14}return 2}function An(e,n){var i=e.alternate;return i===null?(i=Tt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function lo(e,n,i,s,a,l){var u=2;if(s=e,typeof e=="function")vu(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ki:return ti(i.children,a,l,n);case Ic:u=8,a|=8;break;case Nl:return e=Tt(12,i,n,a|2),e.elementType=Nl,e.lanes=l,e;case kl:return e=Tt(13,i,n,a),e.elementType=kl,e.lanes=l,e;case Pl:return e=Tt(19,i,n,a),e.elementType=Pl,e.lanes=l,e;case Ff:return ea(i,a,l,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Df:u=10;break e;case zf:u=9;break e;case Ac:u=11;break e;case Dc:u=14;break e;case Cn:u=16,s=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return n=Tt(u,i,n,a),n.elementType=e,n.type=s,n.lanes=l,n}function ti(e,n,i,s){return e=Tt(7,e,s,n),e.lanes=i,e}function ea(e,n,i,s){return e=Tt(22,e,s,n),e.elementType=Ff,e.lanes=i,e.stateNode={isHidden:!1},e}function fl(e,n,i){return e=Tt(6,e,null,n),e.lanes=i,e}function pl(e,n,i){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ox(e,n,i,s,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yu(e,n,i,s,a,l,u,f,p){return e=new ox(e,n,i,f,p),n===1?(n=1,l===!0&&(n|=8)):n=0,l=Tt(3,null,null,n),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(l),e}function ax(e,n,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:s==null?null:""+s,children:e,containerInfo:n,implementation:i}}function bm(e){if(!e)return Fn;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(W(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ft(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(W(171))}if(e.tag===1){var i=e.type;if(ft(i))return bp(e,i,n)}return n}function jm(e,n,i,s,a,l,u,f,p){return e=yu(i,s,!0,e,a,l,u,f,p),e.context=bm(null),i=e.current,s=st(),a=In(i),l=hn(s,a),l.callback=n??null,Mn(i,l,a),e.current.lanes=a,ls(e,a,s),pt(e,s),e}function ta(e,n,i,s){var a=n.current,l=st(),u=In(a);return i=bm(i),n.context===null?n.context=i:n.pendingContext=i,n=hn(l,u),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=Mn(a,n,u),e!==null&&(Vt(e,a,u,l),no(e,a,u)),u}function zo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function _u(e,n){Uh(e,n),(e=e.alternate)&&Uh(e,n)}function lx(){return null}var Om=typeof reportError=="function"?reportError:function(e){console.error(e)};function xu(e){this._internalRoot=e}na.prototype.render=xu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(W(409));ta(e,n,null,null)};na.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;oi(function(){ta(null,e,null,null)}),n[pn]=null}};function na(e){this._internalRoot=e}na.prototype.unstable_scheduleHydration=function(e){if(e){var n=cp();e={blockedOn:null,target:e,priority:n};for(var i=0;i<kn.length&&n!==0&&n<kn[i].priority;i++);kn.splice(i,0,e),i===0&&dp(e)}};function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zh(){}function cx(e,n,i,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var g=zo(u);l.call(g)}}var u=jm(n,s,e,0,null,!1,!1,"",Zh);return e._reactRootContainer=u,e[pn]=u.current,Yr(e.nodeType===8?e.parentNode:e),oi(),u}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var f=s;s=function(){var g=zo(p);f.call(g)}}var p=yu(e,0,!1,null,null,!1,!1,"",Zh);return e._reactRootContainer=p,e[pn]=p.current,Yr(e.nodeType===8?e.parentNode:e),oi(function(){ta(n,p,i,s)}),p}function ra(e,n,i,s,a){var l=i._reactRootContainer;if(l){var u=l;if(typeof a=="function"){var f=a;a=function(){var p=zo(u);f.call(p)}}ta(n,u,e,a)}else u=cx(i,n,e,a,s);return zo(u)}ap=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Tr(n.pendingLanes);i!==0&&(Bc(n,i|1),pt(n,Ie()),!(ye&6)&&(Ki=Ie()+500,Un()))}break;case 13:oi(function(){var s=mn(e,1);if(s!==null){var a=st();Vt(s,e,1,a)}}),_u(e,1)}};Vc=function(e){if(e.tag===13){var n=mn(e,134217728);if(n!==null){var i=st();Vt(n,e,134217728,i)}_u(e,134217728)}};lp=function(e){if(e.tag===13){var n=In(e),i=mn(e,n);if(i!==null){var s=st();Vt(i,e,n,s)}_u(e,n)}};cp=function(){return we};up=function(e,n){var i=we;try{return we=e,n()}finally{we=i}};Al=function(e,n,i){switch(n){case"input":if(Tl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var a=Ko(s);if(!a)throw Error(W(90));Vf(s),Tl(s,a)}}}break;case"textarea":Zf(e,i);break;case"select":n=i.value,n!=null&&Ai(e,!!i.multiple,n,!1)}};Qf=pu;Yf=oi;var ux={usingClientEntryPoint:!1,Events:[us,Ti,Ko,Kf,qf,pu]},Cr={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dx={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ep(e),e===null?null:e.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Ho=Gs.inject(dx),Xt=Gs}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux;xt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(n))throw Error(W(200));return ax(e,n,null,i)};xt.createRoot=function(e,n){if(!wu(e))throw Error(W(299));var i=!1,s="",a=Om;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=yu(e,1,!1,null,null,i,!1,s,a),e[pn]=n.current,Yr(e.nodeType===8?e.parentNode:e),new xu(n)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=ep(n),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return oi(e)};xt.hydrate=function(e,n,i){if(!ia(n))throw Error(W(200));return ra(null,e,n,!0,i)};xt.hydrateRoot=function(e,n,i){if(!wu(e))throw Error(W(405));var s=i!=null&&i.hydratedSources||null,a=!1,l="",u=Om;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),n=jm(n,null,e,1,i??null,a,!1,l,u),e[pn]=n.current,Yr(e),s)for(e=0;e<s.length;e++)i=s[e],a=i._getVersion,a=a(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,a]:n.mutableSourceEagerHydrationData.push(i,a);return new na(n)};xt.render=function(e,n,i){if(!ia(n))throw Error(W(200));return ra(null,e,n,!1,i)};xt.unmountComponentAtNode=function(e){if(!ia(e))throw Error(W(40));return e._reactRootContainer?(oi(function(){ra(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};xt.unstable_batchedUpdates=pu;xt.unstable_renderSubtreeIntoContainer=function(e,n,i,s){if(!ia(i))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return ra(e,n,i,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function Mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mm)}catch(e){console.error(e)}}Mm(),Mf.exports=xt;var Rm=Mf.exports,Hh=Rm;Sl.createRoot=Hh.createRoot,Sl.hydrateRoot=Hh.hydrateRoot;const ce=e=>typeof e=="string",Nr=()=>{let e,n;const i=new Promise((s,a)=>{e=s,n=a});return i.resolve=e,i.reject=n,i},$h=e=>e==null?"":""+e,hx=(e,n,i)=>{e.forEach(s=>{n[s]&&(i[s]=n[s])})},fx=/###/g,Wh=e=>e&&e.indexOf("###")>-1?e.replace(fx,"."):e,Gh=e=>!e||ce(e),Vr=(e,n,i)=>{const s=ce(n)?n.split("."):n;let a=0;for(;a<s.length-1;){if(Gh(e))return{};const l=Wh(s[a]);!e[l]&&i&&(e[l]=new i),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++a}return Gh(e)?{}:{obj:e,k:Wh(s[a])}},Kh=(e,n,i)=>{const{obj:s,k:a}=Vr(e,n,Object);if(s!==void 0||n.length===1){s[a]=i;return}let l=n[n.length-1],u=n.slice(0,n.length-1),f=Vr(e,u,Object);for(;f.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),f=Vr(e,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${l}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${l}`]=i},px=(e,n,i,s)=>{const{obj:a,k:l}=Vr(e,n,Object);a[l]=a[l]||[],a[l].push(i)},Fo=(e,n)=>{const{obj:i,k:s}=Vr(e,n);if(i&&Object.prototype.hasOwnProperty.call(i,s))return i[s]},mx=(e,n,i)=>{const s=Fo(e,i);return s!==void 0?s:Fo(n,i)},Im=(e,n,i)=>{for(const s in n)s!=="__proto__"&&s!=="constructor"&&(s in e?ce(e[s])||e[s]instanceof String||ce(n[s])||n[s]instanceof String?i&&(e[s]=n[s]):Im(e[s],n[s],i):e[s]=n[s]);return e},wi=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var gx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vx=e=>ce(e)?e.replace(/[&<>"'\/]/g,n=>gx[n]):e;class yx{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const i=this.regExpMap.get(n);if(i!==void 0)return i;const s=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,s),this.regExpQueue.push(n),s}}const _x=[" ",",","?","!",";"],xx=new yx(20),wx=(e,n,i)=>{n=n||"",i=i||"";const s=_x.filter(u=>n.indexOf(u)<0&&i.indexOf(u)<0);if(s.length===0)return!0;const a=xx.getRegExp(`(${s.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(e);if(!l){const u=e.indexOf(i);u>0&&!a.test(e.substring(0,u))&&(l=!0)}return l},mc=(e,n,i=".")=>{if(!e)return;if(e[n])return Object.prototype.hasOwnProperty.call(e,n)?e[n]:void 0;const s=n.split(i);let a=e;for(let l=0;l<s.length;){if(!a||typeof a!="object")return;let u,f="";for(let p=l;p<s.length;++p)if(p!==l&&(f+=i),f+=s[p],u=a[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&p<s.length-1)continue;l+=p-l+1;break}a=u}return a},os=e=>e==null?void 0:e.replace("_","-"),Sx={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,n){var i,s;(s=(i=console==null?void 0:console[e])==null?void 0:i.apply)==null||s.call(i,console,n)}};class Bo{constructor(n,i={}){this.init(n,i)}init(n,i={}){this.prefix=i.prefix||"i18next:",this.logger=n||Sx,this.options=i,this.debug=i.debug}log(...n){return this.forward(n,"log","",!0)}warn(...n){return this.forward(n,"warn","",!0)}error(...n){return this.forward(n,"error","")}deprecate(...n){return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(n,i,s,a){return a&&!this.debug?null:(ce(n[0])&&(n[0]=`${s}${this.prefix} ${n[0]}`),this.logger[i](n))}create(n){return new Bo(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Bo(this.logger,n)}}var Jt=new Bo;class sa{constructor(){this.observers={}}on(n,i){return n.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(i)||0;this.observers[s].set(i,a+1)}),this}off(n,i){if(this.observers[n]){if(!i){delete this.observers[n];return}this.observers[n].delete(i)}}emit(n,...i){this.observers[n]&&Array.from(this.observers[n].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[n,...i])})}}class qh extends sa{constructor(n,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=n||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const i=this.options.ns.indexOf(n);i>-1&&this.options.ns.splice(i,1)}getResource(n,i,s,a={}){var g,S;const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;n.indexOf(".")>-1?f=n.split("."):(f=[n,i],s&&(Array.isArray(s)?f.push(...s):ce(s)&&l?f.push(...s.split(l)):f.push(s)));const p=Fo(this.data,f);return!p&&!i&&!s&&n.indexOf(".")>-1&&(n=f[0],i=f[1],s=f.slice(2).join(".")),p||!u||!ce(s)?p:mc((S=(g=this.data)==null?void 0:g[n])==null?void 0:S[i],s,l)}addResource(n,i,s,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let f=[n,i];s&&(f=f.concat(u?s.split(u):s)),n.indexOf(".")>-1&&(f=n.split("."),a=i,i=f[1]),this.addNamespaces(i),Kh(this.data,f,a),l.silent||this.emit("added",n,i,s,a)}addResources(n,i,s,a={silent:!1}){for(const l in s)(ce(s[l])||Array.isArray(s[l]))&&this.addResource(n,i,l,s[l],{silent:!0});a.silent||this.emit("added",n,i,s)}addResourceBundle(n,i,s,a,l,u={silent:!1,skipCopy:!1}){let f=[n,i];n.indexOf(".")>-1&&(f=n.split("."),a=s,s=i,i=f[1]),this.addNamespaces(i);let p=Fo(this.data,f)||{};u.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?Im(p,s,l):p={...p,...s},Kh(this.data,f,p),u.silent||this.emit("added",n,i,s)}removeResourceBundle(n,i){this.hasResourceBundle(n,i)&&delete this.data[n][i],this.removeNamespaces(i),this.emit("removed",n,i)}hasResourceBundle(n,i){return this.getResource(n,i)!==void 0}getResourceBundle(n,i){return i||(i=this.options.defaultNS),this.getResource(n,i)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const i=this.getDataByLanguage(n);return!!(i&&Object.keys(i)||[]).find(a=>i[a]&&Object.keys(i[a]).length>0)}toJSON(){return this.data}}var Am={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,n,i,s,a){return e.forEach(l=>{var u;n=((u=this.processors[l])==null?void 0:u.process(n,i,s,a))??n}),n}};const Dm=Symbol("i18next/PATH_KEY");function Cx(){const e=[],n=Object.create(null);let i;return n.get=(s,a)=>{var l;return(l=i==null?void 0:i.revoke)==null||l.call(i),a===Dm?e:(e.push(a),i=Proxy.revocable(s,n),i.proxy)},Proxy.revocable(Object.create(null),n).proxy}function gc(e,n){const{[Dm]:i}=e(Cx());return i.join((n==null?void 0:n.keySeparator)??".")}const Qh={},ml=e=>!ce(e)&&typeof e!="boolean"&&typeof e!="number";class Vo extends sa{constructor(n,i={}){super(),hx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jt.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n,i={interpolation:{}}){const s={...i};if(n==null)return!1;const a=this.resolve(n,s);if((a==null?void 0:a.res)===void 0)return!1;const l=ml(a.res);return!(s.returnObjects===!1&&l)}extractFromKey(n,i){let s=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=i.ns||this.options.defaultNS||[];const u=s&&n.indexOf(s)>-1,f=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!wx(n,s,a);if(u&&!f){const p=n.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:n,namespaces:ce(l)?[l]:l};const g=n.split(s);(s!==a||s===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),n=g.join(a)}return{key:n,namespaces:ce(l)?[l]:l}}translate(n,i,s){let a=typeof i=="object"?{...i}:i;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),n==null)return"";typeof n=="function"&&(n=gc(n,{...this.options,...a})),Array.isArray(n)||(n=[String(n)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:f,namespaces:p}=this.extractFromKey(n[n.length-1],a),g=p[p.length-1];let S=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const y=a.lng||this.language,C=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return C?l?{res:`${g}${S}${f}`,usedKey:f,exactUsedKey:f,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${S}${f}`:l?{res:f,usedKey:f,exactUsedKey:f,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:f;const k=this.resolve(n,a);let T=k==null?void 0:k.res;const b=(k==null?void 0:k.usedKey)||f,H=(k==null?void 0:k.exactUsedKey)||f,x=["[object Number]","[object Function]","[object RegExp]"],_=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,N=a.count!==void 0&&!ce(a.count),R=Vo.hasDefaultValue(a),I=N?this.pluralResolver.getSuffix(y,a.count,a):"",j=a.ordinal&&N?this.pluralResolver.getSuffix(y,a.count,{ordinal:!1}):"",O=N&&!a.ordinal&&a.count===0,F=O&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${I}`]||a[`defaultValue${j}`]||a.defaultValue;let z=T;w&&!T&&R&&(z=F);const Y=ml(z),G=Object.prototype.toString.apply(z);if(w&&z&&Y&&x.indexOf(G)<0&&!(ce(_)&&Array.isArray(z))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,z,{...a,ns:p}):`key '${f} (${this.language})' returned an object instead of string.`;return l?(k.res=$,k.usedParams=this.getUsedParamsDetails(a),k):$}if(u){const $=Array.isArray(z),A=$?[]:{},q=$?H:b;for(const te in z)if(Object.prototype.hasOwnProperty.call(z,te)){const ge=`${q}${u}${te}`;R&&!T?A[te]=this.translate(ge,{...a,defaultValue:ml(F)?F[te]:void 0,joinArrays:!1,ns:p}):A[te]=this.translate(ge,{...a,joinArrays:!1,ns:p}),A[te]===ge&&(A[te]=z[te])}T=A}}else if(w&&ce(_)&&Array.isArray(T))T=T.join(_),T&&(T=this.extendTranslation(T,n,a,s));else{let $=!1,A=!1;!this.isValidLookup(T)&&R&&($=!0,T=F),this.isValidLookup(T)||(A=!0,T=f);const te=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:T,ge=R&&F!==T&&this.options.updateMissing;if(A||$||ge){if(this.logger.log(ge?"updateKey":"missingKey",y,g,f,ge?F:T),u){const X=this.resolve(f,{...a,keySeparator:!1});X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ie&&ie[0])for(let X=0;X<ie.length;X++)B.push(ie[X]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(a.lng||this.language):B.push(a.lng||this.language);const U=(X,oe,_e)=>{var K;const pe=R&&_e!==T?_e:te;this.options.missingKeyHandler?this.options.missingKeyHandler(X,g,oe,pe,ge,a):(K=this.backendConnector)!=null&&K.saveMissing&&this.backendConnector.saveMissing(X,g,oe,pe,ge,a),this.emit("missingKey",X,g,oe,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?B.forEach(X=>{const oe=this.pluralResolver.getSuffixes(X,a);O&&a[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(_e=>{U([X],f+_e,a[`defaultValue${_e}`]||F)})}):U(B,f,F))}T=this.extendTranslation(T,n,a,k,s),A&&T===f&&this.options.appendNamespaceToMissingKey&&(T=`${g}${S}${f}`),(A||$)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${S}${f}`:f,$?T:void 0,a))}return l?(k.res=T,k.usedParams=this.getUsedParamsDetails(a),k):T}extendTranslation(n,i,s,a,l){var p,g;if((p=this.i18nFormat)!=null&&p.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const S=ce(n)&&(((g=s==null?void 0:s.interpolation)==null?void 0:g.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(S){const k=n.match(this.interpolator.nestingRegexp);y=k&&k.length}let C=s.replace&&!ce(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(C={...this.options.interpolation.defaultVariables,...C}),n=this.interpolator.interpolate(n,C,s.lng||this.language||a.usedLng,s),S){const k=n.match(this.interpolator.nestingRegexp),T=k&&k.length;y<T&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(n=this.interpolator.nest(n,(...k)=>(l==null?void 0:l[0])===k[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${k[0]} in key: ${i[0]}`),null):this.translate(...k,i),s)),s.interpolation&&this.interpolator.reset()}const u=s.postProcess||this.options.postProcess,f=ce(u)?[u]:u;return n!=null&&(f!=null&&f.length)&&s.applyPostProcessor!==!1&&(n=Am.handle(f,n,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),n}resolve(n,i={}){let s,a,l,u,f;return ce(n)&&(n=[n]),n.forEach(p=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(p,i),S=g.key;a=S;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const C=i.count!==void 0&&!ce(i.count),k=C&&!i.ordinal&&i.count===0,T=i.context!==void 0&&(ce(i.context)||typeof i.context=="number")&&i.context!=="",b=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);y.forEach(H=>{var x,_;this.isValidLookup(s)||(f=H,!Qh[`${b[0]}-${H}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((_=this.utils)!=null&&_.hasLoadedNamespace(f))&&(Qh[`${b[0]}-${H}`]=!0,this.logger.warn(`key "${a}" for languages "${b.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(w=>{var I;if(this.isValidLookup(s))return;u=w;const N=[S];if((I=this.i18nFormat)!=null&&I.addLookupKeys)this.i18nFormat.addLookupKeys(N,S,w,H,i);else{let j;C&&(j=this.pluralResolver.getSuffix(w,i.count,i));const O=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(C&&(i.ordinal&&j.indexOf(F)===0&&N.push(S+j.replace(F,this.options.pluralSeparator)),N.push(S+j),k&&N.push(S+O)),T){const z=`${S}${this.options.contextSeparator||"_"}${i.context}`;N.push(z),C&&(i.ordinal&&j.indexOf(F)===0&&N.push(z+j.replace(F,this.options.pluralSeparator)),N.push(z+j),k&&N.push(z+O))}}let R;for(;R=N.pop();)this.isValidLookup(s)||(l=R,s=this.getResource(w,H,R,i))}))})}),{res:s,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:f}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,i,s,a={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(n,i,s,a):this.resourceStore.getResource(n,i,s,a)}getUsedParamsDetails(n={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=n.replace&&!ce(n.replace);let a=s?n.replace:n;if(s&&typeof n.count<"u"&&(a.count=n.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const l of i)delete a[l]}return a}static hasDefaultValue(n){const i="defaultValue";for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&i===s.substring(0,i.length)&&n[s]!==void 0)return!0;return!1}}class Yh{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jt.create("languageUtils")}getScriptPartFromCode(n){if(n=os(n),!n||n.indexOf("-")<0)return null;const i=n.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(n){if(n=os(n),!n||n.indexOf("-")<0)return n;const i=n.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(n){if(ce(n)&&n.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(n)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?n.toLowerCase():n)}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let i;return n.forEach(s=>{if(i)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(i=a)}),!i&&this.options.supportedLngs&&n.forEach(s=>{if(i)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return i=a;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return i=l;i=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(n,i){if(!n)return[];if(typeof n=="function"&&(n=n(i)),ce(n)&&(n=[n]),Array.isArray(n))return n;if(!i)return n.default||[];let s=n[i];return s||(s=n[this.getScriptPartFromCode(i)]),s||(s=n[this.formatLanguageCode(i)]),s||(s=n[this.getLanguagePartFromCode(i)]),s||(s=n.default),s||[]}toResolveHierarchy(n,i){const s=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],n),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return ce(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(n))):ce(n)&&l(this.formatLanguageCode(n)),s.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const Jh={zero:0,one:1,two:2,few:3,many:4,other:5},Xh={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Nx{constructor(n,i={}){this.languageUtils=n,this.options=i,this.logger=Jt.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(n,i={}){const s=os(n==="dev"?"en":n),a=i.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Xh;if(!n.match(/-|_/))return Xh;const p=this.languageUtils.getLanguagePartFromCode(n);u=this.getRule(p,i)}return this.pluralRulesCache[l]=u,u}needsPlural(n,i={}){let s=this.getRule(n,i);return s||(s=this.getRule("dev",i)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(n,i,s={}){return this.getSuffixes(n,s).map(a=>`${i}${a}`)}getSuffixes(n,i={}){let s=this.getRule(n,i);return s||(s=this.getRule("dev",i)),s?s.resolvedOptions().pluralCategories.sort((a,l)=>Jh[a]-Jh[l]).map(a=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(n,i,s={}){const a=this.getRule(n,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(i)}`:(this.logger.warn(`no plural rule found for: ${n}`),this.getSuffix("dev",i,s))}}const ef=(e,n,i,s=".",a=!0)=>{let l=mx(e,n,i);return!l&&a&&ce(i)&&(l=mc(e,i,s),l===void 0&&(l=mc(n,i,s))),l},gl=e=>e.replace(/\$/g,"$$$$");class tf{constructor(n={}){var i;this.logger=Jt.create("interpolator"),this.options=n,this.format=((i=n==null?void 0:n.interpolation)==null?void 0:i.format)||(s=>s),this.init(n)}init(n={}){n.interpolation||(n.interpolation={escapeValue:!0});const{escape:i,escapeValue:s,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:f,suffixEscaped:p,formatSeparator:g,unescapeSuffix:S,unescapePrefix:y,nestingPrefix:C,nestingPrefixEscaped:k,nestingSuffix:T,nestingSuffixEscaped:b,nestingOptionsSeparator:H,maxReplaces:x,alwaysFormat:_}=n.interpolation;this.escape=i!==void 0?i:vx,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?wi(l):u||"{{",this.suffix=f?wi(f):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=S?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=C?wi(C):k||wi("$t("),this.nestingSuffix=T?wi(T):b||wi(")"),this.nestingOptionsSeparator=H||",",this.maxReplaces=x||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(i,s)=>(i==null?void 0:i.source)===s?(i.lastIndex=0,i):new RegExp(s,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(n,i,s,a){var k;let l,u,f;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=T=>{if(T.indexOf(this.formatSeparator)<0){const _=ef(i,p,T,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,s,{...a,...i,interpolationkey:T}):_}const b=T.split(this.formatSeparator),H=b.shift().trim(),x=b.join(this.formatSeparator).trim();return this.format(ef(i,p,H,this.options.keySeparator,this.options.ignoreJSONStructure),x,s,{...a,...i,interpolationkey:H})};this.resetRegExp();const S=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((k=a==null?void 0:a.interpolation)==null?void 0:k.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:T=>gl(T)},{regex:this.regexp,safeValue:T=>this.escapeValue?gl(this.escape(T)):gl(T)}].forEach(T=>{for(f=0;l=T.regex.exec(n);){const b=l[1].trim();if(u=g(b),u===void 0)if(typeof S=="function"){const x=S(n,l,a);u=ce(x)?x:""}else if(a&&Object.prototype.hasOwnProperty.call(a,b))u="";else if(y){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${n}`),u="";else!ce(u)&&!this.useRawValueToEscape&&(u=$h(u));const H=T.safeValue(u);if(n=n.replace(l[0],H),y?(T.regex.lastIndex+=u.length,T.regex.lastIndex-=l[0].length):T.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),n}nest(n,i,s={}){let a,l,u;const f=(p,g)=>{const S=this.nestingOptionsSeparator;if(p.indexOf(S)<0)return p;const y=p.split(new RegExp(`${S}[ ]*{`));let C=`{${y[1]}`;p=y[0],C=this.interpolate(C,u);const k=C.match(/'/g),T=C.match(/"/g);(((k==null?void 0:k.length)??0)%2===0&&!T||T.length%2!==0)&&(C=C.replace(/'/g,'"'));try{u=JSON.parse(C),g&&(u={...g,...u})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,b),`${p}${S}${C}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,p};for(;a=this.nestingRegexp.exec(n);){let p=[];u={...s},u=u.replace&&!ce(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(p=a[1].slice(g).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),l=i(f.call(this,a[1].trim(),u),u),l&&a[0]===n&&!ce(l))return l;ce(l)||(l=$h(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${n}`),l=""),p.length&&(l=p.reduce((S,y)=>this.format(S,y,s.lng,{...s,interpolationkey:a[1].trim()}),l.trim())),n=n.replace(a[0],l),this.regexp.lastIndex=0}return n}}const kx=e=>{let n=e.toLowerCase().trim();const i={};if(e.indexOf("(")>-1){const s=e.split("(");n=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);n==="currency"&&a.indexOf(":")<0?i.currency||(i.currency=a.trim()):n==="relativetime"&&a.indexOf(":")<0?i.range||(i.range=a.trim()):a.split(";").forEach(u=>{if(u){const[f,...p]=u.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),S=f.trim();i[S]||(i[S]=g),g==="false"&&(i[S]=!1),g==="true"&&(i[S]=!0),isNaN(g)||(i[S]=parseInt(g,10))}})}return{formatName:n,formatOptions:i}},nf=e=>{const n={};return(i,s,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=s+JSON.stringify(l);let f=n[u];return f||(f=e(os(s),a),n[u]=f),f(i)}},Px=e=>(n,i,s)=>e(os(i),s)(n);class Lx{constructor(n={}){this.logger=Jt.create("formatter"),this.options=n,this.init(n)}init(n,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const s=i.cacheInBuiltFormats?nf:Px;this.formats={number:s((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return f=>u.format(f)}),currency:s((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return f=>u.format(f)}),datetime:s((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return f=>u.format(f)}),relativetime:s((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return f=>u.format(f,l.range||"day")}),list:s((a,l)=>{const u=new Intl.ListFormat(a,{...l});return f=>u.format(f)})}}add(n,i){this.formats[n.toLowerCase().trim()]=i}addCached(n,i){this.formats[n.toLowerCase().trim()]=nf(i)}format(n,i,s,a={}){const l=i.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(f=>f.indexOf(")")>-1)){const f=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,f)].join(this.formatSeparator)}return l.reduce((f,p)=>{var y;const{formatName:g,formatOptions:S}=kx(p);if(this.formats[g]){let C=f;try{const k=((y=a==null?void 0:a.formatParams)==null?void 0:y[a.interpolationkey])||{},T=k.locale||k.lng||a.locale||a.lng||s;C=this.formats[g](f,T,{...S,...a,...k})}catch(k){this.logger.warn(k)}return C}else this.logger.warn(`there was no format function for ${g}`);return f},n)}}const Ex=(e,n)=>{e.pending[n]!==void 0&&(delete e.pending[n],e.pendingCount--)};class Tx extends sa{constructor(n,i,s,a={}){var l,u;super(),this.backend=n,this.store=i,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=Jt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(l=this.backend)==null?void 0:l.init)==null||u.call(l,s,a.backend,a)}queueLoad(n,i,s,a){const l={},u={},f={},p={};return n.forEach(g=>{let S=!0;i.forEach(y=>{const C=`${g}|${y}`;!s.reload&&this.store.hasResourceBundle(g,y)?this.state[C]=2:this.state[C]<0||(this.state[C]===1?u[C]===void 0&&(u[C]=!0):(this.state[C]=1,S=!1,u[C]===void 0&&(u[C]=!0),l[C]===void 0&&(l[C]=!0),p[y]===void 0&&(p[y]=!0)))}),S||(f[g]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(p)}}loaded(n,i,s){const a=n.split("|"),l=a[0],u=a[1];i&&this.emit("failedLoading",l,u,i),!i&&s&&this.store.addResourceBundle(l,u,s,void 0,void 0,{skipCopy:!0}),this.state[n]=i?-1:2,i&&s&&(this.state[n]=0);const f={};this.queue.forEach(p=>{px(p.loaded,[l],u),Ex(p,n),i&&p.errors.push(i),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{f[g]||(f[g]={});const S=p.loaded[g];S.length&&S.forEach(y=>{f[g][y]===void 0&&(f[g][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(p=>!p.done)}read(n,i,s,a=0,l=this.retryTimeout,u){if(!n.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:i,fcName:s,tried:a,wait:l,callback:u});return}this.readingCalls++;const f=(g,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&S&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,n,i,s,a+1,l*2,u)},l);return}u(g,S)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const g=p(n,i);g&&typeof g.then=="function"?g.then(S=>f(null,S)).catch(f):f(null,g)}catch(g){f(g)}return}return p(n,i,f)}prepareLoading(n,i,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();ce(n)&&(n=this.languageUtils.toResolveHierarchy(n)),ce(i)&&(i=[i]);const l=this.queueLoad(n,i,s,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(n,i,s){this.prepareLoading(n,i,{},s)}reload(n,i,s){this.prepareLoading(n,i,{reload:!0},s)}loadOne(n,i=""){const s=n.split("|"),a=s[0],l=s[1];this.read(a,l,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${i}loading namespace ${l} for language ${a} failed`,u),!u&&f&&this.logger.log(`${i}loaded namespace ${l} for language ${a}`,f),this.loaded(n,u,f)})}saveMissing(n,i,s,a,l,u={},f=()=>{}){var p,g,S,y,C;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((y=(S=this.services)==null?void 0:S.utils)!=null&&y.hasLoadedNamespace(i))){this.logger.warn(`did not save key "${s}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((C=this.backend)!=null&&C.create){const k={...u,isUpdate:l},T=this.backend.create.bind(this.backend);if(T.length<6)try{let b;T.length===5?b=T(n,i,s,a,k):b=T(n,i,s,a),b&&typeof b.then=="function"?b.then(H=>f(null,H)).catch(f):f(null,b)}catch(b){f(b)}else T(n,i,s,a,f,k)}!n||!n[0]||this.store.addResource(n[0],i,s,a)}}}const vl=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let n={};if(typeof e[1]=="object"&&(n=e[1]),ce(e[1])&&(n.defaultValue=e[1]),ce(e[2])&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(s=>{n[s]=i[s]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),rf=e=>{var n,i;return ce(e.ns)&&(e.ns=[e.ns]),ce(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ce(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((i=(n=e.supportedLngs)==null?void 0:n.indexOf)==null?void 0:i.call(n,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ks=()=>{},bx=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(i=>{typeof e[i]=="function"&&(e[i]=e[i].bind(e))})};class Ur extends sa{constructor(n={},i){if(super(),this.options=rf(n),this.services={},this.logger=Jt,this.modules={external:[]},bx(this),i&&!this.isInitialized&&!n.isClone){if(!this.options.initAsync)return this.init(n,i),this;setTimeout(()=>{this.init(n,i)},0)}}init(n={},i){this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),n.defaultNS==null&&n.ns&&(ce(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=vl();this.options={...s,...this.options,...rf(n)},this.options.interpolation={...s.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Jt.init(a(this.modules.logger),this.options):Jt.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=Lx;const S=new Yh(this.options);this.store=new qh(this.options.resources,this.options);const y=this.services;y.logger=Jt,y.resourceStore=this.store,y.languageUtils=S,y.pluralResolver=new Nx(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(y.formatter=a(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new tf(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new Tx(a(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(k,...T)=>{this.emit(k,...T)}),this.modules.languageDetector&&(y.languageDetector=a(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=a(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Vo(this.services,this.options),this.translator.on("*",(k,...T)=>{this.emit(k,...T)}),this.modules.external.forEach(k=>{k.init&&k.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Ks),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...S)=>this.store[g](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...S)=>(this.store[g](...S),this)});const f=Nr(),p=()=>{const g=(S,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(y),i(S,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),f}loadResources(n,i=Ks){var l,u;let s=i;const a=ce(n)?n:this.language;if(typeof n=="function"&&(s=n),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const f=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(y=>{y!=="cimode"&&f.indexOf(y)<0&&f.push(y)})};a?p(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(S=>p(S)),(u=(l=this.options.preload)==null?void 0:l.forEach)==null||u.call(l,g=>p(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(g)})}else s(null)}reloadResources(n,i,s){const a=Nr();return typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=void 0),n||(n=this.languages),i||(i=this.options.ns),s||(s=Ks),this.services.backendConnector.reload(n,i,l=>{a.resolve(),s(l)}),a}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Am.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1)){for(let i=0;i<this.languages.length;i++){const s=this.languages[i];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(n)<0&&this.store.hasLanguageSomeTranslations(n)&&(this.resolvedLanguage=n,this.languages.unshift(n))}}changeLanguage(n,i){this.isLanguageChangingTo=n;const s=Nr();this.emit("languageChanging",n);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},l=(f,p)=>{p?this.isLanguageChangingTo===n&&(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),i&&i(f,(...g)=>this.t(...g))},u=f=>{var S,y;!n&&!f&&this.services.languageDetector&&(f=[]);const p=ce(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(ce(f)?[f]:f);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),(y=(S=this.services.languageDetector)==null?void 0:S.cacheUserLanguage)==null||y.call(S,g)),this.loadResources(g,C=>{l(C,g)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(n),s}getFixedT(n,i,s){const a=(l,u,...f)=>{let p;typeof u!="object"?p=this.options.overloadTranslationOptionHandler([l,u].concat(f)):p={...u},p.lng=p.lng||a.lng,p.lngs=p.lngs||a.lngs,p.ns=p.ns||a.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||a.keyPrefix);const g=this.options.keySeparator||".";let S;return p.keyPrefix&&Array.isArray(l)?S=l.map(y=>(typeof y=="function"&&(y=gc(y,{...this.options,...u})),`${p.keyPrefix}${g}${y}`)):(typeof l=="function"&&(l=gc(l,{...this.options,...u})),S=p.keyPrefix?`${p.keyPrefix}${g}${l}`:l),this.t(S,p)};return ce(n)?a.lng=n:a.lngs=n,a.ns=i,a.keyPrefix=s,a}t(...n){var i;return(i=this.translator)==null?void 0:i.translate(...n)}exists(...n){var i;return(i=this.translator)==null?void 0:i.exists(...n)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=i.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const u=(f,p)=>{const g=this.services.backendConnector.state[`${f}|${p}`];return g===-1||g===0||g===2};if(i.precheck){const f=i.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,n)&&(!a||u(l,n)))}loadNamespaces(n,i){const s=Nr();return this.options.ns?(ce(n)&&(n=[n]),n.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),i&&i(a)}),s):(i&&i(),Promise.resolve())}loadLanguages(n,i){const s=Nr();ce(n)&&(n=[n]);const a=this.options.preload||[],l=n.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{s.resolve(),i&&i(u)}),s):(i&&i(),Promise.resolve())}dir(n){var a,l;if(n||(n=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!n)return"rtl";try{const u=new Intl.Locale(n);if(u&&u.getTextInfo){const f=u.getTextInfo();if(f&&f.direction)return f.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((l=this.services)==null?void 0:l.languageUtils)||new Yh(vl());return n.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(s.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(n={},i){const s=new Ur(n,i);return s.createInstance=Ur.createInstance,s}cloneInstance(n={},i=Ks){const s=n.forkResourceStore;s&&delete n.forkResourceStore;const a={...this.options,...n,isClone:!0},l=new Ur(a);if((n.debug!==void 0||n.prefix!==void 0)&&(l.logger=l.logger.clone(n)),["store","services","language"].forEach(f=>{l[f]=this[f]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const f=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((S,y)=>(S[y]={...p[g][y]},S),p[g]),p),{});l.store=new qh(f,a),l.services.resourceStore=l.store}if(n.interpolation){const p={...vl().interpolation,...this.options.interpolation,...n.interpolation},g={...a,interpolation:p};l.services.interpolator=new tf(g)}return l.translator=new Vo(l.services,a),l.translator.on("*",(f,...p)=>{l.emit(f,...p)}),l.init(a,i),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const lt=Ur.createInstance();lt.createInstance;lt.dir;lt.init;lt.loadResources;lt.reloadResources;lt.use;lt.changeLanguage;lt.getFixedT;lt.t;lt.exists;lt.setDefaultNamespace;lt.hasLoadedNamespace;lt.loadNamespaces;lt.loadLanguages;const jx=(e,n,i,s)=>{var l,u,f,p;const a=[i,{code:n,...s||{}}];if((u=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&u.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);ai(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(p=(f=e==null?void 0:e.services)==null?void 0:f.logger)!=null&&p.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},sf={},zm=(e,n,i,s)=>{ai(i)&&sf[i]||(ai(i)&&(sf[i]=new Date),jx(e,n,i,s))},Fm=(e,n)=>()=>{if(e.isInitialized)n();else{const i=()=>{setTimeout(()=>{e.off("initialized",i)},0),n()};e.on("initialized",i)}},vc=(e,n,i)=>{e.loadNamespaces(n,Fm(e,i))},of=(e,n,i,s)=>{if(ai(i)&&(i=[i]),e.options.preload&&e.options.preload.indexOf(n)>-1)return vc(e,i,s);i.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(n,Fm(e,s))},Ox=(e,n,i={})=>!n.languages||!n.languages.length?(zm(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:i.lng,precheck:(s,a)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,e))return!1}}),ai=e=>typeof e=="string",Mx=e=>typeof e=="object"&&e!==null,Rx=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ix={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Ax=e=>Ix[e],Dx=e=>e.replace(Rx,Ax);let yc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Dx,transDefaultProps:void 0};const zx=(e={})=>{yc={...yc,...e}},Fx=()=>yc;let Bm;const Bx=e=>{Bm=e},Vx=()=>Bm,Ux={type:"3rdParty",init(e){zx(e.options.react),Bx(e)}},Zx=E.createContext();class Hx{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Vm={exports:{}},Um={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=E;function $x(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Wx=typeof Object.is=="function"?Object.is:$x,Gx=qi.useState,Kx=qi.useEffect,qx=qi.useLayoutEffect,Qx=qi.useDebugValue;function Yx(e,n){var i=n(),s=Gx({inst:{value:i,getSnapshot:n}}),a=s[0].inst,l=s[1];return qx(function(){a.value=i,a.getSnapshot=n,yl(a)&&l({inst:a})},[e,i,n]),Kx(function(){return yl(a)&&l({inst:a}),e(function(){yl(a)&&l({inst:a})})},[e]),Qx(i),i}function yl(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Wx(e,i)}catch{return!0}}function Jx(e,n){return n()}var Xx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jx:Yx;Um.useSyncExternalStore=qi.useSyncExternalStore!==void 0?qi.useSyncExternalStore:Xx;Vm.exports=Um;var ew=Vm.exports;const tw=(e,n)=>ai(n)?n:Mx(n)&&ai(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,nw={t:tw,ready:!1},iw=()=>()=>{},Qe=(e,n={})=>{var F,z,Y;const{i18n:i}=n,{i18n:s,defaultNS:a}=E.useContext(Zx)||{},l=i||s||Vx();l&&!l.reportNamespaces&&(l.reportNamespaces=new Hx),l||zm(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=E.useMemo(()=>{var G;return{...Fx(),...(G=l==null?void 0:l.options)==null?void 0:G.react,...n}},[l,n]),{useSuspense:f,keyPrefix:p}=u,g=a||((F=l==null?void 0:l.options)==null?void 0:F.defaultNS),S=ai(g)?[g]:g||["translation"],y=E.useMemo(()=>S,S);(Y=(z=l==null?void 0:l.reportNamespaces)==null?void 0:z.addUsedNamespaces)==null||Y.call(z,y);const C=E.useRef(0),k=E.useCallback(G=>{if(!l)return iw;const{bindI18n:$,bindI18nStore:A}=u,q=()=>{C.current+=1,G()};return $&&l.on($,q),A&&l.store.on(A,q),()=>{$&&$.split(" ").forEach(te=>l.off(te,q)),A&&A.split(" ").forEach(te=>l.store.off(te,q))}},[l,u]),T=E.useRef(),b=E.useCallback(()=>{if(!l)return nw;const G=!!(l.isInitialized||l.initializedStoreOnce)&&y.every(B=>Ox(B,l,u)),$=n.lng||l.language,A=C.current,q=T.current;if(q&&q.ready===G&&q.lng===$&&q.keyPrefix===p&&q.revision===A)return q;const ge={t:l.getFixedT($,u.nsMode==="fallback"?y:y[0],p),ready:G,lng:$,keyPrefix:p,revision:A};return T.current=ge,ge},[l,y,p,u,n.lng]),[H,x]=E.useState(0),{t:_,ready:w}=ew.useSyncExternalStore(k,b,b);E.useEffect(()=>{if(l&&!w&&!f){const G=()=>x($=>$+1);n.lng?of(l,n.lng,y,G):vc(l,y,G)}},[l,n.lng,y,w,f,H]);const N=l||{},R=E.useRef(null),I=E.useRef(),j=G=>{const $=Object.getOwnPropertyDescriptors(G);$.__original&&delete $.__original;const A=Object.create(Object.getPrototypeOf(G),$);if(!Object.prototype.hasOwnProperty.call(A,"__original"))try{Object.defineProperty(A,"__original",{value:G,writable:!1,enumerable:!1,configurable:!1})}catch{}return A},O=E.useMemo(()=>{const G=N,$=G==null?void 0:G.language;let A=G;G&&(R.current&&R.current.__original===G?I.current!==$?(A=j(G),R.current=A,I.current=$):A=R.current:(A=j(G),R.current=A,I.current=$));const q=[_,A,w];return q.t=_,q.i18n=A,q.ready=w,q},[_,N,w,N.resolvedLanguage,N.language,N.languages]);if(l&&f&&!w)throw new Promise(G=>{const $=()=>G();n.lng?of(l,n.lng,y,$):vc(l,y,$)});return O},nn=Object.create(null);nn.open="0";nn.close="1";nn.ping="2";nn.pong="3";nn.message="4";nn.upgrade="5";nn.noop="6";const co=Object.create(null);Object.keys(nn).forEach(e=>{co[nn[e]]=e});const _c={type:"error",data:"parser error"},Zm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Hm=typeof ArrayBuffer=="function",$m=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Su=({type:e,data:n},i,s)=>Zm&&n instanceof Blob?i?s(n):af(n,s):Hm&&(n instanceof ArrayBuffer||$m(n))?i?s(n):af(new Blob([n]),s):s(nn[e]+(n||"")),af=(e,n)=>{const i=new FileReader;return i.onload=function(){const s=i.result.split(",")[1];n("b"+(s||""))},i.readAsDataURL(e)};function lf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let _l;function rw(e,n){if(Zm&&e.data instanceof Blob)return e.data.arrayBuffer().then(lf).then(n);if(Hm&&(e.data instanceof ArrayBuffer||$m(e.data)))return n(lf(e.data));Su(e,!1,i=>{_l||(_l=new TextEncoder),n(_l.encode(i))})}const cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<cf.length;e++)jr[cf.charCodeAt(e)]=e;const sw=e=>{let n=e.length*.75,i=e.length,s,a=0,l,u,f,p;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);const g=new ArrayBuffer(n),S=new Uint8Array(g);for(s=0;s<i;s+=4)l=jr[e.charCodeAt(s)],u=jr[e.charCodeAt(s+1)],f=jr[e.charCodeAt(s+2)],p=jr[e.charCodeAt(s+3)],S[a++]=l<<2|u>>4,S[a++]=(u&15)<<4|f>>2,S[a++]=(f&3)<<6|p&63;return g},ow=typeof ArrayBuffer=="function",Cu=(e,n)=>{if(typeof e!="string")return{type:"message",data:Wm(e,n)};const i=e.charAt(0);return i==="b"?{type:"message",data:aw(e.substring(1),n)}:co[i]?e.length>1?{type:co[i],data:e.substring(1)}:{type:co[i]}:_c},aw=(e,n)=>{if(ow){const i=sw(e);return Wm(i,n)}else return{base64:!0,data:e}},Wm=(e,n)=>{switch(n){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Gm="",lw=(e,n)=>{const i=e.length,s=new Array(i);let a=0;e.forEach((l,u)=>{Su(l,!1,f=>{s[u]=f,++a===i&&n(s.join(Gm))})})},cw=(e,n)=>{const i=e.split(Gm),s=[];for(let a=0;a<i.length;a++){const l=Cu(i[a],n);if(s.push(l),l.type==="error")break}return s};function uw(){return new TransformStream({transform(e,n){rw(e,i=>{const s=i.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),n.enqueue(a),n.enqueue(i)})}})}let xl;function qs(e){return e.reduce((n,i)=>n+i.length,0)}function Qs(e,n){if(e[0].length===n)return e.shift();const i=new Uint8Array(n);let s=0;for(let a=0;a<n;a++)i[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),i}function dw(e,n){xl||(xl=new TextDecoder);const i=[];let s=0,a=-1,l=!1;return new TransformStream({transform(u,f){for(i.push(u);;){if(s===0){if(qs(i)<1)break;const p=Qs(i,1);l=(p[0]&128)===128,a=p[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(qs(i)<2)break;const p=Qs(i,2);a=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(qs(i)<8)break;const p=Qs(i,8),g=new DataView(p.buffer,p.byteOffset,p.length),S=g.getUint32(0);if(S>Math.pow(2,21)-1){f.enqueue(_c);break}a=S*Math.pow(2,32)+g.getUint32(4),s=3}else{if(qs(i)<a)break;const p=Qs(i,a);f.enqueue(Cu(l?p:xl.decode(p),n)),s=0}if(a===0||a>e){f.enqueue(_c);break}}}})}const Km=4;function Be(e){if(e)return hw(e)}function hw(e){for(var n in Be.prototype)e[n]=Be.prototype[n];return e}Be.prototype.on=Be.prototype.addEventListener=function(e,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(n),this};Be.prototype.once=function(e,n){function i(){this.off(e,i),n.apply(this,arguments)}return i.fn=n,this.on(e,i),this};Be.prototype.off=Be.prototype.removeListener=Be.prototype.removeAllListeners=Be.prototype.removeEventListener=function(e,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<i.length;a++)if(s=i[a],s===n||s.fn===n){i.splice(a,1);break}return i.length===0&&delete this._callbacks["$"+e],this};Be.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),i=this._callbacks["$"+e],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(i){i=i.slice(0);for(var s=0,a=i.length;s<a;++s)i[s].apply(this,n)}return this};Be.prototype.emitReserved=Be.prototype.emit;Be.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Be.prototype.hasListeners=function(e){return!!this.listeners(e).length};const oa=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,i)=>i(n,0),Et=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fw="arraybuffer";function qm(e,...n){return n.reduce((i,s)=>(e.hasOwnProperty(s)&&(i[s]=e[s]),i),{})}const pw=Et.setTimeout,mw=Et.clearTimeout;function aa(e,n){n.useNativeTimers?(e.setTimeoutFn=pw.bind(Et),e.clearTimeoutFn=mw.bind(Et)):(e.setTimeoutFn=Et.setTimeout.bind(Et),e.clearTimeoutFn=Et.clearTimeout.bind(Et))}const gw=1.33;function vw(e){return typeof e=="string"?yw(e):Math.ceil((e.byteLength||e.size)*gw)}function yw(e){let n=0,i=0;for(let s=0,a=e.length;s<a;s++)n=e.charCodeAt(s),n<128?i+=1:n<2048?i+=2:n<55296||n>=57344?i+=3:(s++,i+=4);return i}function Qm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _w(e){let n="";for(let i in e)e.hasOwnProperty(i)&&(n.length&&(n+="&"),n+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n}function xw(e){let n={},i=e.split("&");for(let s=0,a=i.length;s<a;s++){let l=i[s].split("=");n[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return n}class ww extends Error{constructor(n,i,s){super(n),this.description=i,this.context=s,this.type="TransportError"}}class Nu extends Be{constructor(n){super(),this.writable=!1,aa(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,i,s){return super.emitReserved("error",new ww(n,i,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const i=Cu(n,this.socket.binaryType);this.onPacket(i)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,i={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const i=_w(n);return i.length?"?"+i:""}}class Sw extends Nu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const i=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||i()})),this.writable||(s++,this.once("drain",function(){--s||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const i=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};cw(n,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,lw(n,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Qm()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(n,i)}}let Ym=!1;try{Ym=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Cw=Ym;function Nw(){}class kw extends Sw{constructor(n){if(super(n),typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,i){const s=this.request({method:"POST",data:n});s.on("success",i),s.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(i,s)=>{this.onError("xhr poll error",i,s)}),this.pollXhr=n}}class tn extends Be{constructor(n,i,s){super(),this.createRequest=n,aa(this,s),this._opts=s,this._method=s.method||"GET",this._uri=i,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const i=qm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(i);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=tn.requestsCount++,tn.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Nw,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete tn.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}tn.requestsCount=0;tn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",uf);else if(typeof addEventListener=="function"){const e="onpagehide"in Et?"pagehide":"unload";addEventListener(e,uf,!1)}}function uf(){for(let e in tn.requests)tn.requests.hasOwnProperty(e)&&tn.requests[e].abort()}const Pw=function(){const e=Jm({xdomain:!1});return e&&e.responseType!==null}();class Lw extends kw{constructor(n){super(n);const i=n&&n.forceBase64;this.supportsBinary=Pw&&!i}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new tn(Jm,this.uri(),n)}}function Jm(e){const n=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Cw))return new XMLHttpRequest}catch{}if(!n)try{return new Et[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Xm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ew extends Nu{get name(){return"websocket"}doOpen(){const n=this.uri(),i=this.opts.protocols,s=Xm?{}:qm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,i,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let i=0;i<n.length;i++){const s=n[i],a=i===n.length-1;Su(s,this.supportsBinary,l=>{try{this.doWrite(s,l)}catch{}a&&oa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Qm()),this.supportsBinary||(i.b64=1),this.createUri(n,i)}}const wl=Et.WebSocket||Et.MozWebSocket;class Tw extends Ew{createSocket(n,i,s){return Xm?new wl(n,i,s):i?new wl(n,i):new wl(n)}doWrite(n,i){this.ws.send(i)}}class bw extends Nu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const i=dw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(i).getReader(),a=uw();a.readable.pipeTo(n.writable),this._writer=a.writable.getWriter();const l=()=>{s.read().then(({done:f,value:p})=>{f||(this.onPacket(p),l())}).catch(f=>{})};l();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let i=0;i<n.length;i++){const s=n[i],a=i===n.length-1;this._writer.write(s).then(()=>{a&&oa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const jw={websocket:Tw,webtransport:bw,polling:Lw},Ow=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xc(e){if(e.length>8e3)throw"URI too long";const n=e,i=e.indexOf("["),s=e.indexOf("]");i!=-1&&s!=-1&&(e=e.substring(0,i)+e.substring(i,s).replace(/:/g,";")+e.substring(s,e.length));let a=Ow.exec(e||""),l={},u=14;for(;u--;)l[Mw[u]]=a[u]||"";return i!=-1&&s!=-1&&(l.source=n,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Rw(l,l.path),l.queryKey=Iw(l,l.query),l}function Rw(e,n){const i=/\/{2,9}/g,s=n.replace(i,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Iw(e,n){const i={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,l){a&&(i[a]=l)}),i}const wc=typeof addEventListener=="function"&&typeof removeEventListener=="function",uo=[];wc&&addEventListener("offline",()=>{uo.forEach(e=>e())},!1);class Dn extends Be{constructor(n,i){if(super(),this.binaryType=fw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(i=n,n=null),n){const s=xc(n);i.hostname=s.host,i.secure=s.protocol==="https"||s.protocol==="wss",i.port=s.port,s.query&&(i.query=s.query)}else i.host&&(i.hostname=xc(i.host).host);aa(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xw(this.opts.query)),wc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},uo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const i=Object.assign({},this.opts.query);i.EIO=Km,i.transport=n,this.id&&(i.sid=this.id);const s=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Dn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(n);i.open(),this.setTransport(i)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",Dn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=n.data,this._onError(i);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(i+=vw(a)),s>0&&i>this._maxPayload)return this.writeBuffer.slice(0,s);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,oa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,i,s){return this._sendPacket("message",n,i,s),this}send(n,i,s){return this._sendPacket("message",n,i,s),this}_sendPacket(n,i,s,a){if(typeof i=="function"&&(a=i,i=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:n,data:i,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),n()},s=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Dn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=uo.indexOf(this._offlineEventListener);s!==-1&&uo.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,i),this.writeBuffer=[],this._prevBufferLen=0}}}Dn.protocol=Km;class Aw extends Dn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let i=this.createTransport(n),s=!1;Dn.priorWebsocketSuccess=!1;const a=()=>{s||(i.send([{type:"ping",data:"probe"}]),i.once("packet",y=>{if(!s)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;Dn.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(S(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=i.name,this.emitReserved("upgradeError",C)}}))};function l(){s||(s=!0,S(),i.close(),i=null)}const u=y=>{const C=new Error("probe error: "+y);C.transport=i.name,l(),this.emitReserved("upgradeError",C)};function f(){u("transport closed")}function p(){u("socket closed")}function g(y){i&&y.name!==i.name&&l()}const S=()=>{i.removeListener("open",a),i.removeListener("error",u),i.removeListener("close",f),this.off("close",p),this.off("upgrading",g)};i.once("open",a),i.once("error",u),i.once("close",f),this.once("close",p),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||i.open()},200):i.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const i=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&i.push(n[s]);return i}}let Dw=class extends Aw{constructor(n,i={}){const s=typeof n=="object"?n:i;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>jw[a]).filter(a=>!!a)),super(n,s)}};function zw(e,n="",i){let s=e;i=i||typeof location<"u"&&location,e==null&&(e=i.protocol+"//"+i.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=i.protocol+e:e=i.host+e),/^(https?|wss?):\/\//.test(e)||(typeof i<"u"?e=i.protocol+"//"+e:e="https://"+e),s=xc(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+n,s.href=s.protocol+"://"+l+(i&&i.port===s.port?"":":"+s.port),s}const Fw=typeof ArrayBuffer=="function",Bw=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,eg=Object.prototype.toString,Vw=typeof Blob=="function"||typeof Blob<"u"&&eg.call(Blob)==="[object BlobConstructor]",Uw=typeof File=="function"||typeof File<"u"&&eg.call(File)==="[object FileConstructor]";function ku(e){return Fw&&(e instanceof ArrayBuffer||Bw(e))||Vw&&e instanceof Blob||Uw&&e instanceof File}function ho(e,n){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let i=0,s=e.length;i<s;i++)if(ho(e[i]))return!0;return!1}if(ku(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ho(e.toJSON(),!0);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&ho(e[i]))return!0;return!1}function Zw(e){const n=[],i=e.data,s=e;return s.data=Sc(i,n),s.attachments=n.length,{packet:s,buffers:n}}function Sc(e,n){if(!e)return e;if(ku(e)){const i={_placeholder:!0,num:n.length};return n.push(e),i}else if(Array.isArray(e)){const i=new Array(e.length);for(let s=0;s<e.length;s++)i[s]=Sc(e[s],n);return i}else if(typeof e=="object"&&!(e instanceof Date)){const i={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=Sc(e[s],n));return i}return e}function Hw(e,n){return e.data=Cc(e.data,n),delete e.attachments,e}function Cc(e,n){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<n.length)return n[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let i=0;i<e.length;i++)e[i]=Cc(e[i],n);else if(typeof e=="object")for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=Cc(e[i],n));return e}const tg=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$w=5;var he;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(he||(he={}));class Ww{constructor(n){this.replacer=n}encode(n){return(n.type===he.EVENT||n.type===he.ACK)&&ho(n)?this.encodeAsBinary({type:n.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let i=""+n.type;return(n.type===he.BINARY_EVENT||n.type===he.BINARY_ACK)&&(i+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(i+=n.nsp+","),n.id!=null&&(i+=n.id),n.data!=null&&(i+=JSON.stringify(n.data,this.replacer)),i}encodeAsBinary(n){const i=Zw(n),s=this.encodeAsString(i.packet),a=i.buffers;return a.unshift(s),a}}class Pu extends Be{constructor(n){super(),this.reviver=n}add(n){let i;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(n);const s=i.type===he.BINARY_EVENT;s||i.type===he.BINARY_ACK?(i.type=s?he.EVENT:he.ACK,this.reconstructor=new Gw(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(ku(n)||n.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(n),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let i=0;const s={type:Number(n.charAt(0))};if(he[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===he.BINARY_EVENT||s.type===he.BINARY_ACK){const l=i+1;for(;n.charAt(++i)!=="-"&&i!=n.length;);const u=n.substring(l,i);if(u!=Number(u)||n.charAt(i)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(n.charAt(i+1)==="/"){const l=i+1;for(;++i&&!(n.charAt(i)===","||i===n.length););s.nsp=n.substring(l,i)}else s.nsp="/";const a=n.charAt(i+1);if(a!==""&&Number(a)==a){const l=i+1;for(;++i;){const u=n.charAt(i);if(u==null||Number(u)!=u){--i;break}if(i===n.length)break}s.id=Number(n.substring(l,i+1))}if(n.charAt(++i)){const l=this.tryParse(n.substr(i));if(Pu.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,i){switch(n){case he.CONNECT:return Uo(i);case he.DISCONNECT:return i===void 0;case he.CONNECT_ERROR:return typeof i=="string"||Uo(i);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&tg.indexOf(i[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gw{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const i=Hw(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Kw(e){return typeof e=="string"}const qw=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Qw(e){return e===void 0||qw(e)}function Uo(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yw(e,n){switch(e){case he.CONNECT:return n===void 0||Uo(n);case he.DISCONNECT:return n===void 0;case he.EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&tg.indexOf(n[0])===-1);case he.ACK:return Array.isArray(n);case he.CONNECT_ERROR:return typeof n=="string"||Uo(n);default:return!1}}function Jw(e){return Kw(e.nsp)&&Qw(e.id)&&Yw(e.type,e.data)}const Xw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Pu,Encoder:Ww,get PacketType(){return he},isPacketValid:Jw,protocol:$w},Symbol.toStringTag,{value:"Module"}));function zt(e,n,i){return e.on(n,i),function(){e.off(n,i)}}const e0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ng extends Be{constructor(n,i,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=i,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[zt(n,"open",this.onopen.bind(this)),zt(n,"packet",this.onpacket.bind(this)),zt(n,"error",this.onerror.bind(this)),zt(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...i){var s,a,l;if(e0.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(i.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const u={type:he.EVENT,data:i};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const S=this.ids++,y=i.pop();this._registerAckCallback(S,y),u.id=S}const f=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,p=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!f||(p?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(n,i){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[n]=i;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===n&&this.sendBuffer.splice(f,1);i.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(l),i.apply(this,f)};u.withError=!0,this.acks[n]=u}emitWithAck(n,...i){return new Promise((s,a)=>{const l=(u,f)=>u?a(u):s(f);l.withError=!0,i.push(l),this.emit(n,...i)})}_addToQueue(n){let i;typeof n[n.length-1]=="function"&&(i=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((a,...l)=>(this._queue[0],a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(a)):(this._queue.shift(),i&&i(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!n||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case he.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(n);break;case he.ACK:case he.BINARY_ACK:this.onack(n);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const i=n.data||[];n.id!=null&&i.push(this.ack(n.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const s of i)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const i=this;let s=!1;return function(...a){s||(s=!0,i.packet({type:he.ACK,id:n,data:a}))}}onack(n){const i=this.acks[n.id];typeof i=="function"&&(delete this.acks[n.id],i.withError&&n.data.unshift(null),i.apply(this,n.data))}onconnect(n,i){this.id=n,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const i=this._anyListeners;for(let s=0;s<i.length;s++)if(n===i[s])return i.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const i=this._anyOutgoingListeners;for(let s=0;s<i.length;s++)if(n===i[s])return i.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const s of i)s.apply(this,n.data)}}}function Xi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),i=Math.floor(n*this.jitter*e);e=Math.floor(n*10)&1?e+i:e-i}return Math.min(e,this.max)|0};Xi.prototype.reset=function(){this.attempts=0};Xi.prototype.setMin=function(e){this.ms=e};Xi.prototype.setMax=function(e){this.max=e};Xi.prototype.setJitter=function(e){this.jitter=e};class Nc extends Be{constructor(n,i){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(i=n,n=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,aa(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((s=i.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Xi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=n;const a=i.parser||Xw;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var i;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(i=this.backoff)===null||i===void 0||i.setMin(n),this)}randomizationFactor(n){var i;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(i=this.backoff)===null||i===void 0||i.setJitter(n),this)}reconnectionDelayMax(n){var i;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(i=this.backoff)===null||i===void 0||i.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Dw(this.uri,this.opts);const i=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=zt(i,"open",function(){s.onopen(),n&&n()}),l=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),n?n(f):this.maybeReconnectOnOpen()},u=zt(i,"error",l);if(this._timeout!==!1){const f=this._timeout,p=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),i.close()},f);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(a),this.subs.push(u),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(zt(n,"ping",this.onping.bind(this)),zt(n,"data",this.ondata.bind(this)),zt(n,"error",this.onerror.bind(this)),zt(n,"close",this.onclose.bind(this)),zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(i){this.onclose("parse error",i)}}ondecoded(n){oa(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,i){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new ng(this,n,i),this.nsps[n]=s),s}_destroy(n){const i=Object.keys(this.nsps);for(const s of i)if(this.nsps[s].active)return;this._close()}_packet(n){const i=this.encoder.encode(n);for(let s=0;s<i.length;s++)this.engine.write(i[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,i){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(a=>{a?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",a)):n.onreconnect()}))},i);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const kr={};function fo(e,n){typeof e=="object"&&(n=e,e=void 0),n=n||{};const i=zw(e,n.path||"/socket.io"),s=i.source,a=i.id,l=i.path,u=kr[a]&&l in kr[a].nsps,f=n.forceNew||n["force new connection"]||n.multiplex===!1||u;let p;return f?p=new Nc(s,n):(kr[a]||(kr[a]=new Nc(s,n)),p=kr[a]),i.query&&!n.query&&(n.query=i.queryKey),p.socket(i.path,n)}Object.assign(fo,{Manager:Nc,Socket:ng,io:fo,connect:fo});const ig=E.createContext(null),mt=()=>{const e=E.useContext(ig);if(!e)throw new Error("useNotification debe usarse dentro de NotificationProvider");return e},t0=({children:e})=>{const[n,i]=E.useState([]),s=E.useCallback((u,f="info",p=4e3)=>{const g=Date.now()+Math.random(),S={id:g,message:u,type:f,timestamp:Date.now()};return i(y=>[...y,S]),p>0&&setTimeout(()=>{a(g)},p),g},[]),a=E.useCallback(u=>{i(f=>f.filter(p=>p.id!==u))},[]),l={notifications:n,success:(u,f)=>s(u,"success",f),error:(u,f)=>s(u,"error",f),warning:(u,f)=>s(u,"warning",f),info:(u,f)=>s(u,"info",f),remove:a,clear:()=>i([])};return d.jsx(ig.Provider,{value:l,children:e})};function n0(){const e=mt(),{t:n}=Qe(),i=E.useRef(null),s=E.useRef(!1),a=E.useRef(0),l=E.useRef(!1),u=E.useRef(!1),[f,p]=E.useState(!1),[g,S]=E.useState([]),[y,C]=E.useState({connected:!1}),[k,T]=E.useState([]),[b,H]=E.useState({count:0,received:0,complete:!1,progress:0}),[x,_]=E.useState(null),w=g.find(O=>O.systemId===x)||g[0]||null,N=E.useCallback(async({silent:O=!1}={})=>{if(s.current||u.current)return!1;const F=Date.now();if(F-a.current<8e3)return!1;a.current=F,s.current=!0;try{const z=localStorage.getItem("mavlink_connections"),Y=localStorage.getItem("mavlink_active_connection");if(!z)return O||e.warning(n("reconnect.noSavedConnections")),!1;const G=JSON.parse(z)||[];if(G.length===0)return O||e.warning(n("reconnect.noSavedConnections")),!1;const $=Y?JSON.parse(Y):null,A=$?[G.find(q=>q.id===$),...G.filter(q=>q.id!==$)]:G;for(const q of A)if(q)try{if((await(await fetch("/api/mavlink/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:q.type,config:q.config})})).json()).success)return localStorage.setItem("mavlink_active_connection",JSON.stringify(q.id)),O||e.info(n("reconnect.reconnectedWith",{name:q.name})),s.current=!1,u.current=!1,!0}catch{continue}return O||e.warning(n("reconnect.noConnection")),!1}finally{s.current=!1}},[e]);E.useEffect(()=>{!x&&g.length>0&&_(g[0].systemId),x&&!g.find(O=>O.systemId===x)&&_(g.length>0?g[0].systemId:null)},[g,x]),E.useEffect(()=>{let O;{const z=window.location.hostname;O=`${window.location.protocol}//${z}:3000`}console.log(" Conectando WebSocket a:",O);const F=fo(O,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:10});return i.current=F,F.on("connect",()=>{console.log(" WebSocket conectado"),p(!0),l.current=!0}),F.on("disconnect",()=>{console.log(" WebSocket desconectado"),p(!1),N({silent:!l.current})}),F.on("connect_error",z=>{console.error(" Error de conexin WebSocket:",z.message)}),F.on("vehicles_update",z=>{S(z)}),F.on("connection_status",z=>{C(z)}),F.on("system_message",z=>{T(Y=>[z,...Y].slice(0,100))}),F.on("parameters_update",z=>{H(z)}),()=>{console.log(" Desconectando WebSocket"),F.disconnect()}},[]),E.useEffect(()=>{y.connected===!1&&!s.current&&N({silent:!l.current})},[y.connected,N]);const R=E.useCallback((O,F)=>{var z;(z=i.current)!=null&&z.connected?i.current.emit(O,F):console.warn("WebSocket no conectado, no se puede emitir:",O)},[]),I=E.useCallback(()=>{u.current=!0},[]),j=E.useCallback(()=>{u.current=!1},[]);return{isConnected:f,vehicles:g,selectedVehicle:w,selectedVehicleId:x,setSelectedVehicleId:_,connectionStatus:y,messages:k,parametersProgress:b,emit:R,markManualDisconnect:I,enableAutoReconnect:j}}const rg=E.createContext(null),yn=()=>{const e=E.useContext(rg);if(!e)throw new Error("useWebSocketContext debe usarse dentro de WebSocketProvider");return e},i0=({children:e})=>{const n=n0();return d.jsx(rg.Provider,{value:n,children:e})};function sg({isOpen:e,onClose:n}){const{t:i}=Qe(),{parametersProgress:s}=yn(),[a,l]=E.useState(!1);E.useEffect(()=>{e&&s.complete&&s.received>0&&!a&&setTimeout(()=>{n()},1500)},[e,s.complete,s.received,n,a]);const u=async()=>{l(!0);try{await fetch("/api/mavlink/disconnect",{method:"POST"}),n()}catch(g){console.error("Error cancelando descarga:",g)}},f=()=>{n()};if(!e)return null;const p=s.count>0?Math.round(s.received/s.count*100):0;return d.jsx("div",{className:"param-download-modal-overlay",children:d.jsxs("div",{className:"param-download-modal",children:[d.jsx("div",{className:"param-download-header",children:d.jsx("h3",{children:i("parameterDownload.title")})}),d.jsxs("div",{className:"param-download-body",children:[d.jsxs("div",{className:"param-download-info",children:[d.jsxs("span",{className:"param-download-count",children:[s.received," / ",s.count," ",i("parameterDownload.parameters")]}),d.jsxs("span",{className:"param-download-percentage",children:[p,"%"]})]}),d.jsx("div",{className:"param-download-progress-bar",children:d.jsx("div",{className:"param-download-progress-fill",style:{width:`${p}%`}})}),s.complete?d.jsx("div",{className:"param-download-complete",children:i("parameterDownload.complete")}):d.jsxs("div",{className:"param-download-actions",children:[d.jsx("button",{className:"param-btn-secondary",onClick:f,disabled:a,children:i("parameterDownload.continueBackground")}),d.jsx("button",{className:"param-btn-danger",onClick:u,disabled:a,children:i(a?"parameterDownload.cancelling":"parameterDownload.cancel")})]})]})]})})}function r0({onSettingsClick:e,isSettingsOpen:n,onArmDisarmRequest:i}){const{t:s}=Qe(),a=mt(),{selectedVehicle:l,selectedVehicleId:u,setSelectedVehicleId:f,vehicles:p,connectionStatus:g,markManualDisconnect:S}=yn(),[y,C]=E.useState(new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})),[k,T]=E.useState(!1),[b,H]=E.useState(!1),[x,_]=E.useState(!1),[w,N]=E.useState({}),[R,I]=E.useState(!1),[j,O]=E.useState(!1),F=E.useRef(null),z=E.useRef(null),Y=E.useRef(null),G=(g==null?void 0:g.connected)||!1,$=l!==null;E.useEffect(()=>{const K=setInterval(()=>{C(new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>clearInterval(K)},[]),E.useEffect(()=>{const K=ne=>{F.current&&!F.current.contains(ne.target)&&_(!1),z.current&&!z.current.contains(ne.target)&&I(!1),Y.current&&!Y.current.contains(ne.target)&&O(!1)};if(x||R||j)return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[x,R,j]);const A=K=>K===1?{0:"Manual",1:"Circle",2:"Stabilize",3:"Training",4:"Acro",5:"FlyByWireA",6:"FlyByWireB",7:"Cruise",8:"Autotune",10:"Auto",11:"RTL",12:"Loiter",13:"Takeoff",14:"Avoid_ADSB",15:"Guided"}:[2,3,4,13,14,15].includes(K)?{0:"Stabilize",1:"Acro",2:"AltHold",3:"Auto",4:"Guided",5:"Loiter",6:"RTL",7:"Circle",9:"Land",15:"AutoTune",16:"PosHold",21:"Smart_RTL"}:K===10?{0:"Manual",3:"Steering",4:"Hold",5:"Loiter",10:"Auto",11:"RTL",15:"Guided"}:{},q=async K=>{if(u)try{(await fetch("/api/mavlink/flightmode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemId:u,customMode:parseInt(K)})})).ok&&_(!1)}catch(ne){console.error("Error changing flight mode:",ne)}},te=()=>{I(!1),i&&u&&i("arm",u)},ge=()=>{I(!1),i&&u&&i("disarm",u)};E.useEffect(()=>{l&&N(A(l.type))},[l]),E.useEffect(()=>{const K=localStorage.getItem("mavlink_connections"),ne=localStorage.getItem("mavlink_active_connection");if(!G&&K&&ne){const Se=setTimeout(()=>{_e()},500);return()=>clearTimeout(Se)}},[]);const B=()=>{if(!l)return s("topbar.signalQuality.noSignal");const K=l.signal_strength;return K>80?s("topbar.signalQuality.excellent"):K>60?s("topbar.signalQuality.good"):K>40?s("topbar.signalQuality.regular"):K>0?s("topbar.signalQuality.weak"):s("topbar.signalQuality.noSignal")},ie=()=>{if(!G||!l)return"N/A";const K=l.battery_remaining;return K!=null?`${K.toFixed(0)}%`:"N/A"},U=()=>!G||!l?!1:!!(l.base_mode&128),X=()=>!G||!l?"Unknown":l.flightMode||"Unknown",oe=()=>{if(!l)return"";switch(l.vehicleType||l.type){case 1:return"";case 4:case 3:return"";case 10:return"";case 2:case 13:case 14:case 15:default:return""}},_e=async()=>{if(!(k||G)){T(!0);try{const K=localStorage.getItem("mavlink_connections");if(!K){console.log("No hay conexiones guardadas"),a.error(s("topbar.connectionError.noSavedConnections")),T(!1);return}const ne=JSON.parse(K);if(ne.length===0){console.log("Lista de conexiones vaca"),a.error(s("topbar.connectionError.noSavedConnections")),T(!1);return}for(const Se of ne)try{if((await(await fetch("/api/mavlink/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:Se.type,config:Se.config})})).json()).success){localStorage.setItem("mavlink_active_connection",JSON.stringify(Se.id)),Se.type==="tcp"&&Se.config.mode==="Servidor"||setTimeout(async()=>{try{(await(await fetch("/api/mavlink/parameters/request",{method:"POST"})).json()).success&&H(!0)}catch(V){console.error("Error solicitando parmetros:",V)}},500),T(!1);return}}catch{continue}a.error(s("topbar.connectionError.connectionFailed")),T(!1)}catch(K){console.error("Error en auto-connect:",K),a.error(s("topbar.connectionError.connectionFailed")),T(!1)}}},pe=async()=>{try{S(),(await(await fetch("/api/mavlink/disconnect",{method:"POST"})).json()).success&&(localStorage.removeItem("mavlink_active_connection"),console.log("Desconectado exitosamente"))}catch(K){console.error("Error desconectando:",K)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"top-bar",children:[d.jsxs("div",{className:"top-bar-left",children:[$&&d.jsxs("div",{className:"indicator",children:[d.jsx("span",{className:"indicator-icon",children:oe()}),d.jsx("span",{className:"indicator-label",children:s("topbar.vehicle")}),d.jsx("span",{className:"indicator-value",children:l?`#${u}`:"N/A"})]}),$&&d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("div",{className:`indicator ${U()?"armed":"disarmed"} clickable`,onClick:K=>{K.stopPropagation(),I(!R),_(!1)},children:[d.jsx("span",{className:"indicator-icon",children:U()?"":""}),d.jsx("span",{className:"indicator-label",children:s("topbar.status")}),d.jsx("span",{className:"indicator-value",children:U()?s("topbar.armed"):s("topbar.disarmed")})]}),R&&d.jsxs("div",{className:"arm-dropdown",ref:z,children:[d.jsxs("div",{className:`arm-dropdown-option arm-option ${U()?"disabled":""}`,onClick:K=>{K.stopPropagation(),U()||te()},children:[d.jsx("span",{className:"option-icon",children:""}),d.jsx("span",{children:s("sidebar.actions.arm")})]}),d.jsxs("div",{className:`arm-dropdown-option disarm-option ${U()?"":"disabled"}`,onClick:K=>{K.stopPropagation(),U()&&ge()},children:[d.jsx("span",{className:"option-icon",children:""}),d.jsx("span",{children:s("sidebar.actions.disarm")})]})]})]}),$&&d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("div",{className:"indicator flight-mode clickable",onClick:K=>{K.stopPropagation(),_(!x),I(!1)},children:[d.jsx("span",{className:"indicator-icon",children:""}),d.jsx("span",{className:"indicator-label",children:s("topbar.flightMode")}),d.jsx("span",{className:"indicator-value",children:X()})]}),x&&d.jsx("div",{className:"flight-mode-dropdown",ref:F,children:Object.entries(w).map(([K,ne])=>d.jsx("div",{className:`flight-mode-option ${parseInt(K)===(l==null?void 0:l.custom_mode)?"active":""}`,onClick:Se=>{Se.stopPropagation(),q(K)},children:s(`flightModes.modes.${ne}`)},K))})]}),$&&d.jsxs("div",{className:"indicator",children:[d.jsx("span",{className:"indicator-icon",children:""}),d.jsx("span",{className:"indicator-label",children:s("topbar.signal")}),d.jsx("span",{className:"indicator-value",children:B()})]}),$&&d.jsxs("div",{className:"indicator",children:[d.jsx("span",{className:"indicator-icon",children:""}),d.jsx("span",{className:"indicator-label",children:s("topbar.battery")}),d.jsx("span",{className:"indicator-value",children:ie()})]})]}),d.jsxs("div",{className:"top-bar-right",children:[d.jsx("button",{className:`connect-button ${G?"disconnected":""}`,onClick:G?pe:_e,disabled:k,title:G?"Desconectar":s("topbar.autoConnect"),children:k?d.jsx("span",{className:"spinner",children:""}):""}),d.jsx("button",{className:`settings-button ${n?"active":""}`,onClick:e,title:s("topbar.settings"),children:n?"":""})]})]}),d.jsx(sg,{isOpen:b,onClose:()=>H(!1)})]})}function s0(){const{vehicles:e,selectedVehicleId:n}=yn(),[i,s]=E.useState(13),[a,l]=E.useState("");E.useEffect(()=>{const k=()=>{const b=new Date,H=b.getHours().toString().padStart(2,"0"),x=b.getMinutes().toString().padStart(2,"0");l(`${H}:${x}h`)};k();const T=setInterval(k,1e3);return()=>clearInterval(T)},[]),E.useEffect(()=>{const k=()=>{const T=localStorage.getItem("map_zoom");T&&s(parseInt(T))};return k(),window.addEventListener("mapZoomChanged",k),()=>{window.removeEventListener("mapZoomChanged",k)}},[]);const u=e&&n?e.find(k=>k.systemId===n):null,f=k=>k==null||k===0?"-------":k.toFixed(7),p=()=>{if(!u)return"No Fix";switch(u.gps_fix_type??u.fix_type??0){case 0:return"No GPS";case 1:return"No Fix";case 2:return"2D Fix";case 3:return"3D Fix";case 4:return"DGPS";case 5:return"RTK Float";case 6:return"RTK Fixed";default:return"Unknown"}},g=()=>u?u.gps_satellites??u.satellites_visible??0:0,S=()=>{if(!u)return"---";const k=u.gps_hdop??0;return k===0||k===null||k===void 0?"---":k.toFixed(2)},y=(u==null?void 0:u.lat)||0,C=(u==null?void 0:u.lon)||0;return d.jsxs("div",{className:"bottom-bar",children:[d.jsxs("div",{className:"bottom-bar-content",children:[d.jsxs("span",{className:"bottom-bar-item",children:["Zoom: ",i]}),d.jsx("span",{className:"bottom-bar-separator",children:"|"}),d.jsxs("span",{className:"bottom-bar-item",children:["Lat: ",f(y)]}),d.jsx("span",{className:"bottom-bar-separator",children:"|"}),d.jsxs("span",{className:"bottom-bar-item",children:["Long: ",f(C)]}),d.jsx("span",{className:"bottom-bar-separator",children:"|"}),d.jsxs("span",{className:"bottom-bar-item",children:["GPS: ",p()]}),d.jsx("span",{className:"bottom-bar-separator",children:"|"}),d.jsxs("span",{className:"bottom-bar-item",children:["Sats: ",g()]}),d.jsx("span",{className:"bottom-bar-separator",children:"|"}),d.jsxs("span",{className:"bottom-bar-item",children:["HDOP: ",S()]})]}),d.jsxs("div",{className:"bottom-bar-time",children:["Local Time: ",a]})]})}function og(e,n){const i=E.useRef(n);E.useEffect(function(){n!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),n!=null&&e.attributionControl.addAttribution(n)),i.current=n},[e,n])}const o0=1;function a0(e){return Object.freeze({__version:o0,map:e})}function ag(e,n){return Object.freeze({...e,...n})}const lg=E.createContext(null),cg=lg.Provider;function la(){const e=E.useContext(lg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function ug(e){function n(i,s){const{instance:a,context:l}=e(i).current;return E.useImperativeHandle(s,()=>a),i.children==null?null:po.createElement(cg,{value:l},i.children)}return E.forwardRef(n)}function l0(e){function n(i,s){const[a,l]=E.useState(!1),{instance:u}=e(i,l).current;E.useImperativeHandle(s,()=>u),E.useEffect(function(){a&&u.update()},[u,a,i.children]);const f=u._contentNode;return f?Rm.createPortal(i.children,f):null}return E.forwardRef(n)}function c0(e){function n(i,s){const{instance:a}=e(i).current;return E.useImperativeHandle(s,()=>a),null}return E.forwardRef(n)}function Lu(e,n){const i=E.useRef();E.useEffect(function(){return n!=null&&e.instance.on(n),i.current=n,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,n])}function ca(e,n){const i=e.pane??n.pane;return i?{...e,pane:i}:e}function u0(e,n){return function(s,a){const l=la(),u=e(ca(s,l),l);return og(l.map,s.attribution),Lu(u.current,s.eventHandlers),n(u.current,l,s,a),u}}var kc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(i,s){s(n)})(Bv,function(i){var s="1.9.4";function a(r){var o,c,h,m;for(c=1,h=arguments.length;c<h;c++){m=arguments[c];for(o in m)r[o]=m[o]}return r}var l=Object.create||function(){function r(){}return function(o){return r.prototype=o,new r}}();function u(r,o){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var h=c.call(arguments,2);return function(){return r.apply(o,h.length?h.concat(c.call(arguments)):arguments)}}var f=0;function p(r){return"_leaflet_id"in r||(r._leaflet_id=++f),r._leaflet_id}function g(r,o,c){var h,m,v,P;return P=function(){h=!1,m&&(v.apply(c,m),m=!1)},v=function(){h?m=arguments:(r.apply(c,arguments),setTimeout(P,o),h=!0)},v}function S(r,o,c){var h=o[1],m=o[0],v=h-m;return r===h&&c?r:((r-m)%v+v)%v+m}function y(){return!1}function C(r,o){if(o===!1)return r;var c=Math.pow(10,o===void 0?6:o);return Math.round(r*c)/c}function k(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function T(r){return k(r).split(/\s+/)}function b(r,o){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?l(r.options):{});for(var c in o)r.options[c]=o[c];return r.options}function H(r,o,c){var h=[];for(var m in r)h.push(encodeURIComponent(c?m.toUpperCase():m)+"="+encodeURIComponent(r[m]));return(!o||o.indexOf("?")===-1?"?":"&")+h.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function _(r,o){return r.replace(x,function(c,h){var m=o[h];if(m===void 0)throw new Error("No value provided for variable "+c);return typeof m=="function"&&(m=m(o)),m})}var w=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function N(r,o){for(var c=0;c<r.length;c++)if(r[c]===o)return c;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var j=0;function O(r){var o=+new Date,c=Math.max(0,16-(o-j));return j=o+c,window.setTimeout(r,c)}var F=window.requestAnimationFrame||I("RequestAnimationFrame")||O,z=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Y(r,o,c){if(c&&F===O)r.call(o);else return F.call(window,u(r,o))}function G(r){r&&z.call(window,r)}var $={__proto__:null,extend:a,create:l,bind:u,get lastId(){return f},stamp:p,throttle:g,wrapNum:S,falseFn:y,formatNum:C,trim:k,splitWords:T,setOptions:b,getParamString:H,template:_,isArray:w,indexOf:N,emptyImageUrl:R,requestFn:F,cancelFn:z,requestAnimFrame:Y,cancelAnimFrame:G};function A(){}A.extend=function(r){var o=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=o.__super__=this.prototype,h=l(c);h.constructor=o,o.prototype=h;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(o[m]=this[m]);return r.statics&&a(o,r.statics),r.includes&&(q(r.includes),a.apply(null,[h].concat(r.includes))),a(h,r),delete h.statics,delete h.includes,h.options&&(h.options=c.options?l(c.options):{},a(h.options,r.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,P=h._initHooks.length;v<P;v++)h._initHooks[v].call(this)}},o},A.include=function(r){var o=this.prototype.options;return a(this.prototype,r),r.options&&(this.prototype.options=o,this.mergeOptions(r.options)),this},A.mergeOptions=function(r){return a(this.prototype.options,r),this},A.addInitHook=function(r){var o=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function q(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=w(r)?r:[r];for(var o=0;o<r.length;o++)r[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(r,o,c){if(typeof r=="object")for(var h in r)this._on(h,r[h],o);else{r=T(r);for(var m=0,v=r.length;m<v;m++)this._on(r[m],o,c)}return this},off:function(r,o,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var h in r)this._off(h,r[h],o);else{r=T(r);for(var m=arguments.length===1,v=0,P=r.length;v<P;v++)m?this._off(r[v]):this._off(r[v],o,c)}return this},_on:function(r,o,c,h){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(r,o,c)===!1){c===this&&(c=void 0);var m={fn:o,ctx:c};h&&(m.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(m)}},_off:function(r,o,c){var h,m,v;if(this._events&&(h=this._events[r],!!h)){if(arguments.length===1){if(this._firingCount)for(m=0,v=h.length;m<v;m++)h[m].fn=y;delete this._events[r];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var P=this._listens(r,o,c);if(P!==!1){var M=h[P];this._firingCount&&(M.fn=y,this._events[r]=h=h.slice()),h.splice(P,1)}}},fire:function(r,o,c){if(!this.listens(r,c))return this;var h=a({},o,{type:r,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var m=this._events[r];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,P=m.length;v<P;v++){var M=m[v],D=M.fn;M.once&&this.off(r,D,M.ctx),D.call(M.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(r,o,c,h){typeof r!="string"&&console.warn('"string" type argument expected');var m=o;typeof o!="function"&&(h=!!o,m=void 0,c=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,m,c)!==!1)return!0;if(h){for(var P in this._eventParents)if(this._eventParents[P].listens(r,o,c,h))return!0}return!1},_listens:function(r,o,c){if(!this._events)return!1;var h=this._events[r]||[];if(!o)return!!h.length;c===this&&(c=void 0);for(var m=0,v=h.length;m<v;m++)if(h[m].fn===o&&h[m].ctx===c)return m;return!1},once:function(r,o,c){if(typeof r=="object")for(var h in r)this._on(h,r[h],o,!0);else{r=T(r);for(var m=0,v=r.length;m<v;m++)this._on(r[m],o,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[p(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[p(r)],this},_propagateEvent:function(r){for(var o in this._eventParents)this._eventParents[o].fire(r.type,a({layer:r.target,propagatedFrom:r.target},r),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var ge=A.extend(te);function B(r,o,c){this.x=c?Math.round(r):r,this.y=c?Math.round(o):o}var ie=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new B(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new B(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(r){r=U(r);var o=r.x-this.x,c=r.y-this.y;return Math.sqrt(o*o+c*c)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function U(r,o,c){return r instanceof B?r:w(r)?new B(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new B(r.x,r.y):new B(r,o,c)}function X(r,o){if(r)for(var c=o?[r,o]:r,h=0,m=c.length;h<m;h++)this.extend(c[h])}X.prototype={extend:function(r){var o,c;if(!r)return this;if(r instanceof B||typeof r[0]=="number"||"x"in r)o=c=U(r);else if(r=oe(r),o=r.min,c=r.max,!o||!c)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=c.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var o,c;return typeof r[0]=="number"||r instanceof B?r=U(r):r=oe(r),r instanceof X?(o=r.min,c=r.max):o=c=r,o.x>=this.min.x&&c.x<=this.max.x&&o.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=oe(r);var o=this.min,c=this.max,h=r.min,m=r.max,v=m.x>=o.x&&h.x<=c.x,P=m.y>=o.y&&h.y<=c.y;return v&&P},overlaps:function(r){r=oe(r);var o=this.min,c=this.max,h=r.min,m=r.max,v=m.x>o.x&&h.x<c.x,P=m.y>o.y&&h.y<c.y;return v&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var o=this.min,c=this.max,h=Math.abs(o.x-c.x)*r,m=Math.abs(o.y-c.y)*r;return oe(U(o.x-h,o.y-m),U(c.x+h,c.y+m))},equals:function(r){return r?(r=oe(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function oe(r,o){return!r||r instanceof X?r:new X(r,o)}function _e(r,o){if(r)for(var c=o?[r,o]:r,h=0,m=c.length;h<m;h++)this.extend(c[h])}_e.prototype={extend:function(r){var o=this._southWest,c=this._northEast,h,m;if(r instanceof K)h=r,m=r;else if(r instanceof _e){if(h=r._southWest,m=r._northEast,!h||!m)return this}else return r?this.extend(ne(r)||pe(r)):this;return!o&&!c?(this._southWest=new K(h.lat,h.lng),this._northEast=new K(m.lat,m.lng)):(o.lat=Math.min(h.lat,o.lat),o.lng=Math.min(h.lng,o.lng),c.lat=Math.max(m.lat,c.lat),c.lng=Math.max(m.lng,c.lng)),this},pad:function(r){var o=this._southWest,c=this._northEast,h=Math.abs(o.lat-c.lat)*r,m=Math.abs(o.lng-c.lng)*r;return new _e(new K(o.lat-h,o.lng-m),new K(c.lat+h,c.lng+m))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof K||"lat"in r?r=ne(r):r=pe(r);var o=this._southWest,c=this._northEast,h,m;return r instanceof _e?(h=r.getSouthWest(),m=r.getNorthEast()):h=m=r,h.lat>=o.lat&&m.lat<=c.lat&&h.lng>=o.lng&&m.lng<=c.lng},intersects:function(r){r=pe(r);var o=this._southWest,c=this._northEast,h=r.getSouthWest(),m=r.getNorthEast(),v=m.lat>=o.lat&&h.lat<=c.lat,P=m.lng>=o.lng&&h.lng<=c.lng;return v&&P},overlaps:function(r){r=pe(r);var o=this._southWest,c=this._northEast,h=r.getSouthWest(),m=r.getNorthEast(),v=m.lat>o.lat&&h.lat<c.lat,P=m.lng>o.lng&&h.lng<c.lng;return v&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,o){return r?(r=pe(r),this._southWest.equals(r.getSouthWest(),o)&&this._northEast.equals(r.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pe(r,o){return r instanceof _e?r:new _e(r,o)}function K(r,o,c){if(isNaN(r)||isNaN(o))throw new Error("Invalid LatLng object: ("+r+", "+o+")");this.lat=+r,this.lng=+o,c!==void 0&&(this.alt=+c)}K.prototype={equals:function(r,o){if(!r)return!1;r=ne(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(o===void 0?1e-9:o)},toString:function(r){return"LatLng("+C(this.lat,r)+", "+C(this.lng,r)+")"},distanceTo:function(r){return nt.distance(this,ne(r))},wrap:function(){return nt.wrapLatLng(this)},toBounds:function(r){var o=180*r/40075017,c=o/Math.cos(Math.PI/180*this.lat);return pe([this.lat-o,this.lng-c],[this.lat+o,this.lng+c])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function ne(r,o,c){return r instanceof K?r:w(r)&&typeof r[0]!="object"?r.length===3?new K(r[0],r[1],r[2]):r.length===2?new K(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new K(r.lat,"lng"in r?r.lng:r.lon,r.alt):o===void 0?null:new K(r,o,c)}var Se={latLngToPoint:function(r,o){var c=this.projection.project(r),h=this.scale(o);return this.transformation._transform(c,h)},pointToLatLng:function(r,o){var c=this.scale(o),h=this.transformation.untransform(r,c);return this.projection.unproject(h)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var o=this.projection.bounds,c=this.scale(r),h=this.transformation.transform(o.min,c),m=this.transformation.transform(o.max,c);return new X(h,m)},infinite:!1,wrapLatLng:function(r){var o=this.wrapLng?S(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?S(r.lat,this.wrapLat,!0):r.lat,h=r.alt;return new K(c,o,h)},wrapLatLngBounds:function(r){var o=r.getCenter(),c=this.wrapLatLng(o),h=o.lat-c.lat,m=o.lng-c.lng;if(h===0&&m===0)return r;var v=r.getSouthWest(),P=r.getNorthEast(),M=new K(v.lat-h,v.lng-m),D=new K(P.lat-h,P.lng-m);return new _e(M,D)}},nt=a({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(r,o){var c=Math.PI/180,h=r.lat*c,m=o.lat*c,v=Math.sin((o.lat-r.lat)*c/2),P=Math.sin((o.lng-r.lng)*c/2),M=v*v+Math.cos(h)*Math.cos(m)*P*P,D=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*D}}),Zn=6378137,Zt={R:Zn,MAX_LATITUDE:85.0511287798,project:function(r){var o=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,r.lat),-c),m=Math.sin(h*o);return new B(this.R*r.lng*o,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(r){var o=180/Math.PI;return new K((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*o,r.x*o/this.R)},bounds:function(){var r=Zn*Math.PI;return new X([-r,-r],[r,r])}()};function V(r,o,c,h){if(w(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=o,this._c=c,this._d=h}V.prototype={transform:function(r,o){return this._transform(r.clone(),o)},_transform:function(r,o){return o=o||1,r.x=o*(this._a*r.x+this._b),r.y=o*(this._c*r.y+this._d),r},untransform:function(r,o){return o=o||1,new B((r.x/o-this._b)/this._a,(r.y/o-this._d)/this._c)}};function le(r,o,c,h){return new V(r,o,c,h)}var ke=a({},nt,{code:"EPSG:3857",projection:Zt,transformation:function(){var r=.5/(Math.PI*Zt.R);return le(r,.5,-r,.5)}()}),Ye=a({},ke,{code:"EPSG:900913"});function Ht(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function _n(r,o){var c="",h,m,v,P,M,D;for(h=0,v=r.length;h<v;h++){for(M=r[h],m=0,P=M.length;m<P;m++)D=M[m],c+=(m?"L":"M")+D.x+" "+D.y;c+=o?re.svg?"z":"x":""}return c||"M0 0"}var Q=document.documentElement.style,se="ActiveXObject"in window,Ae=se&&!document.addEventListener,St="msLaunchUri"in navigator&&!("documentMode"in document),ui=$t("webkit"),tr=$t("android"),nr=$t("android 2")||$t("android 3"),hs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fa=tr&&$t("Google")&&hs<537&&!("AudioNode"in window),pa=!!window.opera,Ou=!St&&$t("chrome"),Mu=$t("gecko")&&!ui&&!pa&&!se,xg=!Ou&&$t("safari"),Ru=$t("phantom"),Iu="OTransition"in Q,wg=navigator.platform.indexOf("Win")===0,Au=se&&"transition"in Q,ma="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nr,Du="MozPerspective"in Q,Sg=!window.L_DISABLE_3D&&(Au||ma||Du)&&!Iu&&!Ru,ir=typeof orientation<"u"||$t("mobile"),Cg=ir&&ui,Ng=ir&&ma,zu=!window.PointerEvent&&window.MSPointerEvent,Fu=!!(window.PointerEvent||zu),Bu="ontouchstart"in window||!!window.TouchEvent,kg=!window.L_NO_TOUCH&&(Bu||Fu),Pg=ir&&pa,Lg=ir&&Mu,Eg=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tg=function(){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",y,o),window.removeEventListener("testPassiveEventSupport",y,o)}catch{}return r}(),bg=function(){return!!document.createElement("canvas").getContext}(),ga=!!(document.createElementNS&&Ht("svg").createSVGRect),jg=!!ga&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Og=!ga&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var o=r.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Mg=navigator.platform.indexOf("Mac")===0,Rg=navigator.platform.indexOf("Linux")===0;function $t(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var re={ie:se,ielt9:Ae,edge:St,webkit:ui,android:tr,android23:nr,androidStock:fa,opera:pa,chrome:Ou,gecko:Mu,safari:xg,phantom:Ru,opera12:Iu,win:wg,ie3d:Au,webkit3d:ma,gecko3d:Du,any3d:Sg,mobile:ir,mobileWebkit:Cg,mobileWebkit3d:Ng,msPointer:zu,pointer:Fu,touch:kg,touchNative:Bu,mobileOpera:Pg,mobileGecko:Lg,retina:Eg,passiveEvents:Tg,canvas:bg,svg:ga,vml:Og,inlineSvg:jg,mac:Mg,linux:Rg},Vu=re.msPointer?"MSPointerDown":"pointerdown",Uu=re.msPointer?"MSPointerMove":"pointermove",Zu=re.msPointer?"MSPointerUp":"pointerup",Hu=re.msPointer?"MSPointerCancel":"pointercancel",va={touchstart:Vu,touchmove:Uu,touchend:Zu,touchcancel:Hu},$u={touchstart:Bg,touchmove:fs,touchend:fs,touchcancel:fs},di={},Wu=!1;function Ig(r,o,c){return o==="touchstart"&&Fg(),$u[o]?(c=$u[o].bind(this,c),r.addEventListener(va[o],c,!1),c):(console.warn("wrong event specified:",o),y)}function Ag(r,o,c){if(!va[o]){console.warn("wrong event specified:",o);return}r.removeEventListener(va[o],c,!1)}function Dg(r){di[r.pointerId]=r}function zg(r){di[r.pointerId]&&(di[r.pointerId]=r)}function Gu(r){delete di[r.pointerId]}function Fg(){Wu||(document.addEventListener(Vu,Dg,!0),document.addEventListener(Uu,zg,!0),document.addEventListener(Zu,Gu,!0),document.addEventListener(Hu,Gu,!0),Wu=!0)}function fs(r,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var c in di)o.touches.push(di[c]);o.changedTouches=[o],r(o)}}function Bg(r,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&We(o),fs(r,o)}function Vg(r){var o={},c,h;for(h in r)c=r[h],o[h]=c&&c.bind?c.bind(r):c;return r=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Ug=200;function Zg(r,o){r.addEventListener("dblclick",o);var c=0,h;function m(v){if(v.detail!==1){h=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var P=Ju(v);if(!(P.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!P.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var M=Date.now();M-c<=Ug?(h++,h===2&&o(Vg(v))):h=1,c=M}}}return r.addEventListener("click",m),{dblclick:o,simDblclick:m}}function Hg(r,o){r.removeEventListener("dblclick",o.dblclick),r.removeEventListener("click",o.simDblclick)}var ya=gs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=gs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ku=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function qu(r){return typeof r=="string"?document.getElementById(r):r}function sr(r,o){var c=r.style[o]||r.currentStyle&&r.currentStyle[o];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(r,null);c=h?h[o]:null}return c==="auto"?null:c}function xe(r,o,c){var h=document.createElement(r);return h.className=o||"",c&&c.appendChild(h),h}function Te(r){var o=r.parentNode;o&&o.removeChild(r)}function ps(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hi(r){var o=r.parentNode;o&&o.lastChild!==r&&o.appendChild(r)}function fi(r){var o=r.parentNode;o&&o.firstChild!==r&&o.insertBefore(r,o.firstChild)}function _a(r,o){if(r.classList!==void 0)return r.classList.contains(o);var c=ms(r);return c.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(c)}function de(r,o){if(r.classList!==void 0)for(var c=T(o),h=0,m=c.length;h<m;h++)r.classList.add(c[h]);else if(!_a(r,o)){var v=ms(r);xa(r,(v?v+" ":"")+o)}}function Re(r,o){r.classList!==void 0?r.classList.remove(o):xa(r,k((" "+ms(r)+" ").replace(" "+o+" "," ")))}function xa(r,o){r.className.baseVal===void 0?r.className=o:r.className.baseVal=o}function ms(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ct(r,o){"opacity"in r.style?r.style.opacity=o:"filter"in r.style&&$g(r,o)}function $g(r,o){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(h)}catch{if(o===1)return}o=Math.round(o*100),c?(c.Enabled=o!==100,c.Opacity=o):r.style.filter+=" progid:"+h+"(opacity="+o+")"}function gs(r){for(var o=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in o)return r[c];return!1}function Hn(r,o,c){var h=o||new B(0,0);r.style[ya]=(re.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function De(r,o){r._leaflet_pos=o,re.any3d?Hn(r,o):(r.style.left=o.x+"px",r.style.top=o.y+"px")}function $n(r){return r._leaflet_pos||new B(0,0)}var or,ar,wa;if("onselectstart"in document)or=function(){ue(window,"selectstart",We)},ar=function(){Ce(window,"selectstart",We)};else{var lr=gs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);or=function(){if(lr){var r=document.documentElement.style;wa=r[lr],r[lr]="none"}},ar=function(){lr&&(document.documentElement.style[lr]=wa,wa=void 0)}}function Sa(){ue(window,"dragstart",We)}function Ca(){Ce(window,"dragstart",We)}var vs,Na;function ka(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ys(),vs=r,Na=r.style.outlineStyle,r.style.outlineStyle="none",ue(window,"keydown",ys))}function ys(){vs&&(vs.style.outlineStyle=Na,vs=void 0,Na=void 0,Ce(window,"keydown",ys))}function Qu(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Pa(r){var o=r.getBoundingClientRect();return{x:o.width/r.offsetWidth||1,y:o.height/r.offsetHeight||1,boundingClientRect:o}}var Wg={__proto__:null,TRANSFORM:ya,TRANSITION:rr,TRANSITION_END:Ku,get:qu,getStyle:sr,create:xe,remove:Te,empty:ps,toFront:hi,toBack:fi,hasClass:_a,addClass:de,removeClass:Re,setClass:xa,getClass:ms,setOpacity:Ct,testProp:gs,setTransform:Hn,setPosition:De,getPosition:$n,get disableTextSelection(){return or},get enableTextSelection(){return ar},disableImageDrag:Sa,enableImageDrag:Ca,preventOutline:ka,restoreOutline:ys,getSizedParentNode:Qu,getScale:Pa};function ue(r,o,c,h){if(o&&typeof o=="object")for(var m in o)Ea(r,m,o[m],c);else{o=T(o);for(var v=0,P=o.length;v<P;v++)Ea(r,o[v],c,h)}return this}var Wt="_leaflet_events";function Ce(r,o,c,h){if(arguments.length===1)Yu(r),delete r[Wt];else if(o&&typeof o=="object")for(var m in o)Ta(r,m,o[m],c);else if(o=T(o),arguments.length===2)Yu(r,function(M){return N(o,M)!==-1});else for(var v=0,P=o.length;v<P;v++)Ta(r,o[v],c,h);return this}function Yu(r,o){for(var c in r[Wt]){var h=c.split(/\d/)[0];(!o||o(h))&&Ta(r,h,null,null,c)}}var La={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ea(r,o,c,h){var m=o+p(c)+(h?"_"+p(h):"");if(r[Wt]&&r[Wt][m])return this;var v=function(M){return c.call(h||r,M||window.event)},P=v;!re.touchNative&&re.pointer&&o.indexOf("touch")===0?v=Ig(r,o,v):re.touch&&o==="dblclick"?v=Zg(r,v):"addEventListener"in r?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?r.addEventListener(La[o]||o,v,re.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(v=function(M){M=M||window.event,ja(r,M)&&P(M)},r.addEventListener(La[o],v,!1)):r.addEventListener(o,P,!1):r.attachEvent("on"+o,v),r[Wt]=r[Wt]||{},r[Wt][m]=v}function Ta(r,o,c,h,m){m=m||o+p(c)+(h?"_"+p(h):"");var v=r[Wt]&&r[Wt][m];if(!v)return this;!re.touchNative&&re.pointer&&o.indexOf("touch")===0?Ag(r,o,v):re.touch&&o==="dblclick"?Hg(r,v):"removeEventListener"in r?r.removeEventListener(La[o]||o,v,!1):r.detachEvent("on"+o,v),r[Wt][m]=null}function Wn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ba(r){return Ea(r,"wheel",Wn),this}function cr(r){return ue(r,"mousedown touchstart dblclick contextmenu",Wn),r._leaflet_disable_click=!0,this}function We(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Gn(r){return We(r),Wn(r),this}function Ju(r){if(r.composedPath)return r.composedPath();for(var o=[],c=r.target;c;)o.push(c),c=c.parentNode;return o}function Xu(r,o){if(!o)return new B(r.clientX,r.clientY);var c=Pa(o),h=c.boundingClientRect;return new B((r.clientX-h.left)/c.x-o.clientLeft,(r.clientY-h.top)/c.y-o.clientTop)}var Gg=re.linux&&re.chrome?window.devicePixelRatio:re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ed(r){return re.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Gg:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ja(r,o){var c=o.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var Kg={__proto__:null,on:ue,off:Ce,stopPropagation:Wn,disableScrollPropagation:ba,disableClickPropagation:cr,preventDefault:We,stop:Gn,getPropagationPath:Ju,getMousePosition:Xu,getWheelDelta:ed,isExternalTarget:ja,addListener:ue,removeListener:Ce},td=ge.extend({run:function(r,o,c,h){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=$n(r),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(r){var o=+new Date-this._startTime,c=this._duration*1e3;o<c?this._runFrame(this._easeOut(o/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,o){var c=this._startPos.add(this._offset.multiplyBy(r));o&&c._round(),De(this._el,c),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ve=ge.extend({options:{crs:ke,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,o){o=b(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(ne(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&re.any3d&&!re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ue(this._proxy,Ku,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,o,c){if(o=o===void 0?this._zoom:this._limitZoom(o),r=this._limitCenter(ne(r),o,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=a({animate:c.animate},c.zoom),c.pan=a({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,o,c.zoom):this._tryAnimatedPan(r,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(r,o,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,o){return this._loaded?this.setView(this.getCenter(),r,{zoom:o}):(this._zoom=r,this)},zoomIn:function(r,o){return r=r||(re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,o)},zoomOut:function(r,o){return r=r||(re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,o)},setZoomAround:function(r,o,c){var h=this.getZoomScale(o),m=this.getSize().divideBy(2),v=r instanceof B?r:this.latLngToContainerPoint(r),P=v.subtract(m).multiplyBy(1-1/h),M=this.containerPointToLatLng(m.add(P));return this.setView(M,o,{zoom:c})},_getBoundsCenterZoom:function(r,o){o=o||{},r=r.getBounds?r.getBounds():pe(r);var c=U(o.paddingTopLeft||o.padding||[0,0]),h=U(o.paddingBottomRight||o.padding||[0,0]),m=this.getBoundsZoom(r,!1,c.add(h));if(m=typeof o.maxZoom=="number"?Math.min(o.maxZoom,m):m,m===1/0)return{center:r.getCenter(),zoom:m};var v=h.subtract(c).divideBy(2),P=this.project(r.getSouthWest(),m),M=this.project(r.getNorthEast(),m),D=this.unproject(P.add(M).divideBy(2).add(v),m);return{center:D,zoom:m}},fitBounds:function(r,o){if(r=pe(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,o);return this.setView(c.center,c.zoom,o)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,o){return this.setView(r,this._zoom,{pan:o})},panBy:function(r,o){if(r=U(r).round(),o=o||{},!r.x&&!r.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new td,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){de(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,o.duration||.25,o.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,o,c){if(c=c||{},c.animate===!1||!re.any3d)return this.setView(r,o,c);this._stop();var h=this.project(this.getCenter()),m=this.project(r),v=this.getSize(),P=this._zoom;r=ne(r),o=o===void 0?P:o;var M=Math.max(v.x,v.y),D=M*this.getZoomScale(P,o),Z=m.distanceTo(h)||1,J=1.42,ae=J*J;function fe(ze){var bs=ze?-1:1,Av=ze?D:M,Dv=D*D-M*M+bs*ae*ae*Z*Z,zv=2*Av*ae*Z,Ua=Dv/zv,Id=Math.sqrt(Ua*Ua+1)-Ua,Fv=Id<1e-9?-18:Math.log(Id);return Fv}function it(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function Ze(ze){return(Math.exp(ze)+Math.exp(-ze))/2}function kt(ze){return it(ze)/Ze(ze)}var ct=fe(0);function _i(ze){return M*(Ze(ct)/Ze(ct+J*ze))}function Ov(ze){return M*(Ze(ct)*kt(ct+J*ze)-it(ct))/ae}function Mv(ze){return 1-Math.pow(1-ze,1.5)}var Rv=Date.now(),Md=(fe(1)-ct)/J,Iv=c.duration?1e3*c.duration:1e3*Md*.8;function Rd(){var ze=(Date.now()-Rv)/Iv,bs=Mv(ze)*Md;ze<=1?(this._flyToFrame=Y(Rd,this),this._move(this.unproject(h.add(m.subtract(h).multiplyBy(Ov(bs)/Z)),P),this.getScaleZoom(M/_i(bs),P),{flyTo:!0})):this._move(r,o)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Rd.call(this),this},flyToBounds:function(r,o){var c=this._getBoundsCenterZoom(r,o);return this.flyTo(c.center,c.zoom,o)},setMaxBounds:function(r){return r=pe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var o=this.options.minZoom;return this.options.minZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var o=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,o){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,pe(r));return c.equals(h)||this.panTo(h,o),this._enforcingBounds=!1,this},panInside:function(r,o){o=o||{};var c=U(o.paddingTopLeft||o.padding||[0,0]),h=U(o.paddingBottomRight||o.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(r),P=this.getPixelBounds(),M=oe([P.min.add(c),P.max.subtract(h)]),D=M.getSize();if(!M.contains(v)){this._enforcingBounds=!0;var Z=v.subtract(M.getCenter()),J=M.extend(v).getSize().subtract(D);m.x+=Z.x<0?-J.x:J.x,m.y+=Z.y<0?-J.y:J.y,this.panTo(this.unproject(m),o),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=a({animate:!1,pan:!0},r===!0?{animate:!0}:r);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=o.divideBy(2).round(),m=c.divideBy(2).round(),v=h.subtract(m);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=a({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),c=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,c,r):navigator.geolocation.getCurrentPosition(o,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var o=r.code,c=r.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var o=r.coords.latitude,c=r.coords.longitude,h=new K(o,c),m=h.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var P=this.getBoundsZoom(m);this.setView(h,v.maxZoom?Math.min(P,v.maxZoom):P)}var M={latlng:h,bounds:m,timestamp:r.timestamp};for(var D in r.coords)typeof r.coords[D]=="number"&&(M[D]=r.coords[D]);this.fire("locationfound",M)}},addHandler:function(r,o){if(!o)return this;var c=this[r]=new o(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Te(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,o){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),h=xe("div",c,o||this._mapPane);return r&&(this._panes[r]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),o=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new _e(o,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,o,c){r=pe(r),c=U(c||[0,0]);var h=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),P=r.getNorthWest(),M=r.getSouthEast(),D=this.getSize().subtract(c),Z=oe(this.project(M,h),this.project(P,h)).getSize(),J=re.any3d?this.options.zoomSnap:1,ae=D.x/Z.x,fe=D.y/Z.y,it=o?Math.max(ae,fe):Math.min(ae,fe);return h=this.getScaleZoom(it,h),J&&(h=Math.round(h/(J/100))*(J/100),h=o?Math.ceil(h/J)*J:Math.floor(h/J)*J),Math.max(m,Math.min(v,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,o){var c=this._getTopLeftPoint(r,o);return new X(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,o){var c=this.options.crs;return o=o===void 0?this._zoom:o,c.scale(r)/c.scale(o)},getScaleZoom:function(r,o){var c=this.options.crs;o=o===void 0?this._zoom:o;var h=c.zoom(r*c.scale(o));return isNaN(h)?1/0:h},project:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(ne(r),o)},unproject:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(U(r),o)},layerPointToLatLng:function(r){var o=U(r).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(r){var o=this.project(ne(r))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ne(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(pe(r))},distance:function(r,o){return this.options.crs.distance(ne(r),ne(o))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var o=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(r)))},mouseEventToContainerPoint:function(r){return Xu(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var o=this._container=qu(r);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ue(o,"scroll",this._onScroll,this),this._containerId=p(o)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&re.any3d,de(r,"leaflet-container"+(re.touch?" leaflet-touch":"")+(re.retina?" leaflet-retina":"")+(re.ielt9?" leaflet-oldie":"")+(re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=sr(r,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(r.markerPane,"leaflet-zoom-hide"),de(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,o,c){De(this._mapPane,new B(0,0));var h=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var m=this._zoom!==o;this._moveStart(m,c)._move(r,o)._moveEnd(m),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(r,o){return r&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(r,o,c,h){o===void 0&&(o=this._zoom);var m=this._zoom!==o;return this._zoom=o,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),h?c&&c.pinch&&this.fire("zoom",c):((m||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){De(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[p(this._container)]=this;var o=r?Ce:ue;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),re.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,o){for(var c=[],h,m=o==="mouseout"||o==="mouseover",v=r.target||r.srcElement,P=!1;v;){if(h=this._targets[p(v)],h&&(o==="click"||o==="preclick")&&this._draggableMoved(h)){P=!0;break}if(h&&h.listens(o,!0)&&(m&&!ja(v,r)||(c.push(h),m))||v===this._container)break;v=v.parentNode}return!c.length&&!P&&!m&&this.listens(o,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var o=r.target||r.srcElement;if(!(!this._loaded||o._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(o))){var c=r.type;c==="mousedown"&&ka(o),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,o,c){if(r.type==="click"){var h=a({},r);h.type="preclick",this._fireDOMEvent(h,h.type,c)}var m=this._findEventTargets(r,o);if(c){for(var v=[],P=0;P<c.length;P++)c[P].listens(o,!0)&&v.push(c[P]);m=v.concat(m)}if(m.length){o==="contextmenu"&&We(r);var M=m[0],D={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Z=M.getLatLng&&(!M._radius||M._radius<=10);D.containerPoint=Z?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(r),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=Z?M.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(P=0;P<m.length;P++)if(m[P].fire(o,D,!0),D.originalEvent._stopped||m[P].options.bubblingMouseEvents===!1&&N(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,o=this._handlers.length;r<o;r++)this._handlers[r].disable()},whenReady:function(r,o){return this._loaded?r.call(o||this,{target:this}):this.on("load",r,o),this},_getMapPanePos:function(){return $n(this._mapPane)||new B(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,o){var c=r&&o!==void 0?this._getNewPixelOrigin(r,o):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,o){var c=this.getSize()._divideBy(2);return this.project(r,o)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,o,c){var h=this._getNewPixelOrigin(c,o);return this.project(r,o)._subtract(h)},_latLngBoundsToNewLayerBounds:function(r,o,c){var h=this._getNewPixelOrigin(c,o);return oe([this.project(r.getSouthWest(),o)._subtract(h),this.project(r.getNorthWest(),o)._subtract(h),this.project(r.getSouthEast(),o)._subtract(h),this.project(r.getNorthEast(),o)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,o,c){if(!c)return r;var h=this.project(r,o),m=this.getSize().divideBy(2),v=new X(h.subtract(m),h.add(m)),P=this._getBoundsOffset(v,c,o);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?r:this.unproject(h.add(P),o)},_limitOffset:function(r,o){if(!o)return r;var c=this.getPixelBounds(),h=new X(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(h,o))},_getBoundsOffset:function(r,o,c){var h=oe(this.project(o.getNorthEast(),c),this.project(o.getSouthWest(),c)),m=h.min.subtract(r.min),v=h.max.subtract(r.max),P=this._rebound(m.x,-v.x),M=this._rebound(m.y,-v.y);return new B(P,M)},_rebound:function(r,o){return r+o>0?Math.round(r-o)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(o))},_limitZoom:function(r){var o=this.getMinZoom(),c=this.getMaxZoom(),h=re.any3d?this.options.zoomSnap:1;return h&&(r=Math.round(r/h)*h),Math.max(o,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,o){var c=this._getCenterOffset(r)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,o),!0)},_createAnimProxy:function(){var r=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(o){var c=ya,h=this._proxy.style[c];Hn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),o=this.getZoom();Hn(this._proxy,this.project(r,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,o,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(o),m=this._getCenterOffset(r)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(m)?!1:(Y(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,o,!0)},this),!0)},_animateZoom:function(r,o,c,h){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=o,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:o,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qg(r,o){return new ve(r,o)}var Mt=A.extend({options:{position:"topright"},initialize:function(r){b(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var o=this._map;return o&&o.removeControl(this),this.options.position=r,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var o=this._container=this.onAdd(r),c=this.getPosition(),h=r._controlCorners[c];return de(o,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(o,h.firstChild):h.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ur=function(r){return new Mt(r)};ve.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},o="leaflet-",c=this._controlContainer=xe("div",o+"control-container",this._container);function h(m,v){var P=o+m+" "+o+v;r[m+v]=xe("div",P,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Te(this._controlCorners[r]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nd=Mt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,o,c,h){return c<h?-1:h<c?1:0}},initialize:function(r,o,c){b(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in r)this._addLayer(r[h],h);for(h in o)this._addLayer(o[h],h,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Mt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,o){return this._addLayer(r,o),this._map?this._update():this},addOverlay:function(r,o){return this._addLayer(r,o,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var o=this._getLayer(p(r));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",o=this._container=xe("div",r),c=this.options.collapsed;o.setAttribute("aria-haspopup",!0),cr(o),ba(o);var h=this._section=xe("section",r+"-list");c&&(this._map.on("click",this.collapse,this),ue(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=xe("a",r+"-toggle",o);m.href="#",m.title="Layers",m.setAttribute("role","button"),ue(m,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){We(v),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=xe("div",r+"-base",h),this._separator=xe("div",r+"-separator",h),this._overlaysList=xe("div",r+"-overlays",h),o.appendChild(h)},_getLayer:function(r){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&p(this._layers[o].layer)===r)return this._layers[o]},_addLayer:function(r,o,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:o,overlay:c}),this.options.sortLayers&&this._layers.sort(u(function(h,m){return this.options.sortFunction(h.layer,m.layer,h.name,m.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ps(this._baseLayersList),ps(this._overlaysList),this._layerControlInputs=[];var r,o,c,h,m=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),o=o||h.overlay,r=r||!h.overlay,m+=h.overlay?0:1;return this.options.hideSingleBase&&(r=r&&m>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=o&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var o=this._getLayer(p(r.target)),c=o.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,o)},_createRadioElement:function(r,o){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(o?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(r){var o=document.createElement("label"),c=this._map.hasLayer(r.layer),h;r.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+p(this),c),this._layerControlInputs.push(h),h.layerId=p(r.layer),ue(h,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+r.name;var v=document.createElement("span");o.appendChild(v),v.appendChild(h),v.appendChild(m);var P=r.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,o,c,h=[],m=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)o=r[v],c=this._getLayer(o.layerId).layer,o.checked?h.push(c):o.checked||m.push(c);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<h.length;v++)this._map.hasLayer(h[v])||this._map.addLayer(h[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,o,c,h=this._map.getZoom(),m=r.length-1;m>=0;m--)o=r[m],c=this._getLayer(o.layerId).layer,o.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ue(r,"click",We),this.expand();var o=this;setTimeout(function(){Ce(r,"click",We),o._preventClick=!1})}}),Qg=function(r,o,c){return new nd(r,o,c)},Oa=Mt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var o="leaflet-control-zoom",c=xe("div",o+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,o+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,o+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,o,c,h,m){var v=xe("a",c,h);return v.innerHTML=r,v.href="#",v.title=o,v.setAttribute("role","button"),v.setAttribute("aria-label",o),cr(v),ue(v,"click",Gn),ue(v,"click",m,this),ue(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,o="leaflet-disabled";Re(this._zoomInButton,o),Re(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(de(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(de(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});ve.mergeOptions({zoomControl:!0}),ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oa,this.addControl(this.zoomControl))});var Yg=function(r){return new Oa(r)},id=Mt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var o="leaflet-control-scale",c=xe("div",o),h=this.options;return this._addScales(h,o+"-line",c),r.on(h.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,o,c){r.metric&&(this._mScale=xe("div",o,c)),r.imperial&&(this._iScale=xe("div",o,c))},_update:function(){var r=this._map,o=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,o]),r.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var o=this._getRoundNum(r),c=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,c,o/r)},_updateImperial:function(r){var o=r*3.2808399,c,h,m;o>5280?(c=o/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(m=this._getRoundNum(o),this._updateScale(this._iScale,m+" ft",m/o))},_updateScale:function(r,o,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=o},_getRoundNum:function(r){var o=Math.pow(10,(Math.floor(r)+"").length-1),c=r/o;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,o*c}}),Jg=function(r){return new id(r)},Xg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ma=Mt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(re.inlineSvg?Xg+" ":"")+"Leaflet</a>"},initialize:function(r){b(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),cr(this._container);for(var o in r._layers)r._layers[o].getAttribution&&this.addAttribution(r._layers[o].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var o in this._attributions)this._attributions[o]&&r.push(o);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ve.mergeOptions({attributionControl:!0}),ve.addInitHook(function(){this.options.attributionControl&&new Ma().addTo(this)});var ev=function(r){return new Ma(r)};Mt.Layers=nd,Mt.Zoom=Oa,Mt.Scale=id,Mt.Attribution=Ma,ur.layers=Qg,ur.zoom=Yg,ur.scale=Jg,ur.attribution=ev;var Gt=A.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(r,o){return r.addHandler(o,this),this};var tv={Events:te},rd=re.touch?"touchstart mousedown":"mousedown",xn=ge.extend({options:{clickTolerance:3},initialize:function(r,o,c,h){b(this,h),this._element=r,this._dragStartTarget=o||r,this._preventOutline=c},enable:function(){this._enabled||(ue(this._dragStartTarget,rd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),Ce(this._dragStartTarget,rd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!_a(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){xn._dragging===this&&this.finishDrag();return}if(!(xn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(xn._dragging=this,this._preventOutline&&ka(this._element),Sa(),or(),!this._moving)){this.fire("down");var o=r.touches?r.touches[0]:r,c=Qu(this._element);this._startPoint=new B(o.clientX,o.clientY),this._startPos=$n(this._element),this._parentScale=Pa(c);var h=r.type==="mousedown";ue(document,h?"mousemove":"touchmove",this._onMove,this),ue(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var o=r.touches&&r.touches.length===1?r.touches[0]:r,c=new B(o.clientX,o.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,We(r),this._moved||(this.fire("dragstart"),this._moved=!0,de(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),De(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Re(document.body,"leaflet-dragging"),this._lastTarget&&(Re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ce(document,"mousemove touchmove",this._onMove,this),Ce(document,"mouseup touchend touchcancel",this._onUp,this),Ca(),ar();var o=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,o&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function sd(r,o,c){var h,m=[1,4,2,8],v,P,M,D,Z,J,ae,fe;for(v=0,J=r.length;v<J;v++)r[v]._code=Kn(r[v],o);for(M=0;M<4;M++){for(ae=m[M],h=[],v=0,J=r.length,P=J-1;v<J;P=v++)D=r[v],Z=r[P],D._code&ae?Z._code&ae||(fe=_s(Z,D,ae,o,c),fe._code=Kn(fe,o),h.push(fe)):(Z._code&ae&&(fe=_s(Z,D,ae,o,c),fe._code=Kn(fe,o),h.push(fe)),h.push(D));r=h}return r}function od(r,o){var c,h,m,v,P,M,D,Z,J;if(!r||r.length===0)throw new Error("latlngs not passed");Nt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ae=ne([0,0]),fe=pe(r),it=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());it<1700&&(ae=Ra(r));var Ze=r.length,kt=[];for(c=0;c<Ze;c++){var ct=ne(r[c]);kt.push(o.project(ne([ct.lat-ae.lat,ct.lng-ae.lng])))}for(M=D=Z=0,c=0,h=Ze-1;c<Ze;h=c++)m=kt[c],v=kt[h],P=m.y*v.x-v.y*m.x,D+=(m.x+v.x)*P,Z+=(m.y+v.y)*P,M+=P*3;M===0?J=kt[0]:J=[D/M,Z/M];var _i=o.unproject(U(J));return ne([_i.lat+ae.lat,_i.lng+ae.lng])}function Ra(r){for(var o=0,c=0,h=0,m=0;m<r.length;m++){var v=ne(r[m]);o+=v.lat,c+=v.lng,h++}return ne([o/h,c/h])}var nv={__proto__:null,clipPolygon:sd,polygonCenter:od,centroid:Ra};function ad(r,o){if(!o||!r.length)return r.slice();var c=o*o;return r=sv(r,c),r=rv(r,c),r}function ld(r,o,c){return Math.sqrt(dr(r,o,c,!0))}function iv(r,o,c){return dr(r,o,c)}function rv(r,o){var c=r.length,h=typeof Uint8Array<"u"?Uint8Array:Array,m=new h(c);m[0]=m[c-1]=1,Ia(r,m,o,0,c-1);var v,P=[];for(v=0;v<c;v++)m[v]&&P.push(r[v]);return P}function Ia(r,o,c,h,m){var v=0,P,M,D;for(M=h+1;M<=m-1;M++)D=dr(r[M],r[h],r[m],!0),D>v&&(P=M,v=D);v>c&&(o[P]=1,Ia(r,o,c,h,P),Ia(r,o,c,P,m))}function sv(r,o){for(var c=[r[0]],h=1,m=0,v=r.length;h<v;h++)ov(r[h],r[m])>o&&(c.push(r[h]),m=h);return m<v-1&&c.push(r[v-1]),c}var cd;function ud(r,o,c,h,m){var v=h?cd:Kn(r,c),P=Kn(o,c),M,D,Z;for(cd=P;;){if(!(v|P))return[r,o];if(v&P)return!1;M=v||P,D=_s(r,o,M,c,m),Z=Kn(D,c),M===v?(r=D,v=Z):(o=D,P=Z)}}function _s(r,o,c,h,m){var v=o.x-r.x,P=o.y-r.y,M=h.min,D=h.max,Z,J;return c&8?(Z=r.x+v*(D.y-r.y)/P,J=D.y):c&4?(Z=r.x+v*(M.y-r.y)/P,J=M.y):c&2?(Z=D.x,J=r.y+P*(D.x-r.x)/v):c&1&&(Z=M.x,J=r.y+P*(M.x-r.x)/v),new B(Z,J,m)}function Kn(r,o){var c=0;return r.x<o.min.x?c|=1:r.x>o.max.x&&(c|=2),r.y<o.min.y?c|=4:r.y>o.max.y&&(c|=8),c}function ov(r,o){var c=o.x-r.x,h=o.y-r.y;return c*c+h*h}function dr(r,o,c,h){var m=o.x,v=o.y,P=c.x-m,M=c.y-v,D=P*P+M*M,Z;return D>0&&(Z=((r.x-m)*P+(r.y-v)*M)/D,Z>1?(m=c.x,v=c.y):Z>0&&(m+=P*Z,v+=M*Z)),P=r.x-m,M=r.y-v,h?P*P+M*M:new B(m,v)}function Nt(r){return!w(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function dd(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nt(r)}function hd(r,o){var c,h,m,v,P,M,D,Z;if(!r||r.length===0)throw new Error("latlngs not passed");Nt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var J=ne([0,0]),ae=pe(r),fe=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());fe<1700&&(J=Ra(r));var it=r.length,Ze=[];for(c=0;c<it;c++){var kt=ne(r[c]);Ze.push(o.project(ne([kt.lat-J.lat,kt.lng-J.lng])))}for(c=0,h=0;c<it-1;c++)h+=Ze[c].distanceTo(Ze[c+1])/2;if(h===0)Z=Ze[0];else for(c=0,v=0;c<it-1;c++)if(P=Ze[c],M=Ze[c+1],m=P.distanceTo(M),v+=m,v>h){D=(v-h)/m,Z=[M.x-D*(M.x-P.x),M.y-D*(M.y-P.y)];break}var ct=o.unproject(U(Z));return ne([ct.lat+J.lat,ct.lng+J.lng])}var av={__proto__:null,simplify:ad,pointToSegmentDistance:ld,closestPointOnSegment:iv,clipSegment:ud,_getEdgeIntersection:_s,_getBitCode:Kn,_sqClosestPointOnSegment:dr,isFlat:Nt,_flat:dd,polylineCenter:hd},Aa={project:function(r){return new B(r.lng,r.lat)},unproject:function(r){return new K(r.y,r.x)},bounds:new X([-180,-90],[180,90])},Da={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var o=Math.PI/180,c=this.R,h=r.lat*o,m=this.R_MINOR/c,v=Math.sqrt(1-m*m),P=v*Math.sin(h),M=Math.tan(Math.PI/4-h/2)/Math.pow((1-P)/(1+P),v/2);return h=-c*Math.log(Math.max(M,1e-10)),new B(r.lng*o*c,h)},unproject:function(r){for(var o=180/Math.PI,c=this.R,h=this.R_MINOR/c,m=Math.sqrt(1-h*h),v=Math.exp(-r.y/c),P=Math.PI/2-2*Math.atan(v),M=0,D=.1,Z;M<15&&Math.abs(D)>1e-7;M++)Z=m*Math.sin(P),Z=Math.pow((1-Z)/(1+Z),m/2),D=Math.PI/2-2*Math.atan(v*Z)-P,P+=D;return new K(P*o,r.x*o/c)}},lv={__proto__:null,LonLat:Aa,Mercator:Da,SphericalMercator:Zt},cv=a({},nt,{code:"EPSG:3395",projection:Da,transformation:function(){var r=.5/(Math.PI*Da.R);return le(r,.5,-r,.5)}()}),fd=a({},nt,{code:"EPSG:4326",projection:Aa,transformation:le(1/180,1,-1/180,.5)}),uv=a({},Se,{projection:Aa,transformation:le(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,o){var c=o.lng-r.lng,h=o.lat-r.lat;return Math.sqrt(c*c+h*h)},infinite:!0});Se.Earth=nt,Se.EPSG3395=cv,Se.EPSG3857=ke,Se.EPSG900913=Ye,Se.EPSG4326=fd,Se.Simple=uv;var Rt=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[p(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[p(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var o=r.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var c=this.getEvents();o.on(c,this),this.once("remove",function(){o.off(c,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});ve.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var o=p(r);return this._layers[o]?this:(this._layers[o]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var o=p(r);return this._layers[o]?(this._loaded&&r.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return p(r)in this._layers},eachLayer:function(r,o){for(var c in this._layers)r.call(o,this._layers[c]);return this},_addLayers:function(r){r=r?w(r)?r:[r]:[];for(var o=0,c=r.length;o<c;o++)this.addLayer(r[o])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[p(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var o=p(r);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,o=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var m=this._zoomBoundLayers[h].options;r=m.minZoom===void 0?r:Math.min(r,m.minZoom),o=m.maxZoom===void 0?o:Math.max(o,m.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pi=Rt.extend({initialize:function(r,o){b(this,o),this._layers={};var c,h;if(r)for(c=0,h=r.length;c<h;c++)this.addLayer(r[c])},addLayer:function(r){var o=this.getLayerId(r);return this._layers[o]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var o=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(r){var o=typeof r=="number"?r:this.getLayerId(r);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var o=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[r]&&h[r].apply(h,o);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,o){for(var c in this._layers)r.call(o,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return p(r)}}),dv=function(r,o){return new pi(r,o)},rn=pi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),pi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),pi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new _e;for(var o in this._layers){var c=this._layers[o];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),hv=function(r,o){return new rn(r,o)},mi=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){b(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,o){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(h,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(r,o){var c=this.options,h=c[o+"Size"];typeof h=="number"&&(h=[h,h]);var m=U(h),v=U(o==="shadow"&&c.shadowAnchor||c.iconAnchor||m&&m.divideBy(2,!0));r.className="leaflet-marker-"+o+" "+(c.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),m&&(r.style.width=m.x+"px",r.style.height=m.y+"px")},_createImg:function(r,o){return o=o||document.createElement("img"),o.src=r,o},_getIconUrl:function(r){return re.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function fv(r){return new mi(r)}var hr=mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof hr.imagePath!="string"&&(hr.imagePath=this._detectIconPath()),(this.options.imagePath||hr.imagePath)+mi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var o=function(c,h,m){var v=h.exec(c);return v&&v[m]};return r=o(r,/^url\((['"])?(.+)\1\)$/,2),r&&o(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=xe("div","leaflet-default-icon-path",document.body),o=sr(r,"background-image")||sr(r,"backgroundImage");if(document.body.removeChild(r),o=this._stripUrl(o),o)return o;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),pd=Gt.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new xn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var o=this._marker,c=o._map,h=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=$n(o._icon),P=c.getPixelBounds(),M=c.getPixelOrigin(),D=oe(P.min._subtract(M).add(m),P.max._subtract(M).subtract(m));if(!D.contains(v)){var Z=U((Math.max(D.max.x,v.x)-D.max.x)/(P.max.x-D.max.x)-(Math.min(D.min.x,v.x)-D.min.x)/(P.min.x-D.min.x),(Math.max(D.max.y,v.y)-D.max.y)/(P.max.y-D.max.y)-(Math.min(D.min.y,v.y)-D.min.y)/(P.min.y-D.min.y)).multiplyBy(h);c.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),De(o._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Y(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,r)))},_onDrag:function(r){var o=this._marker,c=o._shadow,h=$n(o._icon),m=o._map.layerPointToLatLng(h);c&&De(c,h),o._latlng=m,r.latlng=m,r.oldLatLng=this._oldLatLng,o.fire("move",r).fire("drag",r)},_onDragEnd:function(r){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),xs=Rt.extend({options:{icon:new hr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,o){b(this,o),this._latlng=ne(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var o=this._latlng;return this._latlng=ne(r),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),de(c,o),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(c,"focus",this._panOnFocus,this);var m=r.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(de(m,o),m.alt=""),this._shadow=m,r.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(this._icon,"focus",this._panOnFocus,this),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&De(this._icon,r),this._shadow&&De(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pd)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pd(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ct(this._icon,r),this._shadow&&Ct(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var o=this.options.icon.options,c=o.iconSize?U(o.iconSize):U(0,0),h=o.iconAnchor?U(o.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:c.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pv(r,o){return new xs(r,o)}var wn=Rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return b(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ws=wn.extend({options:{fill:!0,radius:10},initialize:function(r,o){b(this,o),this._latlng=ne(r),this._radius=this.options.radius},setLatLng:function(r){var o=this._latlng;return this._latlng=ne(r),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var o=r&&r.radius||this._radius;return wn.prototype.setStyle.call(this,r),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,o=this._radiusY||r,c=this._clickTolerance(),h=[r+c,o+c];this._pxBounds=new X(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mv(r,o){return new ws(r,o)}var za=ws.extend({initialize:function(r,o,c){if(typeof o=="number"&&(o=a({},c,{radius:o})),b(this,o),this._latlng=ne(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:wn.prototype.setStyle,_project:function(){var r=this._latlng.lng,o=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===nt.distance){var m=Math.PI/180,v=this._mRadius/nt.R/m,P=c.project([o+v,r]),M=c.project([o-v,r]),D=P.add(M).divideBy(2),Z=c.unproject(D).lat,J=Math.acos((Math.cos(v*m)-Math.sin(o*m)*Math.sin(Z*m))/(Math.cos(o*m)*Math.cos(Z*m)))/m;(isNaN(J)||J===0)&&(J=v/Math.cos(Math.PI/180*o)),this._point=D.subtract(c.getPixelOrigin()),this._radius=isNaN(J)?0:D.x-c.project([Z,r-J]).x,this._radiusY=D.y-P.y}else{var ae=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ae).x}this._updateBounds()}});function gv(r,o,c){return new za(r,o,c)}var sn=wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,o){b(this,o),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var o=1/0,c=null,h=dr,m,v,P=0,M=this._parts.length;P<M;P++)for(var D=this._parts[P],Z=1,J=D.length;Z<J;Z++){m=D[Z-1],v=D[Z];var ae=h(r,m,v,!0);ae<o&&(o=ae,c=h(r,m,v))}return c&&(c.distance=Math.sqrt(o)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,o){return o=o||this._defaultShape(),r=ne(r),o.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new _e,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Nt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var o=[],c=Nt(r),h=0,m=r.length;h<m;h++)c?(o[h]=ne(r[h]),this._bounds.extend(o[h])):o[h]=this._convertLatLngs(r[h]);return o},_project:function(){var r=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),o=new B(r,r);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(r,o,c){var h=r[0]instanceof K,m=r.length,v,P;if(h){for(P=[],v=0;v<m;v++)P[v]=this._map.latLngToLayerPoint(r[v]),c.extend(P[v]);o.push(P)}else for(v=0;v<m;v++)this._projectLatlngs(r[v],o,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,c,h,m,v,P,M,D;for(c=0,m=0,v=this._rings.length;c<v;c++)for(D=this._rings[c],h=0,P=D.length;h<P-1;h++)M=ud(D[h],D[h+1],r,h,!0),M&&(o[m]=o[m]||[],o[m].push(M[0]),(M[1]!==D[h+1]||h===P-2)&&(o[m].push(M[1]),m++))}},_simplifyPoints:function(){for(var r=this._parts,o=this.options.smoothFactor,c=0,h=r.length;c<h;c++)r[c]=ad(r[c],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,o){var c,h,m,v,P,M,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,v=this._parts.length;c<v;c++)for(M=this._parts[c],h=0,P=M.length,m=P-1;h<P;m=h++)if(!(!o&&h===0)&&ld(r,M[m],M[h])<=D)return!0;return!1}});function vv(r,o){return new sn(r,o)}sn._flat=dd;var gi=sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return od(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var o=sn.prototype._convertLatLngs.call(this,r),c=o.length;return c>=2&&o[0]instanceof K&&o[0].equals(o[c-1])&&o.pop(),o},_setLatLngs:function(r){sn.prototype._setLatLngs.call(this,r),Nt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,o=this.options.weight,c=new B(o,o);if(r=new X(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,m=this._rings.length,v;h<m;h++)v=sd(this._rings[h],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var o=!1,c,h,m,v,P,M,D,Z;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,D=this._parts.length;v<D;v++)for(c=this._parts[v],P=0,Z=c.length,M=Z-1;P<Z;M=P++)h=c[P],m=c[M],h.y>r.y!=m.y>r.y&&r.x<(m.x-h.x)*(r.y-h.y)/(m.y-h.y)+h.x&&(o=!o);return o||sn.prototype._containsPoint.call(this,r,!0)}});function yv(r,o){return new gi(r,o)}var on=rn.extend({initialize:function(r,o){b(this,o),this._layers={},r&&this.addData(r)},addData:function(r){var o=w(r)?r:r.features,c,h,m;if(o){for(c=0,h=o.length;c<h;c++)m=o[c],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var P=Ss(r,v);return P?(P.feature=ks(r),P.defaultOptions=P.options,this.resetStyle(P),v.onEachFeature&&v.onEachFeature(r,P),this.addLayer(P)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=a({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(o){this._setLayerStyle(o,r)},this)},_setLayerStyle:function(r,o){r.setStyle&&(typeof o=="function"&&(o=o(r.feature)),r.setStyle(o))}});function Ss(r,o){var c=r.type==="Feature"?r.geometry:r,h=c?c.coordinates:null,m=[],v=o&&o.pointToLayer,P=o&&o.coordsToLatLng||Fa,M,D,Z,J;if(!h&&!c)return null;switch(c.type){case"Point":return M=P(h),md(v,r,M,o);case"MultiPoint":for(Z=0,J=h.length;Z<J;Z++)M=P(h[Z]),m.push(md(v,r,M,o));return new rn(m);case"LineString":case"MultiLineString":return D=Cs(h,c.type==="LineString"?0:1,P),new sn(D,o);case"Polygon":case"MultiPolygon":return D=Cs(h,c.type==="Polygon"?1:2,P),new gi(D,o);case"GeometryCollection":for(Z=0,J=c.geometries.length;Z<J;Z++){var ae=Ss({geometry:c.geometries[Z],type:"Feature",properties:r.properties},o);ae&&m.push(ae)}return new rn(m);case"FeatureCollection":for(Z=0,J=c.features.length;Z<J;Z++){var fe=Ss(c.features[Z],o);fe&&m.push(fe)}return new rn(m);default:throw new Error("Invalid GeoJSON object.")}}function md(r,o,c,h){return r?r(o,c):new xs(c,h&&h.markersInheritOptions&&h)}function Fa(r){return new K(r[1],r[0],r[2])}function Cs(r,o,c){for(var h=[],m=0,v=r.length,P;m<v;m++)P=o?Cs(r[m],o-1,c):(c||Fa)(r[m]),h.push(P);return h}function Ba(r,o){return r=ne(r),r.alt!==void 0?[C(r.lng,o),C(r.lat,o),C(r.alt,o)]:[C(r.lng,o),C(r.lat,o)]}function Ns(r,o,c,h){for(var m=[],v=0,P=r.length;v<P;v++)m.push(o?Ns(r[v],Nt(r[v])?0:o-1,c,h):Ba(r[v],h));return!o&&c&&m.length>0&&m.push(m[0].slice()),m}function vi(r,o){return r.feature?a({},r.feature,{geometry:o}):ks(o)}function ks(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Va={toGeoJSON:function(r){return vi(this,{type:"Point",coordinates:Ba(this.getLatLng(),r)})}};xs.include(Va),za.include(Va),ws.include(Va),sn.include({toGeoJSON:function(r){var o=!Nt(this._latlngs),c=Ns(this._latlngs,o?1:0,!1,r);return vi(this,{type:(o?"Multi":"")+"LineString",coordinates:c})}}),gi.include({toGeoJSON:function(r){var o=!Nt(this._latlngs),c=o&&!Nt(this._latlngs[0]),h=Ns(this._latlngs,c?2:o?1:0,!0,r);return o||(h=[h]),vi(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),pi.include({toMultiPoint:function(r){var o=[];return this.eachLayer(function(c){o.push(c.toGeoJSON(r).geometry.coordinates)}),vi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(r){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(r);var c=o==="GeometryCollection",h=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(r);if(c)h.push(v.geometry);else{var P=ks(v);P.type==="FeatureCollection"?h.push.apply(h,P.features):h.push(P)}}}),c?vi(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function gd(r,o){return new on(r,o)}var _v=gd,Ps=Rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,o,c){this._url=r,this._bounds=pe(o),b(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&hi(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=pe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",o=this._image=r?this._url:xe("img");if(de(o,"leaflet-image-layer"),this._zoomAnimated&&de(o,"leaflet-zoom-animated"),this.options.className&&de(o,this.options.className),o.onselectstart=y,o.onmousemove=y,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(r){var o=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Hn(this._image,c,o)},_reset:function(){var r=this._image,o=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=o.getSize();De(r,o.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),xv=function(r,o,c){return new Ps(r,o,c)},vd=Ps.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",o=this._image=r?this._url:xe("video");if(de(o,"leaflet-image-layer"),this._zoomAnimated&&de(o,"leaflet-zoom-animated"),this.options.className&&de(o,this.options.className),o.onselectstart=y,o.onmousemove=y,o.onloadeddata=u(this.fire,this,"load"),r){for(var c=o.getElementsByTagName("source"),h=[],m=0;m<c.length;m++)h.push(c[m].src);this._url=c.length>0?h:[o.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var P=xe("source");P.src=this._url[v],o.appendChild(P)}}});function wv(r,o,c){return new vd(r,o,c)}var yd=Ps.extend({_initImage:function(){var r=this._image=this._url;de(r,"leaflet-image-layer"),this._zoomAnimated&&de(r,"leaflet-zoom-animated"),this.options.className&&de(r,this.options.className),r.onselectstart=y,r.onmousemove=y}});function Sv(r,o,c){return new yd(r,o,c)}var Kt=Rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,o){r&&(r instanceof K||w(r))?(this._latlng=ne(r),b(this,o)):(b(this,r),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(u(Te,void 0,this._container),200)):Te(this._container),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ne(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hi(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(r){var o=this._source;if(!o._map)return!1;if(o instanceof rn){o=null;var c=this._source._layers;for(var h in c)if(c[h]._map){o=c[h];break}if(!o)return!1;this._source=o}if(!r)if(o.getCenter)r=o.getCenter();else if(o.getLatLng)r=o.getLatLng();else if(o.getBounds)r=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")r.innerHTML=o;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),o=U(this.options.offset),c=this._getAnchor();this._zoomAnimated?De(this._container,r.add(c)):o=o.add(r).add(c);var h=this._containerBottom=-o.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=h+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});ve.include({_initOverlay:function(r,o,c,h){var m=o;return m instanceof r||(m=new r(h).setContent(o)),c&&m.setLatLng(c),m}}),Rt.include({_initOverlay:function(r,o,c,h){var m=c;return m instanceof r?(b(m,h),m._source=this):(m=o&&!h?o:new r(h,this),m.setContent(c)),m}});var Ls=Kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Kt.prototype.openOn.call(this,r)},onAdd:function(r){Kt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wn||this._source.on("preclick",Wn))},onRemove:function(r){Kt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wn||this._source.off("preclick",Wn))},getEvents:function(){var r=Kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",o=this._container=xe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=xe("div",r+"-content-wrapper",o);if(this._contentNode=xe("div",r+"-content",c),cr(o),ba(this._contentNode),ue(o,"contextmenu",Wn),this._tipContainer=xe("div",r+"-tip-container",o),this._tip=xe("div",r+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=xe("a",r+"-close-button",o);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',ue(h,"click",function(m){We(m),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,o=r.style;o.width="",o.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),o.width=c+1+"px",o.whiteSpace="",o.height="";var h=r.offsetHeight,m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&h>m?(o.height=m+"px",de(r,v)):Re(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();De(this._container,o.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,o=parseInt(sr(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+o,h=this._containerWidth,m=new B(this._containerLeft,-c-this._containerBottom);m._add($n(this._container));var v=r.layerPointToContainerPoint(m),P=U(this.options.autoPanPadding),M=U(this.options.autoPanPaddingTopLeft||P),D=U(this.options.autoPanPaddingBottomRight||P),Z=r.getSize(),J=0,ae=0;v.x+h+D.x>Z.x&&(J=v.x+h-Z.x+D.x),v.x-J-M.x<0&&(J=v.x-M.x),v.y+c+D.y>Z.y&&(ae=v.y+c-Z.y+D.y),v.y-ae-M.y<0&&(ae=v.y-M.y),(J||ae)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([J,ae]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cv=function(r,o){return new Ls(r,o)};ve.mergeOptions({closePopupOnClick:!0}),ve.include({openPopup:function(r,o,c){return this._initOverlay(Ls,r,o,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Rt.include({bindPopup:function(r,o){return this._popup=this._initOverlay(Ls,this._popup,r,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Gn(r);var o=r.layer||r.target;if(this._popup._source===o&&!(o instanceof wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=o,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Es=Kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Kt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Kt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Kt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",o=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var o,c,h=this._map,m=this._container,v=h.latLngToContainerPoint(h.getCenter()),P=h.layerPointToContainerPoint(r),M=this.options.direction,D=m.offsetWidth,Z=m.offsetHeight,J=U(this.options.offset),ae=this._getAnchor();M==="top"?(o=D/2,c=Z):M==="bottom"?(o=D/2,c=0):M==="center"?(o=D/2,c=Z/2):M==="right"?(o=0,c=Z/2):M==="left"?(o=D,c=Z/2):P.x<v.x?(M="right",o=0,c=Z/2):(M="left",o=D+(J.x+ae.x)*2,c=Z/2),r=r.subtract(U(o,c,!0)).add(J).add(ae),Re(m,"leaflet-tooltip-right"),Re(m,"leaflet-tooltip-left"),Re(m,"leaflet-tooltip-top"),Re(m,"leaflet-tooltip-bottom"),de(m,"leaflet-tooltip-"+M),De(m,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ct(this._container,r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(o)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nv=function(r,o){return new Es(r,o)};ve.include({openTooltip:function(r,o,c){return this._initOverlay(Es,r,o,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Rt.include({bindTooltip:function(r,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Es,this._tooltip,r,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var o=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[o](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&(ue(o,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ue(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var o=r.latlng,c,h;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),h=this._map.containerPointToLayerPoint(c),o=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(o)}});var _d=mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var o=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(ps(o),o.appendChild(c.html)):o.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=U(c.bgPos);o.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function kv(r){return new _d(r)}mi.Default=hr;var fr=Rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){b(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Te(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof B?r:new B(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var o=this.getPane().children,c=-r(-1/0,1/0),h=0,m=o.length,v;h<m;h++)v=o[h].style.zIndex,o[h]!==this._container&&v&&(c=r(c,+v));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!re.ielt9){Ct(this._container,this.options.opacity);var r=+new Date,o=!1,c=!1;for(var h in this._tiles){var m=this._tiles[h];if(!(!m.current||!m.loaded)){var v=Math.min(1,(r-m.loaded)/200);Ct(m.el,v),v<1?o=!0:(m.active?c=!0:this._onOpaqueTile(m),m.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),o&&(G(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,o=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=o-Math.abs(r-c),this._onUpdateLevel(c)):(Te(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[r],m=this._map;return h||(h=this._levels[r]={},h.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=o,h.origin=m.project(m.unproject(m.getPixelOrigin()),r).round(),h.zoom=r,this._setZoomTransform(h,m.getCenter(),m.getZoom()),y(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var r,o,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)o=this._tiles[r],o.retain=o.current;for(r in this._tiles)if(o=this._tiles[r],o.current&&!o.active){var h=o.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var o in this._tiles)this._tiles[o].coords.z===r&&this._removeTile(o)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Te(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,o,c,h){var m=Math.floor(r/2),v=Math.floor(o/2),P=c-1,M=new B(+m,+v);M.z=+P;var D=this._tileCoordsToKey(M),Z=this._tiles[D];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),P>h?this._retainParent(m,v,P,h):!1)},_retainChildren:function(r,o,c,h){for(var m=2*r;m<2*r+2;m++)for(var v=2*o;v<2*o+2;v++){var P=new B(m,v);P.z=c+1;var M=this._tileCoordsToKey(P),D=this._tiles[M];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);c+1<h&&this._retainChildren(m,v,c+1,h)}},_resetView:function(r){var o=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var o=this.options;return o.minNativeZoom!==void 0&&r<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<r?o.maxNativeZoom:r},_setView:function(r,o,c,h){var m=Math.round(o);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var v=this.options.updateWhenZooming&&m!==this._tileZoom;(!h||v)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,o)},_setZoomTransforms:function(r,o){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,o)},_setZoomTransform:function(r,o,c){var h=this._map.getZoomScale(c,r.zoom),m=r.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(o,c)).round();re.any3d?Hn(r.el,m,h):De(r.el,m)},_resetGrid:function(){var r=this._map,o=r.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,o.wrapLng[0]],h).x/c.x),Math.ceil(r.project([0,o.wrapLng[1]],h).x/c.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([o.wrapLat[0],0],h).y/c.x),Math.ceil(r.project([o.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var o=this._map,c=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),h=o.getZoomScale(c,this._tileZoom),m=o.project(r,this._tileZoom).floor(),v=o.getSize().divideBy(h*2);return new X(m.subtract(v),m.add(v))},_update:function(r){var o=this._map;if(o){var c=this._clampZoom(o.getZoom());if(r===void 0&&(r=o.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(r),m=this._pxBoundsToTileRange(h),v=m.getCenter(),P=[],M=this.options.keepBuffer,D=new X(m.getBottomLeft().subtract([M,-M]),m.getTopRight().add([M,-M]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var J=this._tiles[Z].coords;(J.z!==this._tileZoom||!D.contains(new B(J.x,J.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var ae=m.min.y;ae<=m.max.y;ae++)for(var fe=m.min.x;fe<=m.max.x;fe++){var it=new B(fe,ae);if(it.z=this._tileZoom,!!this._isValidTile(it)){var Ze=this._tiles[this._tileCoordsToKey(it)];Ze?Ze.current=!0:P.push(it)}}if(P.sort(function(ct,_i){return ct.distanceTo(v)-_i.distanceTo(v)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kt=document.createDocumentFragment();for(fe=0;fe<P.length;fe++)this._addTile(P[fe],kt);this._level.el.appendChild(kt)}}}},_isValidTile:function(r){var o=this._map.options.crs;if(!o.infinite){var c=this._globalTileRange;if(!o.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!o.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(r);return pe(this.options.bounds).overlaps(h)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var o=this._map,c=this.getTileSize(),h=r.scaleBy(c),m=h.add(c),v=o.unproject(h,r.z),P=o.unproject(m,r.z);return[v,P]},_tileCoordsToBounds:function(r){var o=this._tileCoordsToNwSe(r),c=new _e(o[0],o[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var o=r.split(":"),c=new B(+o[0],+o[1]);return c.z=+o[2],c},_removeTile:function(r){var o=this._tiles[r];o&&(Te(o.el),delete this._tiles[r],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){de(r,"leaflet-tile");var o=this.getTileSize();r.style.width=o.x+"px",r.style.height=o.y+"px",r.onselectstart=y,r.onmousemove=y,re.ielt9&&this.options.opacity<1&&Ct(r,this.options.opacity)},_addTile:function(r,o){var c=this._getTilePos(r),h=this._tileCoordsToKey(r),m=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(m),this.createTile.length<2&&Y(u(this._tileReady,this,r,null,m)),De(m,c),this._tiles[h]={el:m,coords:r,current:!0},o.appendChild(m),this.fire("tileloadstart",{tile:m,coords:r})},_tileReady:function(r,o,c){o&&this.fire("tileerror",{error:o,tile:c,coords:r});var h=this._tileCoordsToKey(r);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ct(c.el,0),G(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),o||(de(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),re.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var o=new B(this._wrapX?S(r.x,this._wrapX):r.x,this._wrapY?S(r.y,this._wrapY):r.y);return o.z=r.z,o},_pxBoundsToTileRange:function(r){var o=this.getTileSize();return new X(r.min.unscaleBy(o).floor(),r.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Pv(r){return new fr(r)}var yi=fr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,o){this._url=r,o=b(this,o),o.detectRetina&&re.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,o){return this._url===r&&o===void 0&&(o=!0),this._url=r,o||this.redraw(),this},createTile:function(r,o){var c=document.createElement("img");return ue(c,"load",u(this._tileOnLoad,this,o,c)),ue(c,"error",u(this._tileOnError,this,o,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var o={r:re.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(o.y=c),o["-y"]=c}return _(this._url,a(o,this.options))},_tileOnLoad:function(r,o){re.ielt9?setTimeout(u(r,this,null,o),0):r(null,o)},_tileOnError:function(r,o,c){var h=this.options.errorTileUrl;h&&o.getAttribute("src")!==h&&(o.src=h),r(c,o)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,o=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(r=o-r),r+h},_getSubdomain:function(r){var o=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var r,o;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(o=this._tiles[r].el,o.onload=y,o.onerror=y,!o.complete)){o.src=R;var c=this._tiles[r].coords;Te(o),delete this._tiles[r],this.fire("tileabort",{tile:o,coords:c})}},_removeTile:function(r){var o=this._tiles[r];if(o)return o.el.setAttribute("src",R),fr.prototype._removeTile.call(this,r)},_tileReady:function(r,o,c){if(!(!this._map||c&&c.getAttribute("src")===R))return fr.prototype._tileReady.call(this,r,o,c)}});function xd(r,o){return new yi(r,o)}var wd=yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,o){this._url=r;var c=a({},this.defaultWmsParams);for(var h in o)h in this.options||(c[h]=o[h]);o=b(this,o);var m=o.detectRetina&&re.retina?2:1,v=this.getTileSize();c.width=v.x*m,c.height=v.y*m,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,yi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var o=this._tileCoordsToNwSe(r),c=this._crs,h=oe(c.project(o[0]),c.project(o[1])),m=h.min,v=h.max,P=(this._wmsVersion>=1.3&&this._crs===fd?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),M=yi.prototype.getTileUrl.call(this,r);return M+H(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(r,o){return a(this.wmsParams,r),o||this.redraw(),this}});function Lv(r,o){return new wd(r,o)}yi.WMS=wd,xd.wms=Lv;var an=Rt.extend({options:{padding:.1},initialize:function(r){b(this,r),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,o){var c=this._map.getZoomScale(o,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,o),v=h.multiplyBy(-c).add(m).subtract(this._map._getNewPixelOrigin(r,o));re.any3d?Hn(this._container,v,c):De(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,o=this._map.getSize(),c=this._map.containerPointToLayerPoint(o.multiplyBy(-r)).round();this._bounds=new X(c,c.add(o.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sd=an.extend({options:{tolerance:0},getEvents:function(){var r=an.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ue(r,"mousemove",this._onMouseMove,this),ue(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ue(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Te(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var o in this._layers)r=this._layers[o],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var r=this._bounds,o=this._container,c=r.getSize(),h=re.retina?2:1;De(o,r.min),o.width=h*c.x,o.height=h*c.y,o.style.width=c.x+"px",o.style.height=c.y+"px",re.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[p(r)]=r;var o=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var o=r._order,c=o.next,h=o.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete r._order,delete this._layers[p(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var o=r.options.dashArray.split(/[, ]+/),c=[],h,m;for(m=0;m<o.length;m++){if(h=Number(o[m]),isNaN(h))return;c.push(h)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var o=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(r._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(r._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var o=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,o=this._redrawBounds;if(this._ctx.save(),o){var c=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)r=h.layer,(!o||r._pxBounds&&r._pxBounds.intersects(o))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,o){if(this._drawing){var c,h,m,v,P=r._parts,M=P.length,D=this._ctx;if(M){for(D.beginPath(),c=0;c<M;c++){for(h=0,m=P[c].length;h<m;h++)v=P[c][h],D[h?"lineTo":"moveTo"](v.x,v.y);o&&D.closePath()}this._fillStroke(D,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var o=r._point,c=this._ctx,h=Math.max(Math.round(r._radius),1),m=(Math.max(Math.round(r._radiusY),1)||h)/h;m!==1&&(c.save(),c.scale(1,m)),c.beginPath(),c.arc(o.x,o.y/m,h,0,Math.PI*2,!1),m!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,o){var c=o.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(o.options&&o.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var o=this._map.mouseEventToLayerPoint(r),c,h,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(o)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);this._fireEvent(h?[h]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,o)}},_handleMouseOut:function(r){var o=this._hoveredLayer;o&&(Re(this._container,"leaflet-interactive"),this._fireEvent([o],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,o){if(!this._mouseHoverThrottled){for(var c,h,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(o)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(r),h&&(de(this._container,"leaflet-interactive"),this._fireEvent([h],r,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,o,c){this._map._fireDOMEvent(o,c||o.type,r)},_bringToFront:function(r){var o=r._order;if(o){var c=o.next,h=o.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(r)}},_bringToBack:function(r){var o=r._order;if(o){var c=o.next,h=o.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(r)}}});function Cd(r){return re.canvas?new Sd(r):null}var pr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ev={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var o=r._container=pr("shape");de(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",r._path=pr("path"),o.appendChild(r._path),this._updateStyle(r),this._layers[p(r)]=r},_addPath:function(r){var o=r._container;this._container.appendChild(o),r.options.interactive&&r.addInteractiveTarget(o)},_removePath:function(r){var o=r._container;Te(o),r.removeInteractiveTarget(o),delete this._layers[p(r)]},_updateStyle:function(r){var o=r._stroke,c=r._fill,h=r.options,m=r._container;m.stroked=!!h.stroke,m.filled=!!h.fill,h.stroke?(o||(o=r._stroke=pr("stroke")),m.appendChild(o),o.weight=h.weight+"px",o.color=h.color,o.opacity=h.opacity,h.dashArray?o.dashStyle=w(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=h.lineCap.replace("butt","flat"),o.joinstyle=h.lineJoin):o&&(m.removeChild(o),r._stroke=null),h.fill?(c||(c=r._fill=pr("fill")),m.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(m.removeChild(c),r._fill=null)},_updateCircle:function(r){var o=r._point.round(),c=Math.round(r._radius),h=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+o.x+","+o.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(r,o){r._path.v=o},_bringToFront:function(r){hi(r._container)},_bringToBack:function(r){fi(r._container)}},Ts=re.vml?pr:Ht,mr=an.extend({_initContainer:function(){this._container=Ts("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ts("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var r=this._bounds,o=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,c.setAttribute("width",o.x),c.setAttribute("height",o.y)),De(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(r){var o=r._path=Ts("path");r.options.className&&de(o,r.options.className),r.options.interactive&&de(o,"leaflet-interactive"),this._updateStyle(r),this._layers[p(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Te(r._path),r.removeInteractiveTarget(r._path),delete this._layers[p(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var o=r._path,c=r.options;o&&(c.stroke?(o.setAttribute("stroke",c.color),o.setAttribute("stroke-opacity",c.opacity),o.setAttribute("stroke-width",c.weight),o.setAttribute("stroke-linecap",c.lineCap),o.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?o.setAttribute("stroke-dasharray",c.dashArray):o.removeAttribute("stroke-dasharray"),c.dashOffset?o.setAttribute("stroke-dashoffset",c.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),c.fill?(o.setAttribute("fill",c.fillColor||c.color),o.setAttribute("fill-opacity",c.fillOpacity),o.setAttribute("fill-rule",c.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(r,o){this._setPath(r,_n(r._parts,o))},_updateCircle:function(r){var o=r._point,c=Math.max(Math.round(r._radius),1),h=Math.max(Math.round(r._radiusY),1)||c,m="a"+c+","+h+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(o.x-c)+","+o.y+m+c*2+",0 "+m+-c*2+",0 ";this._setPath(r,v)},_setPath:function(r,o){r._path.setAttribute("d",o)},_bringToFront:function(r){hi(r._path)},_bringToBack:function(r){fi(r._path)}});re.vml&&mr.include(Ev);function Nd(r){return re.svg||re.vml?new mr(r):null}ve.include({getRenderer:function(r){var o=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var o=this._paneRenderers[r];return o===void 0&&(o=this._createRenderer({pane:r}),this._paneRenderers[r]=o),o},_createRenderer:function(r){return this.options.preferCanvas&&Cd(r)||Nd(r)}});var kd=gi.extend({initialize:function(r,o){gi.prototype.initialize.call(this,this._boundsToLatLngs(r),o)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=pe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Tv(r,o){return new kd(r,o)}mr.create=Ts,mr.pointsToPath=_n,on.geometryToLayer=Ss,on.coordsToLatLng=Fa,on.coordsToLatLngs=Cs,on.latLngToCoords=Ba,on.latLngsToCoords=Ns,on.getFeature=vi,on.asFeature=ks,ve.mergeOptions({boxZoom:!0});var Pd=Gt.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),or(),Sa(),this._startPoint=this._map.mouseEventToContainerPoint(r),ue(document,{contextmenu:Gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var o=new X(this._point,this._startPoint),c=o.getSize();De(this._box,o.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Te(this._box),Re(this._container,"leaflet-crosshair")),ar(),Ca(),Ce(document,{contextmenu:Gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ve.addInitHook("addHandler","boxZoom",Pd),ve.mergeOptions({doubleClickZoom:!0});var Ld=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var o=this._map,c=o.getZoom(),h=o.options.zoomDelta,m=r.originalEvent.shiftKey?c-h:c+h;o.options.doubleClickZoom==="center"?o.setZoom(m):o.setZoomAround(r.containerPoint,m)}});ve.addInitHook("addHandler","doubleClickZoom",Ld),ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ed=Gt.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new xn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Re(this._map._container,"leaflet-grab"),Re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=pe(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var o=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(o),this._prunePositions(o)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,o){return r-(r-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;r.x<o.min.x&&(r.x=this._viscousLimit(r.x,o.min.x)),r.y<o.min.y&&(r.y=this._viscousLimit(r.y,o.min.y)),r.x>o.max.x&&(r.x=this._viscousLimit(r.x,o.max.x)),r.y>o.max.y&&(r.y=this._viscousLimit(r.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,o=Math.round(r/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,m=(h-o+c)%r+o-c,v=(h+o+c)%r-o-c,P=Math.abs(m+c)<Math.abs(v+c)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(r){var o=this._map,c=o.options,h=!c.inertia||r.noInertia||this._times.length<2;if(o.fire("dragend",r),h)o.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,P=c.easeLinearity,M=m.multiplyBy(P/v),D=M.distanceTo([0,0]),Z=Math.min(c.inertiaMaxSpeed,D),J=M.multiplyBy(Z/D),ae=Z/(c.inertiaDeceleration*P),fe=J.multiplyBy(-ae/2).round();!fe.x&&!fe.y?o.fire("moveend"):(fe=o._limitOffset(fe,o.options.maxBounds),Y(function(){o.panBy(fe,{duration:ae,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});ve.addInitHook("addHandler","dragging",Ed),ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Td=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ue(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,o=document.documentElement,c=r.scrollTop||o.scrollTop,h=r.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var o=this._panKeys={},c=this.keyCodes,h,m;for(h=0,m=c.left.length;h<m;h++)o[c.left[h]]=[-1*r,0];for(h=0,m=c.right.length;h<m;h++)o[c.right[h]]=[r,0];for(h=0,m=c.down.length;h<m;h++)o[c.down[h]]=[0,r];for(h=0,m=c.up.length;h<m;h++)o[c.up[h]]=[0,-1*r]},_setZoomDelta:function(r){var o=this._zoomKeys={},c=this.keyCodes,h,m;for(h=0,m=c.zoomIn.length;h<m;h++)o[c.zoomIn[h]]=r;for(h=0,m=c.zoomOut.length;h<m;h++)o[c.zoomOut[h]]=-r},_addHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var o=r.keyCode,c=this._map,h;if(o in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(h=this._panKeys[o],r.shiftKey&&(h=U(h).multiplyBy(3)),c.options.maxBounds&&(h=c._limitOffset(U(h),c.options.maxBounds)),c.options.worldCopyJump){var m=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(h)));c.panTo(m)}else c.panBy(h)}else if(o in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Gn(r)}}});ve.addInitHook("addHandler","keyboard",Td),ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bd=Gt.extend({addHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var o=ed(r),c=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),h),Gn(r)},_performZoom:function(){var r=this._map,o=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,v=c?Math.ceil(m/c)*c:m,P=r._limitZoom(o+(this._delta>0?v:-v))-o;this._delta=0,this._startTime=null,P&&(r.options.scrollWheelZoom==="center"?r.setZoom(o+P):r.setZoomAround(this._lastMousePos,o+P))}});ve.addInitHook("addHandler","scrollWheelZoom",bd);var bv=600;ve.mergeOptions({tapHold:re.touchNative&&re.safari&&re.mobile,tapTolerance:15});var jd=Gt.extend({addHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var o=r.touches[0];this._startPos=this._newPos=new B(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ue(document,"touchend",We),ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),bv),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Ce(document,"touchend",We),Ce(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)},_onMove:function(r){var o=r.touches[0];this._newPos=new B(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,o){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});c._simulated=!0,o.target.dispatchEvent(c)}});ve.addInitHook("addHandler","tapHold",jd),ve.mergeOptions({touchZoom:re.touch,bounceAtZoomLimits:!0});var Od=Gt.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var o=this._map;if(!(!r.touches||r.touches.length!==2||o._animatingZoom||this._zooming)){var c=o.mouseEventToContainerPoint(r.touches[0]),h=o.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),We(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var o=this._map,c=o.mouseEventToContainerPoint(r.touches[0]),h=o.mouseEventToContainerPoint(r.touches[1]),m=c.distanceTo(h)/this._startDist;if(this._zoom=o.getScaleZoom(m,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&m<1||this._zoom>o.getMaxZoom()&&m>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var v=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(m===1&&v.x===0&&v.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var P=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(P,this,!0),We(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ve.addInitHook("addHandler","touchZoom",Od),ve.BoxZoom=Pd,ve.DoubleClickZoom=Ld,ve.Drag=Ed,ve.Keyboard=Td,ve.ScrollWheelZoom=bd,ve.TapHold=jd,ve.TouchZoom=Od,i.Bounds=X,i.Browser=re,i.CRS=Se,i.Canvas=Sd,i.Circle=za,i.CircleMarker=ws,i.Class=A,i.Control=Mt,i.DivIcon=_d,i.DivOverlay=Kt,i.DomEvent=Kg,i.DomUtil=Wg,i.Draggable=xn,i.Evented=ge,i.FeatureGroup=rn,i.GeoJSON=on,i.GridLayer=fr,i.Handler=Gt,i.Icon=mi,i.ImageOverlay=Ps,i.LatLng=K,i.LatLngBounds=_e,i.Layer=Rt,i.LayerGroup=pi,i.LineUtil=av,i.Map=ve,i.Marker=xs,i.Mixin=tv,i.Path=wn,i.Point=B,i.PolyUtil=nv,i.Polygon=gi,i.Polyline=sn,i.Popup=Ls,i.PosAnimation=td,i.Projection=lv,i.Rectangle=kd,i.Renderer=an,i.SVG=mr,i.SVGOverlay=yd,i.TileLayer=yi,i.Tooltip=Es,i.Transformation=V,i.Util=$,i.VideoOverlay=vd,i.bind=u,i.bounds=oe,i.canvas=Cd,i.circle=gv,i.circleMarker=mv,i.control=ur,i.divIcon=kv,i.extend=a,i.featureGroup=hv,i.geoJSON=gd,i.geoJson=_v,i.gridLayer=Pv,i.icon=fv,i.imageOverlay=xv,i.latLng=ne,i.latLngBounds=pe,i.layerGroup=dv,i.map=qg,i.marker=pv,i.point=U,i.polygon=yv,i.polyline=vv,i.popup=Cv,i.rectangle=Tv,i.setOptions=b,i.stamp=p,i.svg=Nd,i.svgOverlay=Sv,i.tileLayer=xd,i.tooltip=Nv,i.transformation=le,i.version=s,i.videoOverlay=wv;var jv=window.L;i.noConflict=function(){return window.L=jv,this},window.L=i})})(kc,kc.exports);var er=kc.exports;const ua=wf(er);function da(e,n,i){return Object.freeze({instance:e,context:n,container:i})}function ha(e,n){return n==null?function(s,a){const l=E.useRef();return l.current||(l.current=e(s,a)),l}:function(s,a){const l=E.useRef();l.current||(l.current=e(s,a));const u=E.useRef(s),{instance:f}=l.current;return E.useEffect(function(){u.current!==s&&(n(f,s,u.current),u.current=s)},[f,s,a]),l}}function dg(e,n){E.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var l;(l=n.layerContainer)==null||l.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function hg(e){return function(i){const s=la(),a=e(ca(i,s),s);return og(s.map,i.attribution),Lu(a.current,i.eventHandlers),dg(a.current,s),a}}function d0(e,n){const i=E.useRef();E.useEffect(function(){if(n.pathOptions!==i.current){const a=n.pathOptions??{};e.instance.setStyle(a),i.current=a}},[e,n])}function h0(e){return function(i){const s=la(),a=e(ca(i,s),s);return Lu(a.current,i.eventHandlers),dg(a.current,s),d0(a.current,i),a}}function f0(e,n){const i=ha(e,n),s=hg(i);return ug(s)}function p0(e,n){const i=ha(e),s=u0(i,n);return l0(s)}function m0(e,n){const i=ha(e,n),s=h0(i);return ug(s)}function g0(e,n){const i=ha(e,n),s=hg(i);return c0(s)}function v0(e,n,i){const{opacity:s,zIndex:a}=n;s!=null&&s!==i.opacity&&e.setOpacity(s),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function Eu(){return la().map}function Pc(){return Pc=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Pc.apply(this,arguments)}function y0({bounds:e,boundsOptions:n,center:i,children:s,className:a,id:l,placeholder:u,style:f,whenReady:p,zoom:g,...S},y){const[C]=E.useState({className:a,id:l,style:f}),[k,T]=E.useState(null);E.useImperativeHandle(y,()=>(k==null?void 0:k.map)??null,[k]);const b=E.useCallback(x=>{if(x!==null&&k===null){const _=new er.Map(x,S);i!=null&&g!=null?_.setView(i,g):e!=null&&_.fitBounds(e,n),p!=null&&_.whenReady(p),T(a0(_))}},[]);E.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const H=k?po.createElement(cg,{value:k},s):u??null;return po.createElement("div",Pc({},C,{ref:b}),H)}const _0=E.forwardRef(y0),df=f0(function({position:n,...i},s){const a=new er.Marker(n,i);return da(a,ag(s,{overlayContainer:a}))},function(n,i,s){i.position!==s.position&&n.setLatLng(i.position),i.icon!=null&&i.icon!==s.icon&&n.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==s.zIndexOffset&&n.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==s.opacity&&n.setOpacity(i.opacity),n.dragging!=null&&i.draggable!==s.draggable&&(i.draggable===!0?n.dragging.enable():n.dragging.disable())}),x0=m0(function({positions:n,...i},s){const a=new er.Polyline(n,i);return da(a,ag(s,{overlayContainer:a}))},function(n,i,s){i.positions!==s.positions&&n.setLatLngs(i.positions)}),w0=p0(function(n,i){const s=new er.Popup(n,i.overlayContainer);return da(s,i)},function(n,i,{position:s},a){E.useEffect(function(){const{instance:u}=n;function f(g){g.popup===u&&(u.update(),a(!0))}function p(g){g.popup===u&&a(!1)}return i.map.on({popupopen:f,popupclose:p}),i.overlayContainer==null?(s!=null&&u.setLatLng(s),u.openOn(i.map)):i.overlayContainer.bindPopup(u),function(){var S;i.map.off({popupopen:f,popupclose:p}),(S=i.overlayContainer)==null||S.unbindPopup(),i.map.removeLayer(u)}},[n,i,a,s])}),hf=g0(function({url:n,...i},s){const a=new er.TileLayer(n,ca(i,s));return da(a,s)},function(n,i,s){v0(n,i,s);const{url:a}=i;a!=null&&a!==s.url&&n.setUrl(a)});delete ua.Icon.Default.prototype._getIconUrl;ua.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const S0=ua.divIcon({className:"context-marker",html:`
    <div style="
      width: 24px;
      height: 24px;
      background-color: rgba(255, 87, 34, 0.8);
      border: 2px solid white;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    "></div>
  `,iconSize:[24,24],iconAnchor:[12,12]}),C0=(e,n,i=0)=>{const s=n?"#4caf50":"#f44336";return ua.divIcon({className:"vehicle-marker",html:`
      <div style="
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        transform: rotate(${i}deg);
      ">
        <svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
              <feOffset dx="0" dy="2" result="offsetblur"/>
              <feComponentTransfer>
                <feFuncA type="linear" slope="0.5"/>
              </feComponentTransfer>
              <feMerge>
                <feMergeNode/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <path d="M 25 5 L 38 38 L 25 32 L 12 38 Z" 
                fill="${s}" 
                stroke="white" 
                stroke-width="2.5" 
                filter="url(#shadow)"/>
        </svg>
      </div>
    `,iconSize:[50,50],iconAnchor:[25,25]})};function N0({vehicles:e,followVehicle:n}){const i=Eu();return E.useEffect(()=>{if(e.length>0&&n){const s=e.filter(a=>a.lat!=null&&a.lon!=null&&!isNaN(a.lat)&&!isNaN(a.lon));if(s.length>0){const a=s.map(l=>[l.lat,l.lon]);a.length===1?i.setView(a[0],i.getZoom(),{animate:!0}):i.fitBounds(a,{padding:[50,50]})}}},[e,n,i]),null}function k0({onZoomChange:e}){const n=Eu();return E.useEffect(()=>{const i=()=>{e(n.getZoom())};return e(n.getZoom()),n.on("zoomend",i),()=>{n.off("zoomend",i)}},[n,e]),null}function P0({onContextMenu:e}){const n=Eu();return E.useEffect(()=>{const i=s=>{s.originalEvent.preventDefault(),s.originalEvent.stopPropagation(),e(s.latlng,s.containerPoint)};return n.on("contextmenu",i),()=>{n.off("contextmenu",i)}},[n,e]),null}function L0({onVehicleConfigClick:e,onArmDisarmRequest:n}){const{t:i}=Qe(),s=mt(),{vehicles:a,selectedVehicle:l,selectedVehicleId:u,setSelectedVehicleId:f,messages:p}=yn(),g=a.filter(V=>V.connected),S=p,y=u,[C,k]=E.useState(!1),[T,b]=E.useState(!1),[H,x]=E.useState("info"),[_,w]=E.useState(!1),[N,R]=E.useState("satellite"),[I,j]=E.useState({isOpen:!1,x:0,y:0,coords:null}),[O,F]=E.useState({}),[z,Y]=E.useState(!0),[G,$]=E.useState(15),[A,q]=E.useState([]),[te,ge]=E.useState(null);E.useEffect(()=>{localStorage.setItem("map_zoom",G.toString()),window.dispatchEvent(new Event("mapZoomChanged"))},[G]),E.useEffect(()=>{if(y!==te){q([]),ge(y);return}if(y){const V=g.find(le=>le.systemId===y);V&&V.lat!=null&&V.lon!=null&&!isNaN(V.lat)&&!isNaN(V.lon)&&q(le=>{const ke=[V.lat,V.lon];if(le.length>0){const Ht=le[le.length-1];if(Math.sqrt(Math.pow(ke[0]-Ht[0],2)+Math.pow(ke[1]-Ht[1],2))<1e-5)return le}const Ye=[...le,ke];return Ye.length>30?Ye.slice(-30):Ye})}},[g,y,te]);const B=[-35.363261,149.16523];E.useEffect(()=>{if(y&&g.length>0){const V=g.find(le=>le.systemId===y);V&&F(ie(V.type))}},[y,g.length]);const ie=V=>V===1?{0:"Manual",1:"Circle",2:"Stabilize",3:"Training",4:"Acro",5:"FlyByWireA",6:"FlyByWireB",7:"Cruise",8:"Autotune",10:"Auto",11:"RTL",12:"Loiter",13:"Takeoff",14:"Avoid_ADSB",15:"Guided",17:"QStabilize",18:"QHover",19:"QLoiter",20:"QLand",21:"QRTL",22:"QAutotune",23:"QAcro",24:"Thermal"}:[2,3,4,13,14,15].includes(V)?{0:"Stabilize",1:"Acro",2:"AltHold",3:"Auto",4:"Guided",5:"Loiter",6:"RTL",7:"Circle",8:"Position",9:"Land",10:"OF_Loiter",11:"Drift",13:"Sport",14:"Flip",15:"AutoTune",16:"PosHold",17:"Brake",18:"Throw",19:"Avoid_ADSB",20:"Guided_NoGPS",21:"Smart_RTL",22:"FlowHold",23:"Follow",24:"ZigZag",25:"SystemID",26:"Heli_Autorotate",27:"Auto_RTL"}:V===10?{0:"Manual",1:"Acro",2:"Learning",3:"Steering",4:"Hold",5:"Loiter",6:"Follow",7:"Simple",10:"Auto",11:"RTL",12:"SmartRTL",15:"Guided"}:{},U=async()=>{try{const V=y?`/api/mavlink/messages?systemId=${y}`:"/api/mavlink/messages";await fetch(V,{method:"DELETE"})}catch(V){console.error("Error limpiando mensajes:",V)}},X=(V,le)=>{const ke=T?350:0;I.show?(j({show:!1,x:0,y:0,lat:0,lng:0}),setTimeout(()=>{j({show:!0,x:le.x+ke+15,y:le.y+85,lat:V.lat,lng:V.lng})},0)):j({show:!0,x:le.x+ke+15,y:le.y+85,lat:V.lat,lng:V.lng})},oe=()=>{j({show:!1,x:0,y:0,lat:0,lng:0})},_e=()=>{console.log("Centrar en:",I.lat,I.lng),oe()},pe=()=>{console.log("Aadir waypoint en:",I.lat,I.lng),oe()},K=()=>{const V=`${I.lat.toFixed(6)}, ${I.lng.toFixed(6)}`;navigator.clipboard.writeText(V),oe()},ne=()=>{n&&y&&n("arm",y)},Se=()=>{n&&y&&n("disarm",y)},nt=async V=>{if(!(!y||_)){w(!0);try{const ke=await(await fetch("/api/mavlink/flightmode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemId:y,customMode:parseInt(V)})})).json();w(!1),ke.success?s.success(ke.message||i("sidebar.actions.flightModeSuccessMessage")):s.error(ke.message||i("sidebar.actions.flightModeErrorMessage"))}catch{w(!1),s.error(i("sidebar.actions.connectionErrorMessage"))}}},Zn=V=>({critical:"",error:"",warning:"",notice:"",info:""})[V]||"",Zt=V=>{const le=new Date(V),Ye=Math.floor((new Date-le)/1e3);return Ye<60?i("sidebar.justNow"):Ye<3600?`${Math.floor(Ye/60)}m`:Ye<86400?`${Math.floor(Ye/3600)}h`:le.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return d.jsxs("div",{className:"main-content",children:[d.jsx("div",{className:`map-sidebar-left ${T?"open":"closed"}`,children:d.jsxs("div",{className:"sidebar-content",children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsx("h3",{children:i("sidebar.messages")}),d.jsx("button",{className:"clear-messages-btn",onClick:U,title:i("sidebar.clearMessages"),children:""})]}),d.jsx("div",{className:"sidebar-body messages-container",children:S.length===0?d.jsxs("div",{className:"no-messages",children:[d.jsx("div",{className:"no-messages-icon",children:""}),d.jsx("p",{children:i("sidebar.noMessages")}),d.jsx("p",{className:"no-messages-hint",children:i("sidebar.noMessagesHint")})]}):d.jsx("div",{className:"messages-list",children:S.map((V,le)=>d.jsxs("div",{className:`message-item message-${V.type}`,children:[d.jsxs("div",{className:"message-header",children:[d.jsx("span",{className:"message-icon",children:Zn(V.type)}),d.jsx("span",{className:"message-time",children:Zt(V.timestamp)}),d.jsxs("span",{className:"message-system",children:["#",V.systemId]})]}),d.jsx("div",{className:"message-text",children:V.text})]},le))})})]})}),d.jsx("button",{className:`sidebar-toggle-left ${T?"open":"closed"}`,onClick:()=>b(!T),title:T?"Cerrar panel izquierdo":"Abrir panel izquierdo",children:T?"":""}),d.jsx("div",{className:`map-sidebar ${C?"open":"closed"}`,children:d.jsxs("div",{className:"sidebar-content",children:[d.jsx("div",{className:"sidebar-header",children:d.jsx("h3",{children:i("sidebar.activeVehicle")})}),d.jsx("div",{className:"sidebar-body",children:g.length===0?d.jsxs("div",{className:"no-vehicles",children:[d.jsx("div",{className:"no-vehicles-icon",children:""}),d.jsx("p",{children:i("sidebar.noVehicles")}),d.jsx("p",{className:"no-vehicles-hint",children:i("sidebar.noVehiclesHint")})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"vehicle-selector",children:[d.jsxs("label",{className:"selector-label",children:[i("sidebar.selectVehicle"),":"]}),d.jsx("select",{className:"vehicle-dropdown",value:y||"",onChange:V=>setSelectedVehicle(parseInt(V.target.value)),children:g.map(V=>d.jsxs("option",{value:V.systemId,children:[i("sidebar.vehicle")," #",V.systemId]},V.systemId))})]}),y&&g.find(V=>V.systemId===y)&&d.jsxs("div",{className:"accordion-cards",children:[d.jsxs("div",{className:`accordion-card ${H==="info"?"expanded":"collapsed"}`,children:[d.jsxs("div",{className:"accordion-header",onClick:()=>x(H==="info"?null:"info"),children:[d.jsxs("div",{className:"accordion-title",children:[d.jsx("span",{className:"accordion-icon",children:""}),d.jsx("h4",{children:i("sidebar.vehicleInfo")})]}),d.jsx("span",{className:"accordion-arrow",children:H==="info"?"":""})]}),H==="info"&&d.jsx("div",{className:"accordion-body",children:(()=>{const V=g.find(le=>le.systemId===y);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"info-label",children:"System ID:"}),d.jsxs("span",{className:"info-value",children:["#",V.systemId]})]}),V.lat&&V.lon&&d.jsxs("div",{className:"info-item full-width",children:[d.jsxs("span",{className:"info-label",children:[i("sidebar.position"),":"]}),d.jsxs("span",{className:"info-value",children:[V.lat.toFixed(6),", ",V.lon.toFixed(6)]})]}),V.alt!==void 0&&d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[i("sidebar.altitude"),":"]}),d.jsxs("span",{className:"info-value",children:[V.alt.toFixed(1)," m"]})]}),V.battery_remaining!==void 0&&d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[i("sidebar.battery"),":"]}),d.jsxs("span",{className:"info-value",children:[V.battery_remaining.toFixed(0),"%"]})]}),V.gps_satellites!==void 0&&d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[i("sidebar.gpsSatellites"),":"]}),d.jsx("span",{className:"info-value",children:V.gps_satellites})]}),V.groundspeed!==void 0&&d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[i("sidebar.speed"),":"]}),d.jsxs("span",{className:"info-value",children:[V.groundspeed.toFixed(1)," m/s"]})]}),V.heading!==void 0&&d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[i("sidebar.heading"),":"]}),d.jsxs("span",{className:"info-value",children:[V.heading.toFixed(0),""]})]})]}),d.jsxs("button",{className:"configure-vehicle-btn",onClick:()=>e(V.systemId),children:[d.jsx("span",{className:"btn-icon",children:""}),d.jsx("span",{className:"btn-text",children:i("sidebar.configureVehicle")})]})]})})()})]}),d.jsxs("div",{className:`accordion-card ${H==="actions"?"expanded":"collapsed"}`,children:[d.jsxs("div",{className:"accordion-header",onClick:()=>x(H==="actions"?null:"actions"),children:[d.jsxs("div",{className:"accordion-title",children:[d.jsx("span",{className:"accordion-icon",children:""}),d.jsx("h4",{children:i("sidebar.vehicleActions")})]}),d.jsx("span",{className:"accordion-arrow",children:H==="actions"?"":""})]}),H==="actions"&&d.jsxs("div",{className:"accordion-body",children:[(()=>{const V=g.find(le=>le.systemId===y);return d.jsxs("div",{className:"flight-mode-selector",children:[d.jsxs("label",{className:"flight-mode-label",children:[d.jsx("span",{className:"label-icon",children:""}),d.jsx("span",{children:i("sidebar.flightMode")})]}),d.jsx("select",{className:"flight-mode-select",value:(V==null?void 0:V.custom_mode)||0,onChange:le=>nt(le.target.value),disabled:_,children:Object.entries(O).map(([le,ke])=>d.jsx("option",{value:le,children:i(`flightModes.modes.${ke}`,ke)},le))})]})})(),d.jsxs("div",{className:"actions-grid",children:[(()=>{const V=g.find(ke=>ke.systemId===y),le=V?!!(V.base_mode&128):!1;return d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"action-button arm",onClick:ne,disabled:le,children:[d.jsx("span",{className:"action-icon",children:""}),d.jsx("span",{className:"action-text",children:i("sidebar.actions.arm")})]}),d.jsxs("button",{className:"action-button disarm",onClick:Se,disabled:!le,children:[d.jsx("span",{className:"action-icon",children:""}),d.jsx("span",{className:"action-text",children:i("sidebar.actions.disarm")})]})]})})(),d.jsxs("button",{className:"action-button takeoff",children:[d.jsx("span",{className:"action-icon",children:""}),d.jsx("span",{className:"action-text",children:i("sidebar.actions.takeoff")})]}),d.jsxs("button",{className:"action-button land",children:[d.jsx("span",{className:"action-icon",children:""}),d.jsx("span",{className:"action-text",children:i("sidebar.actions.land")})]}),d.jsxs("button",{className:"action-button rtl",children:[d.jsx("span",{className:"action-icon",children:""}),d.jsx("span",{className:"action-text",children:i("sidebar.actions.rtl")})]}),d.jsxs("button",{className:"action-button auto",children:[d.jsx("span",{className:"action-icon",children:""}),d.jsx("span",{className:"action-text",children:i("sidebar.actions.auto")})]})]})]})]})]})]})})]})}),d.jsx("button",{className:`sidebar-toggle ${C?"open":"closed"}`,onClick:()=>k(!C),title:C?"Cerrar panel":"Abrir panel",children:C?"":""}),d.jsxs("div",{className:`map-controls ${T?"shifted":""}`,children:[d.jsx("button",{className:`map-control-btn ${N==="street"?"active":""}`,onClick:()=>R("street"),title:i("map.controls.streetView"),children:""}),d.jsx("button",{className:`map-control-btn ${N==="satellite"?"active":""}`,onClick:()=>R("satellite"),title:i("map.controls.satelliteView"),children:""}),d.jsx("button",{className:`map-control-btn ${z?"active":""}`,onClick:()=>Y(!z),title:i(z?"map.controls.unlockView":"map.controls.lockView"),children:z?"":""})]}),d.jsxs(_0,{center:B,zoom:15,className:"map-container",zoomControl:!0,children:[N==="street"?d.jsx(hf,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}):d.jsx(hf,{attribution:' <a href="https://www.esri.com">Esri</a>',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maxZoom:19}),g.length>0&&d.jsx(N0,{vehicles:g,followVehicle:z}),d.jsx(P0,{onContextMenu:X}),d.jsx(k0,{onZoomChange:$}),A.length>1&&d.jsx(x0,{positions:A,pathOptions:{color:"#2196f3",weight:3,opacity:.8,lineCap:"round",lineJoin:"round"}}),g.filter(V=>V.lat!=null&&V.lon!=null).map(V=>{var le,ke,Ye,Ht,_n,Q,se,Ae;return d.jsx(df,{position:[V.lat,V.lon],icon:C0(V.systemId,V.connected,V.heading||0),children:d.jsx(w0,{children:d.jsxs("div",{style:{minWidth:"200px"},children:[d.jsxs("h3",{style:{margin:"0 0 10px 0"},children:[i("map.vehicle")," #",V.systemId]}),d.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:[d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.status"),":"]})," ",V.connected?i("map.connected"):i("map.disconnected")]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.position"),":"]})," ",(le=V.lat)==null?void 0:le.toFixed(6),", ",(ke=V.lon)==null?void 0:ke.toFixed(6)]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.altitude"),":"]})," ",((Ye=V.alt)==null?void 0:Ye.toFixed(1))||"N/A"," m"]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.battery"),":"]})," ",((Ht=V.battery_remaining)==null?void 0:Ht.toFixed(0))||"N/A","% (",((_n=V.battery_voltage)==null?void 0:_n.toFixed(1))||"N/A","V)"]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.gps"),":"]})," ",V.gps_satellites||0," sats (Fix: ",V.gps_fix_type||0,")"]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.signal"),":"]})," ",((Q=V.signal_strength)==null?void 0:Q.toFixed(0))||"N/A","%"]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.speed"),":"]})," ",((se=V.groundspeed)==null?void 0:se.toFixed(1))||"N/A"," m/s"]}),d.jsxs("div",{children:[d.jsxs("strong",{children:[i("map.heading"),":"]})," ",((Ae=V.heading)==null?void 0:Ae.toFixed(0))||"N/A",""]})]})]})})},V.systemId)}),I.show&&d.jsx(df,{position:[I.lat,I.lng],icon:S0})]}),I.show&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"context-menu-overlay",onClick:oe,onContextMenu:V=>V.preventDefault()}),d.jsxs("div",{className:"context-menu",style:{left:`${I.x}px`,top:`${I.y}px`},onContextMenu:V=>V.preventDefault(),children:[d.jsxs("div",{className:"context-menu-header",children:[d.jsxs("span",{className:"context-menu-coords",children:[I.lat.toFixed(6),", ",I.lng.toFixed(6)]}),d.jsx("button",{className:"context-menu-close",onClick:oe,children:""})]}),d.jsxs("div",{className:"context-menu-items",children:[d.jsxs("button",{className:"context-menu-item",onClick:_e,children:[d.jsx("span",{className:"context-menu-icon",children:""}),d.jsx("span",{children:i("map.contextMenu.centerHere")})]}),d.jsxs("button",{className:"context-menu-item",onClick:pe,children:[d.jsx("span",{className:"context-menu-icon",children:""}),d.jsx("span",{children:i("map.contextMenu.addWaypoint")})]}),d.jsxs("button",{className:"context-menu-item",onClick:K,children:[d.jsx("span",{className:"context-menu-icon",children:""}),d.jsx("span",{children:i("map.contextMenu.copyCoordinates")})]})]})]})]})]})}function ff(){const{t:e,i18n:n}=Qe(),i=s=>{n.changeLanguage(s)};return d.jsxs("div",{className:"settings-section",children:[d.jsx("h2",{className:"section-title",children:e("general.title")}),d.jsx("p",{className:"section-description",children:e("general.description")}),d.jsxs("div",{className:"settings-card",children:[d.jsx("h3",{className:"card-title",children:e("general.language")}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("general.selectLanguage")}),d.jsxs("select",{className:"form-input",value:n.language,onChange:s=>i(s.target.value),children:[d.jsxs("option",{value:"en",children:[" ",e("general.english")]}),d.jsxs("option",{value:"es",children:[" ",e("general.spanish")]})]})]}),d.jsx("div",{className:"language-info",children:d.jsxs("p",{className:"info-text",children:[" ",e("general.languageInfo")]})})]})]})}function Tu({isOpen:e,onClose:n,onSubmit:i,fieldName:s,initialValue:a="",keyboardType:l="text"}){var I;const{t:u,i18n:f}=Qe(),[p,g]=E.useState(a),[S,y]=E.useState(!1);if(E.useEffect(()=>{g(a)},[a,e]),!e)return null;const C={es:{row1:["1","2","3","4","5","6","7","8","9","0"],row2:["q","w","e","r","t","y","u","i","o","p"],row3:["a","s","d","f","g","h","j","k","l",""],row4:["z","x","c","v","b","n","m",",",".","-"]},en:{row1:["1","2","3","4","5","6","7","8","9","0"],row2:["q","w","e","r","t","y","u","i","o","p"],row3:["a","s","d","f","g","h","j","k","l",";"],row4:["z","x","c","v","b","n","m",",",".","-"]}},k={row1:["1","2","3"],row2:["4","5","6"],row3:["7","8","9"],row4:[".","0","-"]},T=(I=f.language)!=null&&I.startsWith("es")?"es":"en",b=l==="number"?k:C[T],H=j=>{const O=p+(S&&l!=="number"?j.toUpperCase():j);g(O),S&&y(!1)},x=()=>{g(p.slice(0,-1))},_=()=>{g(p+" ")},w=()=>{g("")},N=()=>{i(p),n()},R=()=>{g(a),n()};return d.jsx("div",{className:"keyboard-overlay",children:d.jsxs("div",{className:"keyboard-container",children:[d.jsxs("div",{className:"keyboard-header",children:[d.jsx("div",{className:"keyboard-field-name",children:s}),d.jsx("button",{className:"keyboard-close-btn",onClick:R,children:""})]}),d.jsx("div",{className:"keyboard-display",children:d.jsx("div",{className:"keyboard-display-text",children:p||""})}),d.jsxs("div",{className:"keyboard-keys",children:[d.jsxs("div",{className:"keyboard-row",children:[b.row1.map(j=>d.jsx("button",{className:"keyboard-key",onClick:()=>H(j),children:j},j)),d.jsx("button",{className:"keyboard-key keyboard-key-backspace",onClick:x,children:""})]}),d.jsx("div",{className:"keyboard-row",children:b.row2.map(j=>d.jsx("button",{className:"keyboard-key",onClick:()=>H(j),children:S&&l!=="number"?j.toUpperCase():j},j))}),d.jsx("div",{className:"keyboard-row",children:b.row3.map(j=>d.jsx("button",{className:"keyboard-key",onClick:()=>H(j),children:S&&l!=="number"?j.toUpperCase():j},j))}),d.jsxs("div",{className:"keyboard-row",children:[l!=="number"&&d.jsx("button",{className:`keyboard-key keyboard-key-shift ${S?"active":""}`,onClick:()=>y(!S),children:""}),b.row4.map(j=>d.jsx("button",{className:"keyboard-key",onClick:()=>H(j),children:S&&l!=="number"?j.toUpperCase():j},j)),l!=="number"&&d.jsx("button",{className:"keyboard-key keyboard-key-clear",onClick:w,children:""})]}),d.jsxs("div",{className:"keyboard-row keyboard-row-bottom",children:[d.jsxs("button",{className:"keyboard-key keyboard-key-cancel",onClick:R,children:[" ",u("keyboard.cancel")]}),l!=="number"&&d.jsx("button",{className:"keyboard-key keyboard-key-space",onClick:_,children:u("keyboard.space")}),d.jsxs("button",{className:"keyboard-key keyboard-key-enter",onClick:N,children:[" ",u("keyboard.enter")]})]})]})]})})}function E0(){const{t:e}=Qe(),n=mt(),{connectionStatus:i,markManualDisconnect:s,enableAutoReconnect:a}=yn(),[l,u]=E.useState(!1),[f,p]=E.useState(!1),[g,S]=E.useState([]),[y,C]=E.useState(!1),[k,T]=E.useState(null),[b,H]=E.useState({isOpen:!1,fieldName:"",fieldKey:"",initialValue:"",keyboardType:"text"}),[x,_]=E.useState({name:"",type:"serial",config:{port:"/dev/ttyUSB0",baudrate:"115200"}});E.useEffect(()=>{const A=localStorage.getItem("mavlink_connections");if(A){const q=JSON.parse(A);S(q);const te=localStorage.getItem("mavlink_active_connection");if(te){const ge=JSON.parse(te);T(ge)}}},[]),E.useEffect(()=>{g.length>0&&localStorage.setItem("mavlink_connections",JSON.stringify(g))},[g]),E.useEffect(()=>{k!==null?localStorage.setItem("mavlink_active_connection",JSON.stringify(k)):localStorage.removeItem("mavlink_active_connection")},[k]);const w=async()=>{try{s(),(await(await fetch("/api/mavlink/disconnect",{method:"POST"})).json()).success&&(T(null),localStorage.removeItem("mavlink_active_connection"),console.log("Desconectado exitosamente"))}catch(A){console.error("Error desconectando:",A),n.error(e("connections.messages.disconnectError"))}},N=async(A,q=!1)=>{u(!0),q||a();try{const ge=await(await fetch("/api/mavlink/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:A.type,config:A.config})})).json();if(ge.success)if(T(A.id),localStorage.setItem("mavlink_active_connection",JSON.stringify(A.id)),q||console.log("Conexin establecida:",A.name),A.type==="tcp"&&A.config.mode==="Servidor")q||n.info(e("connections.messages.serverListening",{port:A.config.port}));else try{const U=await(await fetch("/api/mavlink/parameters/request",{method:"POST"})).json();U.success?q||p(!0):q||n.warning(e("connections.messages.paramsRequestError",{message:U.message}))}catch(ie){console.error("Error iniciando descarga de parmetros:",ie),q||n.error(e("connections.messages.paramsError"))}else T(null),localStorage.removeItem("mavlink_active_connection"),q||n.error(ge.message||e("connections.messages.connectionFailed"))}catch(te){console.error("Error conectando:",te),T(null),localStorage.removeItem("mavlink_active_connection"),q||n.error(e("connections.messages.serverNotAvailable"))}finally{u(!1)}},R=()=>{if(!x.name.trim()){n.error(e("connections.messages.nameRequired"));return}const A={id:Date.now(),...x},q=[...g,A];S(q),localStorage.setItem("mavlink_connections",JSON.stringify(q)),C(!1),setTimeout(()=>{N(A)},100),_({name:"",type:"serial",config:{port:"/dev/ttyUSB0",baudrate:"115200"}})},I=A=>{k===A&&w();const q=g.filter(te=>te.id!==A);S(q),localStorage.setItem("mavlink_connections",JSON.stringify(q))},j=(A,q,te="",ge="text")=>{H({isOpen:!0,fieldName:A,fieldKey:q,initialValue:te,keyboardType:ge})},O=()=>{H({isOpen:!1,fieldName:"",fieldKey:"",initialValue:"",keyboardType:"text"})},F=A=>{const{fieldKey:q}=b;_(q==="name"?{...x,name:A}:{...x,config:{...x.config,[q]:A}})},z=()=>{switch(x.type){case"serial":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.serialPort")}),d.jsxs("div",{className:"serial-port-selector",children:[d.jsxs("select",{className:"form-input",value:x.config.port||"/dev/ttyUSB0",onChange:A=>_({...x,config:{...x.config,port:A.target.value}}),children:[d.jsx("option",{children:"/dev/ttyUSB0"}),d.jsx("option",{children:"/dev/ttyUSB1"}),d.jsx("option",{children:"/dev/ttyAMA0"})]}),d.jsx("button",{type:"button",className:"btn-select-port",onClick:G,title:e("connections.form.selectSerialPort"),children:""})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.baudrate")}),d.jsxs("select",{className:"form-input",value:x.config.baudrate||"115200",onChange:A=>_({...x,config:{...x.config,baudrate:A.target.value}}),children:[d.jsx("option",{children:"9600"}),d.jsx("option",{children:"57600"}),d.jsx("option",{children:"115200"}),d.jsx("option",{children:"921600"})]})]})]});case"tcp":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.mode")}),d.jsxs("select",{className:"form-input",value:x.config.mode||"Cliente",onChange:A=>_({...x,config:{...x.config,mode:A.target.value}}),children:[d.jsx("option",{children:e("connections.form.client")}),d.jsx("option",{children:e("connections.form.server")})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.ipAddress")}),d.jsx("input",{type:"text",className:"form-input",placeholder:"127.0.0.1",value:x.config.ip||"",readOnly:!0,onClick:()=>j(e("connections.form.ipAddress"),"ip",x.config.ip||"","text")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.port")}),d.jsx("input",{type:"text",className:"form-input",placeholder:"5760",value:x.config.port||"",readOnly:!0,onClick:()=>j(e("connections.form.port"),"port",x.config.port||"","number")})]})]});case"udp":return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.localIp")}),d.jsx("input",{type:"text",className:"form-input",placeholder:"0.0.0.0",value:x.config.localIp||"",readOnly:!0,onClick:()=>j(e("connections.form.localIp"),"localIp",x.config.localIp||"","text")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.localPort")}),d.jsx("input",{type:"text",className:"form-input",placeholder:"14550",value:x.config.localPort||"",readOnly:!0,onClick:()=>j(e("connections.form.localPort"),"localPort",x.config.localPort||"","number")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.remoteIp")}),d.jsx("input",{type:"text",className:"form-input",placeholder:"192.168.1.100",value:x.config.remoteIp||"",readOnly:!0,onClick:()=>j(e("connections.form.remoteIp"),"remoteIp",x.config.remoteIp||"","text")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.remotePort")}),d.jsx("input",{type:"text",className:"form-input",placeholder:"14555",value:x.config.remotePort||"",readOnly:!0,onClick:()=>j(e("connections.form.remotePort"),"remotePort",x.config.remotePort||"","number")})]})]});default:return null}},Y=A=>{switch(A){case"serial":return"";case"tcp":return"";case"udp":return"";default:return""}},G=async()=>{try{if(!("serial"in navigator)){n.error(e("connections.messages.webSerialNotSupported"));return}const q=(await navigator.serial.requestPort()).getInfo();let te="Web Serial";q.usbVendorId&&q.usbProductId&&(te=`USB (VID: ${q.usbVendorId.toString(16)}, PID: ${q.usbProductId.toString(16)})`),_({...x,config:{...x.config,port:te,webSerialPort:!0}}),n.success(e("connections.messages.serialPortSelected"))}catch(A){A.name==="NotFoundError"?console.log("Seleccin de puerto cancelada"):(console.error("Error seleccionando puerto serial:",A),n.error(e("connections.messages.serialPortError")))}},$=A=>{switch(A.type){case"serial":return`${A.config.port} @ ${A.config.baudrate}`;case"tcp":return`${A.config.mode} - ${A.config.ip}:${A.config.port}`;case"udp":return`${A.config.localIp}:${A.config.localPort}  ${A.config.remoteIp}:${A.config.remotePort}`;default:return e("connections.configNotAvailable")}};return d.jsxs("div",{className:"settings-section",children:[d.jsxs("div",{className:"connections-header",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"section-title",children:e("connections.title")}),d.jsx("p",{className:"section-description",children:e("connections.description")})]}),d.jsxs("button",{className:"btn-add",onClick:()=>C(!0),children:["+ ",e("connections.addConnection")]})]}),g.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:e("connections.emptyState")}),d.jsx("p",{className:"empty-state-hint",children:e("connections.emptyStateHint")})]}):d.jsx("div",{className:"connections-list",children:g.map(A=>d.jsxs("div",{className:"connection-card",children:[d.jsxs("div",{className:"connection-header",children:[d.jsx("div",{className:"connection-icon",children:Y(A.type)}),d.jsxs("div",{className:"connection-info",children:[d.jsx("h3",{className:"connection-name",children:A.name}),d.jsx("p",{className:"connection-type",children:A.type.toUpperCase()}),d.jsx("p",{className:"connection-details",children:$(A)})]})]}),d.jsxs("div",{className:"connection-actions",children:[k===A.id?d.jsx("button",{className:"btn-disconnect",onClick:w,title:e("connections.disconnect"),children:""}):d.jsx("button",{className:"btn-connect",onClick:()=>N(A),disabled:l||k!==null,title:e("connections.connect"),children:l?"":""}),d.jsx("button",{className:"btn-delete",onClick:()=>I(A.id),disabled:k===A.id,title:e("connections.delete"),children:""})]})]},A.id))}),y&&d.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:d.jsxs("div",{className:"add-connection-modal",onClick:A=>A.stopPropagation(),children:[d.jsx("h3",{className:"modal-title",children:e("connections.newConnection")}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.name")}),d.jsx("input",{type:"text",className:"form-input",placeholder:e("connections.form.namePlaceholder"),value:x.name,readOnly:!0,onClick:()=>j(e("connections.form.name"),"name",x.name,"text")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:e("connections.form.type")}),d.jsxs("select",{className:"form-input",value:x.type,onChange:A=>{const q=A.target.value;let te={};switch(q){case"serial":te={port:"/dev/ttyUSB0",baudrate:"115200"};break;case"tcp":te={mode:"Cliente",ip:"127.0.0.1",port:"5760"};break;case"udp":te={localIp:"0.0.0.0",localPort:"14550",remoteIp:"",remotePort:"14555"};break}_({...x,type:q,config:te})},children:[d.jsx("option",{value:"serial",children:e("connections.types.serial")}),d.jsx("option",{value:"tcp",children:e("connections.types.tcp")}),d.jsx("option",{value:"udp",children:e("connections.types.udp")})]})]}),z(),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"btn-secondary",onClick:()=>{C(!1),_({name:"",type:"serial",config:{port:"/dev/ttyUSB0",baudrate:"115200"}})},children:e("connections.form.cancel")}),d.jsx("button",{className:"btn-primary",onClick:R,children:e("connections.form.save")})]})]})}),d.jsx(sg,{isOpen:f,onClose:()=>p(!1)}),d.jsx(Tu,{isOpen:b.isOpen,onClose:O,onSubmit:F,fieldName:b.fieldName,initialValue:b.initialValue,keyboardType:b.keyboardType})]})}function bu({isOpen:e,onClose:n,title:i,message:s,children:a,type:l="info",buttons:u=[],closeOnBackdrop:f=!0}){const{t:p}=Qe();if(!e)return null;const g=()=>{switch(l){case"error":return"";case"success":return"";case"warning":return"";case"danger":return"";default:return""}},S=()=>{f&&n&&n()},y=u.length>0?u:[{label:p("modal.understood"),onClick:n,variant:"primary"}];return d.jsx("div",{className:"modal-overlay",onClick:S,children:d.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:`modal-header ${l}`,children:[d.jsx("div",{className:"modal-icon",children:g()}),d.jsx("h3",{className:"modal-title",children:i})]}),d.jsx("div",{className:"modal-body",children:a||d.jsx("p",{className:"modal-message",children:s})}),d.jsx("div",{className:"modal-footer",children:y.map((C,k)=>d.jsx("button",{className:`modal-button ${C.variant||"primary"}`,onClick:C.onClick,disabled:C.disabled||C.loading,children:C.loading?"":C.label},k))})]})})}function T0(){const{t:e}=Qe(),n=mt(),[i,s]=E.useState(null),[a,l]=E.useState(null),[u,f]=E.useState(null),[p,g]=E.useState(null),[S,y]=E.useState([]),[C,k]=E.useState(null),[T,b]=E.useState(!1),[H,x]=E.useState(!1),[_,w]=E.useState(null),[N,R]=E.useState(""),[I,j]=E.useState(!0),[O,F]=E.useState(null),[z,Y]=E.useState("overview"),[G,$]=E.useState({isOpen:!1,fieldName:"",initialValue:""}),[A,q]=E.useState({isOpen:!1,type:"",ssid:""});E.useEffect(()=>{te(),ge(),B(),ie(),U()},[]),E.useEffect(()=>{z==="wifi"&&U()},[z]);const te=async()=>{try{const se=await(await fetch("http://localhost:3000/api/system/info")).json();s(se)}catch(Q){F(Q.message)}finally{j(!1)}},ge=async()=>{try{const se=await(await fetch("http://localhost:3000/api/system/display")).json();l(se)}catch(Q){console.error("Error fetching display info:",Q)}},B=async()=>{try{const se=await(await fetch("http://localhost:3000/api/system/devices")).json();f(se)}catch(Q){console.error("Error fetching devices:",Q)}},ie=async()=>{try{const se=await(await fetch("http://localhost:3000/api/system/network")).json();g(se)}catch(Q){console.error("Error fetching network info:",Q)}},U=async()=>{try{const se=await(await fetch("http://localhost:3000/api/wifi/status")).json();k(se)}catch(Q){console.error("Error fetching WiFi status:",Q)}},X=async()=>{b(!0);try{const se=await(await fetch("http://localhost:3000/api/wifi/scan")).json();y(se.networks||[])}catch(Q){console.error("Error scanning WiFi:",Q),y([])}finally{b(!1)}},oe=async()=>{if(_){x(!0);try{const se=await(await fetch("http://localhost:3000/api/wifi/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ssid:_.ssid,password:N})})).json();se.success?(n.success(se.message),w(null),R(""),U(),X()):n.error(se.message)}catch(Q){n.error(`Error: ${Q.message}`)}finally{x(!1)}}},_e=async()=>{try{const se=await(await fetch("http://localhost:3000/api/wifi/disconnect",{method:"POST"})).json();se.success?(n.success(se.message),U(),X()):n.error(se.message)}catch(Q){n.error(`Error: ${Q.message}`)}q({isOpen:!1,type:"",ssid:""})},pe=async Q=>{try{const Ae=await(await fetch(`http://localhost:3000/api/wifi/forget/${encodeURIComponent(Q)}`,{method:"DELETE"})).json();Ae.success?(n.success(Ae.message),U(),X()):n.error(Ae.message)}catch(se){n.error(`Error: ${se.message}`)}q({isOpen:!1,type:"",ssid:""})},K=Q=>(Q>=75||Q>=50||Q>=25,""),ne=Q=>Q>=75?"#4caf50":Q>=50?"#ff9800":Q>=25?"#ff5722":"#f44336",Se=(Q,se="")=>{$({isOpen:!0,fieldName:Q,initialValue:se})},nt=()=>{$({isOpen:!1,fieldName:"",initialValue:""})},Zn=Q=>{R(Q),nt()},Zt=Q=>{if(Q===0)return"0 B";const se=1024,Ae=["B","KB","MB","GB","TB"],St=Math.floor(Math.log(Q)/Math.log(se));return Math.round(Q/Math.pow(se,St)*100)/100+" "+Ae[St]},V=Q=>{const se=Math.floor(Q/86400),Ae=Math.floor(Q%86400/3600),St=Math.floor(Q%3600/60);return`${se}d ${Ae}h ${St}m`};if(I)return d.jsx("div",{className:"settings-section",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:e("systemInfo.loading")})]})});if(O)return d.jsx("div",{className:"settings-section",children:d.jsx("div",{className:"error-container",children:d.jsxs("p",{className:"error-text",children:[" ",e("systemInfo.error"),": ",O]})})});const le=()=>{var Q,se,Ae,St,ui,tr,nr,hs;return d.jsxs("div",{className:"system-cards-grid",children:[d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.operatingSystem")]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.distribution"),":"]}),d.jsx("span",{className:"info-value",children:((Q=i==null?void 0:i.osRelease)==null?void 0:Q.NAME)||(i==null?void 0:i.platform)})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.version"),":"]}),d.jsx("span",{className:"info-value",children:((se=i==null?void 0:i.osRelease)==null?void 0:se.VERSION)||"N/A"})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.architecture"),":"]}),d.jsx("span",{className:"info-value",children:i==null?void 0:i.arch})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.hostname"),":"]}),d.jsx("span",{className:"info-value",children:i==null?void 0:i.hostname})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.uptime"),":"]}),d.jsx("span",{className:"info-value",children:V((i==null?void 0:i.uptime)||0)})]})]})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.memory")]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.totalMemory"),":"]}),d.jsx("span",{className:"info-value",children:Zt((i==null?void 0:i.totalmem)||0)})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.freeMemory"),":"]}),d.jsx("span",{className:"info-value",children:Zt((i==null?void 0:i.freemem)||0)})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.usedMemory"),":"]}),d.jsx("span",{className:"info-value",children:Zt(((i==null?void 0:i.totalmem)||0)-((i==null?void 0:i.freemem)||0))})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.memoryUsage"),":"]}),d.jsxs("span",{className:"info-value",children:[Math.round(((i==null?void 0:i.totalmem)-(i==null?void 0:i.freemem))/(i==null?void 0:i.totalmem)*100),"%"]})]})]}),d.jsx("div",{className:"memory-bar",children:d.jsx("div",{className:"memory-bar-fill",style:{width:`${Math.round(((i==null?void 0:i.totalmem)-(i==null?void 0:i.freemem))/(i==null?void 0:i.totalmem)*100)}%`}})})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.processor")]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.cpuCores"),":"]}),d.jsx("span",{className:"info-value",children:((Ae=i==null?void 0:i.cpus)==null?void 0:Ae.length)||0})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.cpuModel"),":"]}),d.jsx("span",{className:"info-value",children:((ui=(St=i==null?void 0:i.cpus)==null?void 0:St[0])==null?void 0:ui.model)||"N/A"})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.cpuSpeed"),":"]}),d.jsxs("span",{className:"info-value",children:[((nr=(tr=i==null?void 0:i.cpus)==null?void 0:tr[0])==null?void 0:nr.speed)||0," MHz"]})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.loadAverage"),":"]}),d.jsx("span",{className:"info-value",children:((hs=i==null?void 0:i.loadavg)==null?void 0:hs.map(fa=>fa.toFixed(2)).join(", "))||"N/A"})]})]})]})]})},ke=()=>d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.displayInfo")]}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.displayEnv"),":"]}),d.jsx("span",{className:"info-value",children:(a==null?void 0:a.displayEnv)||"Not set"})]}),(a==null?void 0:a.resolution)&&d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.resolution"),":"]}),d.jsxs("span",{className:"info-value",children:[a.resolution.width," x ",a.resolution.height]})]}),(a==null?void 0:a.connectedDisplays)&&a.connectedDisplays.length>0&&d.jsxs("div",{className:"info-item full-width",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.connectedDisplays"),":"]}),d.jsx("span",{className:"info-value",children:a.connectedDisplays.join(", ")})]}),(a==null?void 0:a.error)&&d.jsxs("div",{className:"info-item full-width",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.status"),":"]}),d.jsx("span",{className:"info-value warning",children:a.error})]})]})]}),Ye=()=>d.jsxs("div",{className:"system-cards-grid",children:[d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.usbDevices")]}),d.jsx("div",{className:"devices-list",children:u!=null&&u.usb&&u.usb.length>0?u.usb.map((Q,se)=>d.jsx("div",{className:"device-item",children:Q},se)):d.jsx("p",{className:"no-devices",children:e("systemInfo.noDevices")})})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.serialPorts")]}),d.jsx("div",{className:"devices-list",children:u!=null&&u.serial&&u.serial.length>0?u.serial.map((Q,se)=>d.jsx("div",{className:"device-item",children:Q},se)):d.jsx("p",{className:"no-devices",children:e("systemInfo.noDevices")})})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.videoDevices")]}),d.jsx("div",{className:"devices-list",children:u!=null&&u.video&&u.video.length>0?u.video.map((Q,se)=>d.jsx("div",{className:"device-item",children:Q},se)):d.jsx("p",{className:"no-devices",children:e("systemInfo.noDevices")})})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.audioDevices")]}),d.jsx("div",{className:"devices-list",children:u!=null&&u.audio&&u.audio.length>0?u.audio.map((Q,se)=>d.jsx("div",{className:"device-item",children:Q},se)):d.jsx("p",{className:"no-devices",children:e("systemInfo.noDevices")})})]})]}),Ht=()=>d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.networkInterfaces")]}),d.jsx("div",{className:"info-grid",children:d.jsxs("div",{className:"info-item full-width",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.hostname"),":"]}),d.jsx("span",{className:"info-value",children:p==null?void 0:p.hostname})]})}),d.jsx("div",{className:"network-interfaces",children:(p==null?void 0:p.interfaces)&&Object.entries(p.interfaces).map(([Q,se])=>d.jsxs("div",{className:"network-interface",children:[d.jsxs("h4",{className:"interface-name",children:[" ",Q]}),se.map((Ae,St)=>d.jsxs("div",{className:"address-info",children:[d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.family"),":"]}),d.jsx("span",{className:"info-value",children:Ae.family})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.address"),":"]}),d.jsx("span",{className:"info-value",children:Ae.address})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.netmask"),":"]}),d.jsx("span",{className:"info-value",children:Ae.netmask})]}),d.jsxs("div",{className:"info-item",children:[d.jsxs("span",{className:"info-label",children:[e("systemInfo.mac"),":"]}),d.jsx("span",{className:"info-value",children:Ae.mac})]})]},St))]},Q))})]}),_n=()=>d.jsxs("div",{className:"wifi-manager",children:[(C==null?void 0:C.connected)&&d.jsxs("div",{className:"settings-card wifi-current",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.wifiCurrentNetwork")]}),d.jsxs("div",{className:"wifi-current-info",children:[d.jsxs("div",{className:"wifi-current-details",children:[d.jsx("div",{className:"wifi-current-ssid",children:C.ssid}),d.jsxs("div",{className:"wifi-current-meta",children:[d.jsxs("span",{style:{color:ne(C.signal)},children:[K(C.signal)," ",C.signal,"%"]}),d.jsxs("span",{children:[" ",C.security]})]})]}),d.jsx("button",{className:"wifi-disconnect-btn",onClick:()=>q({isOpen:!0,type:"disconnect",ssid:C.ssid}),children:e("systemInfo.wifiDisconnect")})]})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("div",{className:"card-header-with-action",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.wifiAvailableNetworks")]}),d.jsx("button",{className:"wifi-scan-btn",onClick:X,disabled:T,children:T?` ${e("systemInfo.wifiScanning")}`:` ${e("systemInfo.wifiScan")}`})]}),d.jsxs("div",{className:"wifi-networks-list",children:[S.length===0&&!T&&d.jsx("div",{className:"no-networks",children:d.jsx("p",{children:e("systemInfo.wifiNoNetworks")})}),S.map((Q,se)=>d.jsx("div",{className:`wifi-network-item ${Q.connected?"connected":""} ${(_==null?void 0:_.ssid)===Q.ssid?"selected":""}`,onClick:()=>!Q.connected&&w(Q),children:d.jsxs("div",{className:"wifi-network-info",children:[d.jsxs("div",{className:"wifi-network-ssid",children:[Q.connected&&" ",Q.ssid]}),d.jsxs("div",{className:"wifi-network-meta",children:[d.jsxs("span",{style:{color:ne(Q.signal)},children:[K(Q.signal)," ",Q.signal,"%"]}),d.jsxs("span",{children:[Q.security!=="Open"?"":""," ",Q.security]})]})]})},`${Q.ssid}-${se}`))]})]}),_&&d.jsx("div",{className:"wifi-connect-modal",children:d.jsxs("div",{className:"settings-card",children:[d.jsxs("h3",{className:"card-title",children:[" ",e("systemInfo.wifiConnectTo"),' "',_.ssid,'"']}),_.security!=="Open"&&d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"form-label",children:[e("systemInfo.wifiPassword"),":"]}),d.jsx("input",{type:"password",className:"form-input",value:N,onChange:Q=>R(Q.target.value),onClick:()=>Se(e("systemInfo.wifiPassword"),N),placeholder:e("systemInfo.wifiPasswordPlaceholder"),readOnly:!0})]}),d.jsxs("div",{className:"wifi-connect-actions",children:[d.jsx("button",{className:"btn-secondary",onClick:()=>{w(null),R("")},disabled:H,children:e("systemInfo.cancel")}),d.jsx("button",{className:"btn-primary",onClick:oe,disabled:H||_.security!=="Open"&&!N,children:H?` ${e("systemInfo.wifiConnecting")}`:` ${e("systemInfo.wifiConnect")}`})]})]})})]});return d.jsxs("div",{className:"settings-section",children:[d.jsx("h2",{className:"section-title",children:e("systemInfo.title")}),d.jsx("p",{className:"section-description",children:e("systemInfo.description")}),d.jsxs("div",{className:"system-tabs",children:[d.jsxs("button",{className:`system-tab ${z==="overview"?"active":""}`,onClick:()=>Y("overview"),children:[" ",e("systemInfo.overview")]}),d.jsxs("button",{className:`system-tab ${z==="display"?"active":""}`,onClick:()=>Y("display"),children:[" ",e("systemInfo.display")]}),d.jsxs("button",{className:`system-tab ${z==="devices"?"active":""}`,onClick:()=>Y("devices"),children:[" ",e("systemInfo.devices")]}),d.jsxs("button",{className:`system-tab ${z==="network"?"active":""}`,onClick:()=>Y("network"),children:[" ",e("systemInfo.network")]}),d.jsx("button",{className:`system-tab ${z==="wifi"?"active":""}`,onClick:()=>Y("wifi"),children:" WiFi"})]}),d.jsxs("div",{className:"system-content",children:[z==="overview"&&le(),z==="display"&&ke(),z==="devices"&&Ye(),z==="network"&&Ht(),z==="wifi"&&_n()]}),d.jsx(Tu,{isOpen:G.isOpen,onClose:nt,onSubmit:Zn,fieldName:G.fieldName,initialValue:G.initialValue,keyboardType:"text"}),d.jsx(bu,{isOpen:A.isOpen,onClose:()=>q({isOpen:!1,type:"",ssid:""}),title:A.type==="disconnect"?e("systemInfo.wifiDisconnect"):e("systemInfo.wifiForget"),message:A.type==="disconnect"?e("systemInfo.wifiDisconnectConfirm"):`${e("systemInfo.wifiForgetConfirm")} "${A.ssid}"?`,type:"warning",buttons:[{label:e("systemInfo.cancel"),onClick:()=>q({isOpen:!1,type:"",ssid:""}),variant:"cancel"},{label:e("modal.confirm"),onClick:()=>{A.type==="disconnect"?_e():A.type==="forget"&&pe(A.ssid)},variant:"danger"}]})]})}function b0(){const{t:e}=Qe();return d.jsxs("div",{className:"settings-section",children:[d.jsx("h2",{className:"section-title",children:e("about.title")}),d.jsx("p",{className:"section-description",children:e("about.description")}),d.jsx("div",{className:"settings-card",children:d.jsxs("div",{className:"about-header",children:[d.jsx("div",{className:"app-logo",children:""}),d.jsxs("div",{className:"app-info",children:[d.jsx("h3",{className:"app-name",children:"FPV Copilot GCS"}),d.jsxs("p",{className:"app-version",children:[e("about.version")," 1.0.0"]})]})]})}),d.jsxs("div",{className:"settings-card",children:[d.jsx("h3",{className:"card-title",children:e("about.descriptionTitle")}),d.jsx("p",{className:"about-text",children:e("about.descriptionText")})]}),d.jsxs("div",{className:"settings-card",children:[d.jsx("h3",{className:"card-title",children:e("about.featuresTitle")}),d.jsxs("ul",{className:"features-list",children:[d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:e("about.featuresList.interface")})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:e("about.featuresList.maps")})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:e("about.featuresList.telemetry")})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:e("about.featuresList.connections")})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:"MAVLink Serial/TCP/UDP completo"})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:"WebSocket para telemetra en tiempo real"})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:"Gestin completa de parmetros ArduPilot"})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:"Vehicle Config (Modos, Servos, Puertos)"})]}),d.jsxs("li",{className:"feature-item",children:[d.jsx("span",{className:"feature-icon",children:""}),d.jsx("span",{children:e("about.featuresList.optimized")})]})]})]}),d.jsxs("div",{className:"settings-card",children:[d.jsx("h3",{className:"card-title",children:e("about.technologiesTitle")}),d.jsxs("div",{className:"tech-grid",children:[d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"React"}),d.jsx("span",{className:"tech-version",children:"18.2.0"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"Node.js"}),d.jsx("span",{className:"tech-version",children:"Express + Socket.IO"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"MAVLink"}),d.jsx("span",{className:"tech-version",children:"v1.0/v2.0"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"Leaflet"}),d.jsx("span",{className:"tech-version",children:"Maps + React Leaflet"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"Vite"}),d.jsx("span",{className:"tech-version",children:"5.0"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"SerialPort"}),d.jsx("span",{className:"tech-version",children:"13.x"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"i18next"}),d.jsx("span",{className:"tech-version",children:"Multiidioma"})]}),d.jsxs("div",{className:"tech-item",children:[d.jsx("span",{className:"tech-name",children:"WebSocket"}),d.jsx("span",{className:"tech-version",children:"Tiempo real"})]})]})]}),d.jsxs("div",{className:"settings-card",children:[d.jsx("h3",{className:"card-title",children:e("about.systemInfoTitle")}),d.jsxs("div",{className:"system-info",children:[d.jsxs("div",{className:"info-row",children:[d.jsxs("span",{className:"info-label",children:[e("about.platform"),":"]}),d.jsx("span",{className:"info-value",children:"Linux System"})]}),d.jsxs("div",{className:"info-row",children:[d.jsxs("span",{className:"info-label",children:[e("about.os"),":"]}),d.jsx("span",{className:"info-value",children:"Linux (Ubuntu/Debian)"})]}),d.jsxs("div",{className:"info-row",children:[d.jsxs("span",{className:"info-label",children:[e("about.browser"),":"]}),d.jsx("span",{className:"info-value",children:"Chromium"})]})]})]})]})}function j0({onClose:e}){const{t:n}=Qe(),[i,s]=E.useState("general"),a=[{id:"general",label:n("settings.general"),icon:""},{id:"connections",label:n("settings.connections"),icon:""},{id:"system",label:n("settings.system"),icon:""},{id:"about",label:n("settings.about"),icon:""}],l=()=>{switch(i){case"general":return d.jsx(ff,{});case"connections":return d.jsx(E0,{});case"system":return d.jsx(T0,{});case"about":return d.jsx(b0,{});default:return d.jsx(ff,{})}};return d.jsxs("div",{className:"settings-container",children:[d.jsxs("div",{className:"settings-sidebar",children:[d.jsxs("div",{className:"settings-header",children:[d.jsx("h2",{className:"settings-title",children:n("settings.title")}),d.jsx("button",{className:"close-button",onClick:e,title:n("vehicleConfig.close"),children:""})]}),d.jsx("nav",{className:"settings-menu",children:a.map(u=>d.jsxs("button",{className:`menu-item ${i===u.id?"active":""}`,onClick:()=>s(u.id),children:[d.jsx("span",{className:"menu-icon",children:u.icon}),d.jsx("span",{className:"menu-label",children:u.label})]},u.id))})]}),d.jsx("div",{className:"settings-content",children:l()})]})}const fg=E.createContext(null),pg=()=>{const e=E.useContext(fg);if(!e)throw new Error("useParameters debe usarse dentro de ParametersProvider");return e},O0=({children:e})=>{const n=mt(),i=yn(),[s,a]=E.useState(new Map),[l,u]=E.useState(!1),[f,p]=E.useState({total:0,received:0,complete:!1}),[g,S]=E.useState(!1),y=E.useRef(null),C=E.useRef(!1),k=3e4;E.useEffect(()=>{i.parametersProgress&&p({total:i.parametersProgress.count||0,received:i.parametersProgress.received||0,complete:i.parametersProgress.complete||!1})},[i.parametersProgress]);const T=E.useCallback(async(j=!1)=>{if(C.current&&!j||!j&&y.current&&Date.now()-y.current<k)return s;C.current=!0,u(!0);try{const F=await(await fetch("/api/mavlink/parameters/status")).json(),z=F.connected||F.total>0;if(S(z),!z&&F.total===0)return a(new Map),p({total:0,received:0,complete:!1}),u(!1),C.current=!1,new Map;const G=await(await fetch("/api/mavlink/parameters")).json(),$=new Map;return G.parameters&&Array.isArray(G.parameters)&&G.parameters.forEach(A=>{$.set(A.name,{value:A.value,type:A.type})}),a($),p({total:G.total||0,received:G.received||0,complete:G.complete||!1}),y.current=Date.now(),$}catch(O){return console.error("Error cargando parmetros:",O),n.error(t("parameters.modals.loadError")),new Map}finally{u(!1),C.current=!1}},[s,n]),b=E.useCallback(j=>{const O=s.get(j);return O?O.value:null},[s]),H=E.useCallback(j=>{const O=new Map,F=typeof j=="string"?new RegExp(j):j;return s.forEach((z,Y)=>{F.test(Y)&&O.set(Y,z.value)}),O},[s]),x=E.useCallback(()=>{const j=[];return s.forEach((O,F)=>{j.push({name:F,value:O.value,type:O.type})}),j},[s]),_=E.useCallback(async(j,O)=>{try{console.log(` [ParametersContext] Actualizando ${j} = ${O}`);const F=s.get(j);a(G=>{const $=new Map(G),A=G.get(j);return $.set(j,{value:parseFloat(O),type:A?A.type:"REAL32"}),$});const Y=await(await fetch("/api/mavlink/parameters/set",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,value:parseFloat(O)})})).json();return Y.success?(console.log(` [ParametersContext] ${j} actualizado correctamente`),{success:!0}):(console.error(` [ParametersContext] Error actualizando ${j}:`,Y.message),a(G=>{const $=new Map(G);return F!==void 0?$.set(j,F):$.delete(j),$}),n.error(`Error al actualizar ${j}`),{success:!1,message:Y.message})}catch(F){return console.error(` [ParametersContext] Error actualizando ${j}:`,F),n.error(`Error al actualizar ${j}`),{success:!1,message:F.message}}},[s,n]),w=E.useCallback(async j=>{console.log(` [ParametersContext] Actualizando ${j.length} parmetros...`);let O=0,F=0;const z=[];for(const{name:Y,value:G}of j)await _(Y,G)?O++:(F++,z.push(Y));return console.log(` [ParametersContext] Actualizados: ${O}, Fallidos: ${F}`),{success:O,failed:F,errors:z}},[_]),N=E.useCallback(async()=>{try{console.log(" [ParametersContext] Solicitando descarga de parmetros...");const O=await(await fetch("/api/mavlink/parameters/request",{method:"POST"})).json();return O.success?(console.log(" [ParametersContext] Solicitud de parmetros enviada"),setTimeout(()=>T(!0),1e3),{success:!0,message:O.message}):(console.error(" [ParametersContext] Error en solicitud:",O.message),{success:!1,message:O.message})}catch(j){return console.error(" [ParametersContext] Error solicitando parmetros:",j),{success:!1,message:j.message}}},[T]),R=E.useCallback(()=>{console.log("  [ParametersContext] Limpiando cach..."),y.current=null,a(new Map),p({total:0,received:0,complete:!1})},[]),I={parameters:s,loading:l,stats:f,isConnected:g,getParameter:b,getParametersByPattern:H,getAllParameters:x,setParameter:_,setMultipleParameters:w,loadParameters:T,requestParameters:N,clearCache:R,parameterStats:f};return d.jsx(fg.Provider,{value:I,children:e})};function M0(){const{t:e}=Qe(),n=mt(),{getAllParameters:i,setParameter:s,requestParameters:a,parameterStats:l,isConnected:u,loadParameters:f}=pg(),[p,g]=E.useState([]),[S,y]=E.useState(""),[C,k]=E.useState(!0),[T,b]=E.useState(!1),[H,x]=E.useState(null),[_,w]=E.useState(""),[N,R]=E.useState({isOpen:!1,fieldName:"",fieldType:"search",initialValue:"",keyboardType:"text"}),I=E.useRef(!1);E.useEffect(()=>{I.current=!1,j()},[]),E.useEffect(()=>{F()},[S]),E.useEffect(()=>{u&&l.total===0&&!T&&!I.current&&(I.current=!0,O(!0))},[u,l.total,T]);const j=async()=>{k(!0),await f(),k(!1)},O=async($=!1)=>{b(!0);try{const A=await a();if(A.success){let q=0;const te=setInterval(async()=>{if(l.complete&&l.total>0){clearInterval(te),b(!1),await j(),$||n.success(e("parameters.modals.downloadSuccess",{count:l.total}));return}if(l.received>0&&l.total>0){if(l.received===q&&l.received===l.total){clearInterval(te),b(!1),await j(),$||n.success(e("parameters.modals.downloadSuccess",{count:l.total}));return}q=l.received}},500);setTimeout(()=>{clearInterval(te),b(!1)},3e4)}else $||n.warning(A.message||e("parameters.modals.noConnectionMessage")),b(!1)}catch(A){console.error("Error solicitando parmetros:",A),$||n.error(e("parameters.modals.serverConnectionError")),b(!1)}},F=()=>{const $=i();if(!S){g($);return}const A=$.filter(q=>q.name.toLowerCase().includes(S.toLowerCase()));g(A)},z=$=>{x($.name),w($.value.toString())},Y=()=>{x(null),w("")},G=async $=>{try{const A=await s($,_);A.success?(n.success(e("parameters.modals.parameterUpdateSuccess",{name:$})),Y()):n.error(A.message||e("parameters.modals.parameterUpdateError"))}catch(A){console.error("Error guardando parmetro:",A),n.error(e("parameters.modals.saveConnectionError"))}};return d.jsxs("div",{className:"config-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("h3",{className:"section-title",children:e("parameters.title")}),d.jsx("p",{className:"section-description",children:e("parameters.description")})]}),d.jsx("div",{className:"header-right",children:d.jsx("button",{className:"download-button",onClick:()=>O(!1),disabled:T||C,children:e(T?"parameters.downloading":"parameters.downloadButton")})})]}),C?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:e("parameters.loading")})]}):d.jsxs(d.Fragment,{children:[u&&l.total>0&&d.jsxs("div",{className:"param-stats",children:[d.jsxs("div",{className:"stat-item",children:[d.jsxs("span",{className:"stat-label",children:[e("parameters.stats.total"),":"]}),d.jsx("span",{className:"stat-value",children:l.total})]}),d.jsxs("div",{className:"stat-item",children:[d.jsxs("span",{className:"stat-label",children:[e("parameters.stats.received"),":"]}),d.jsx("span",{className:"stat-value",children:l.received})]}),d.jsxs("div",{className:"stat-item",children:[d.jsxs("span",{className:"stat-label",children:[e("parameters.stats.progress"),":"]}),d.jsxs("span",{className:"stat-value",children:[l.total>0?Math.round(l.received/l.total*100):0,"%"]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsxs("span",{className:"stat-label",children:[e("parameters.stats.status"),":"]}),d.jsx("span",{className:`stat-badge ${l.complete?"complete":"incomplete"}`,children:l.complete?e("parameters.stats.complete"):e("parameters.stats.downloading")})]})]}),d.jsxs("div",{className:"settings-card",children:[d.jsxs("div",{className:"search-box",children:[d.jsx("input",{type:"text",className:"search-input",placeholder:e("parameters.searchPlaceholder"),value:S,readOnly:!0,onClick:()=>R({isOpen:!0,fieldName:e("parameters.searchPlaceholder"),fieldType:"search",initialValue:S,keyboardType:"text"})}),S&&d.jsx("button",{className:"clear-search",onClick:()=>y(""),children:""})]}),p.length===0?d.jsx("div",{className:"empty-state",children:i().length===0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("p",{children:e("parameters.noParameters")}),d.jsx("p",{className:"empty-hint",children:e("parameters.clickToDownload")})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("p",{children:e("parameters.noResults")}),d.jsx("p",{className:"empty-hint",children:e("parameters.tryDifferentSearch")})]})}):d.jsxs("div",{className:"parameters-table",children:[d.jsxs("div",{className:"table-header",children:[d.jsx("div",{className:"header-cell name",children:e("parameters.table.parameter")}),d.jsx("div",{className:"header-cell type",children:e("parameters.table.type")}),d.jsx("div",{className:"header-cell value",children:e("parameters.table.value")}),d.jsx("div",{className:"header-cell actions",children:e("parameters.table.actions")})]}),d.jsx("div",{className:"table-body",children:p.map($=>d.jsxs("div",{className:"table-row",children:[d.jsx("div",{className:"cell name",children:$.name}),d.jsx("div",{className:"cell type",children:d.jsx("span",{className:"type-badge",children:$.type})}),d.jsx("div",{className:"cell value",children:H===$.name?d.jsx("input",{type:"number",step:"any",className:"edit-input",value:_,onChange:A=>w(A.target.value),autoFocus:!0}):d.jsx("span",{className:"value-text",children:$.value})}),d.jsx("div",{className:"cell actions",children:H===$.name?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"action-btn save",onClick:()=>G($.name),title:e("parameters.actions.save"),children:""}),d.jsx("button",{className:"action-btn cancel",onClick:Y,title:e("parameters.actions.cancel"),children:""})]}):d.jsx("button",{className:"action-btn edit",onClick:()=>z($),title:e("parameters.actions.edit"),children:""})})]},$.name))})]})]}),d.jsx(Tu,{isOpen:N.isOpen,onClose:()=>R({...N,isOpen:!1}),onSubmit:$=>{N.fieldType==="search"?y($):N.fieldType==="edit"&&w($)},fieldName:N.fieldName,initialValue:N.initialValue,keyboardType:N.keyboardType})]})]})}function ju({loadDataFn:e,getChangedParams:n,onSaveSuccess:i,onLoadSuccess:s,t:a}={}){const{setMultipleParameters:l,loadParameters:u}=pg(),f=mt(),[p,g]=E.useState(!0),[S,y]=E.useState(!1),[C,k]=E.useState(!1),[T,b]=E.useState({}),[H,x]=E.useState(!1),_=E.useCallback(async()=>{if(H){console.log("[useVehicleConfigSection] Ya hay una carga en progreso, saltando...");return}x(!0),g(!0);try{const j=await u();if(e){const O=await e(j);O!=null&&O.originalValues&&b(O.originalValues),s&&s(O)}}catch(j){console.error("[useVehicleConfigSection] Error cargando datos:",j),f.error((a==null?void 0:a("common.errorLoading"))||"Error al cargar la configuracin")}finally{g(!1),x(!1)}},[e,u,s,f,H]),w=E.useCallback(async()=>{if(!C)return f.info((a==null?void 0:a("common.noChanges"))||"No hay cambios para guardar"),{success:!1,reason:"no-changes"};y(!0);try{const j=n?n():[];if(j.length===0)return f.info((a==null?void 0:a("common.noChanges"))||"No hay cambios para guardar"),{success:!1,reason:"no-changes"};const O=await l(j);return O.failed>0?(f.warning((a==null?void 0:a("common.parametersRejected",{count:O.failed}))||`${O.failed} parmetro(s) rechazado(s) por el vehculo`),setTimeout(()=>_(),1e3),{success:!1,reason:"partial-failure",result:O}):O.success>0?(k(!1),f.success((a==null?void 0:a("common.savedSuccessfully"))||"Guardado exitosamente"),i&&i(O),{success:!0,result:O}):(f.error((a==null?void 0:a("common.errorSaving"))||"Error al guardar"),{success:!1,reason:"failure",result:O})}catch(j){return console.error("[useVehicleConfigSection] Error guardando:",j),f.error((a==null?void 0:a("common.errorSaving"))||"Error al guardar"),{success:!1,reason:"exception",error:j}}finally{y(!1)}},[C,n,l,f,_,i,a]),N=E.useCallback(()=>(k(!1),T),[T]),R=E.useCallback(()=>{k(!0)},[]),I=E.useCallback(j=>{b(j)},[]);return{loading:p,saving:S,modified:C,originalValues:T,loadData:_,saveChanges:w,resetChanges:N,markAsModified:R,updateOriginalValues:I,hasUnsavedChanges:()=>C}}const pf={0:"Disabled",1:"RCPassThru",4:"Aileron",6:"Elevator",19:"RudderWithInput",21:"GroundSteering",26:"Rudder",33:"Motor1",34:"Motor2",35:"Motor3",36:"Motor4",37:"Motor5",38:"Motor6",39:"Motor7",40:"Motor8",51:"RCIN1",52:"RCIN2",53:"RCIN3",54:"RCIN4",55:"RCIN5",56:"RCIN6",57:"RCIN7",58:"RCIN8",59:"RCIN9",60:"RCIN10",61:"RCIN11",62:"RCIN12",63:"RCIN13",64:"RCIN14",65:"RCIN15",66:"RCIN16",70:"Throttle",73:"ThrottleLeft",74:"ThrottleRight",86:"MotorTilt",89:"CameraISO",90:"CameraAperture",91:"CameraFocus",92:"CameraShutterSpeed",94:"Script1",95:"Script2",96:"Script3",97:"Script4",98:"Script5",99:"Script6",100:"Script7",101:"Script8",102:"Script9",103:"Script10",120:"NeoPixel1",121:"NeoPixel2",122:"NeoPixel3",123:"NeoPixel4",124:"ProfiLED1",125:"ProfiLED2",126:"ProfiLED3",129:"ProfiLEDClock"},mg=E.forwardRef(({systemId:e,vehicle:n},i)=>{const{t:s}=Qe();mt();const{vehicles:a}=yn(),[l,u]=E.useState({}),[f,p]=E.useState({}),[g,S]=E.useState(null),y=16,C=E.useCallback(async w=>{const N={};for(let R=1;R<=y;R++){const I=w.get(`SERVO${R}_FUNCTION`),j=w.get(`SERVO${R}_MIN`),O=w.get(`SERVO${R}_MAX`),F=w.get(`SERVO${R}_TRIM`),z=w.get(`SERVO${R}_REVERSED`);N[R]={function:I?parseInt(I.value):0,min:j?parseInt(j.value):1100,max:O?parseInt(O.value):1900,trim:F?parseInt(F.value):1500,reversed:z?parseInt(z.value):0,currentValue:0}}return u(N),p({}),{originalValues:N}},[y]),k=E.useCallback(()=>Object.values(f),[f]),T=E.useCallback(()=>{p({})},[]),b=ju({loadDataFn:C,getChangedParams:k,onSaveSuccess:T,t:s});E.useImperativeHandle(i,()=>({hasUnsavedChanges:b.hasUnsavedChanges,saveChanges:()=>b.saveChanges(),resetChanges:()=>{u({...b.originalValues}),p({}),b.resetChanges()}})),E.useEffect(()=>{b.loadData()},[]);const H=(w,N,R)=>{const I=`SERVO${w}_${N.toUpperCase()}`,j=b.originalValues[w],O=parseInt(R);u(z=>({...z,[w]:{...z[w],[N]:O}})),j&&j[N]!==O?(p(z=>({...z,[I]:{name:I,value:O}})),b.markAsModified()):(p(z=>{const Y={...z};return delete Y[I],Y}),Object.keys(f).length<=1&&b.markAsModified(!1))},x=w=>{const N=pf[w];return N?s(`servos.functions.${N}`,N):s("servos.functions.Unknown",`Unknown (${w})`)},_=w=>Object.keys(f).some(N=>N.startsWith(`SERVO${w}_`));return b.loading?d.jsx("div",{className:"config-section",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:s("servos.loading")})]})}):d.jsxs("div",{className:"config-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("h3",{className:"section-title",children:s("servos.title")}),d.jsx("p",{className:"section-description",children:s("servos.description")})]}),d.jsx("div",{className:"header-right",children:d.jsx("button",{onClick:()=>b.saveChanges(),disabled:Object.keys(f).length===0||b.saving,className:`save-button ${Object.keys(f).length>0?"modified":""}`,children:b.saving?s("servos.saving"):Object.keys(f).length>0?`${s("servos.saveChanges")} (${Object.keys(f).length})`:s("servos.noChanges")})})]}),d.jsx("div",{className:"servos-list",children:Array.from({length:y},(w,N)=>N+1).map(w=>{const N=l[w]||{},R=_(w),I=g===w,j=x(N.function);return d.jsxs("div",{className:`servo-card ${R?"modified":""}`,children:[d.jsxs("div",{className:"servo-header",onClick:()=>S(I?null:w),children:[d.jsxs("div",{className:"servo-header-left",children:[d.jsxs("span",{className:"servo-number",children:["Servo ",w]}),d.jsx("span",{className:"servo-function",children:j})]}),d.jsxs("div",{className:"servo-header-right",children:[R&&d.jsx("span",{className:"modified-badge",children:"*"}),d.jsx("span",{className:"expand-icon",children:I?"":""})]})]}),I&&d.jsxs("div",{className:"servo-details",children:[d.jsxs("div",{className:"servo-row",children:[d.jsx("label",{className:"servo-label",children:s("servos.function")}),d.jsx("select",{className:"servo-select",value:N.function,onChange:O=>H(w,"function",O.target.value),disabled:b.saving,children:Object.entries(pf).map(([O,F])=>d.jsx("option",{value:O,children:s(`servos.functions.${F}`,F)},O))})]}),d.jsxs("div",{className:"servo-row",children:[d.jsx("label",{className:"servo-label",children:s("servos.reversed")}),d.jsx("input",{type:"checkbox",className:"servo-checkbox",checked:N.reversed===1,onChange:O=>H(w,"reversed",O.target.checked?1:0),disabled:b.saving}),d.jsx("span",{className:"servo-unit"})]}),d.jsxs("div",{className:"servo-row",children:[d.jsx("label",{className:"servo-label",children:s("servos.min")}),d.jsx("input",{type:"number",className:"servo-input",value:N.min,onChange:O=>H(w,"min",O.target.value),disabled:b.saving,min:"800",max:"2200"}),d.jsx("span",{className:"servo-unit",children:"s"})]}),d.jsxs("div",{className:"servo-row",children:[d.jsx("label",{className:"servo-label",children:s("servos.trim")}),d.jsx("input",{type:"number",className:"servo-input",value:N.trim,onChange:O=>H(w,"trim",O.target.value),disabled:b.saving,min:"800",max:"2200"}),d.jsx("span",{className:"servo-unit",children:"s"})]}),d.jsxs("div",{className:"servo-row",children:[d.jsx("label",{className:"servo-label",children:s("servos.max")}),d.jsx("input",{type:"number",className:"servo-input",value:N.max,onChange:O=>H(w,"max",O.target.value),disabled:b.saving,min:"800",max:"2200"}),d.jsx("span",{className:"servo-unit",children:"s"})]})]})]},w)})})]})});mg.displayName="Servos";const mf={0:"Manual",1:"Circle",2:"Stabilize",3:"Training",4:"Acro",5:"FlyByWireA",6:"FlyByWireB",7:"Cruise",8:"Autotune",10:"Auto",11:"RTL",12:"Loiter",13:"Takeoff",14:"Avoid_ADSB",15:"Guided",17:"QStabilize",18:"QHover",19:"QLoiter",20:"QLand",21:"QRTL",22:"QAutotune",23:"QAcro",24:"Thermal"},Pr={0:"Stabilize",1:"Acro",2:"AltHold",3:"Auto",4:"Guided",5:"Loiter",6:"RTL",7:"Circle",8:"Position",9:"Land",10:"OF_Loiter",11:"Drift",13:"Sport",14:"Flip",15:"AutoTune",16:"PosHold",17:"Brake",18:"Throw",19:"Avoid_ADSB",20:"Guided_NoGPS",21:"Smart_RTL",22:"FlowHold",23:"Follow",24:"ZigZag",25:"SystemID",26:"Heli_Autorotate",27:"Auto_RTL"},gf={0:"Manual",1:"Acro",2:"Learning",3:"Steering",4:"Hold",5:"Loiter",6:"Follow",7:"Simple",10:"Auto",11:"RTL",12:"SmartRTL",15:"Guided"},Lc=E.forwardRef(({systemId:e,vehicle:n},i)=>{const{t:s}=Qe();mt();const[a,l]=E.useState(null),[u,f]=E.useState(5),[p,g]=E.useState(null),[S,y]=E.useState(Pr),C=E.useCallback(async N=>{const R={};let I=5;for(let O=1;O<=6;O++){const F=N.get(`FLTMODE${O}`);F&&F.value!==null&&(R[O]=parseInt(F.value))}const j=N.get("FLTMODE_CH");return j&&j.value!==null&&(I=parseInt(j.value)),l(R),f(I),{originalValues:{...R,channel:I}}},[]),k=E.useCallback(()=>{const N=[],{channel:R,...I}=b.originalValues;for(let j=1;j<=6;j++)a[j]!==I[j]&&N.push({name:`FLTMODE${j}`,value:a[j]});return u!==R&&N.push({name:"FLTMODE_CH",value:u}),N},[a,u]),T=E.useCallback(()=>{b.updateOriginalValues({...a,channel:u})},[a,u]),b=ju({loadDataFn:C,getChangedParams:k,onSaveSuccess:T,t:s});E.useImperativeHandle(i,()=>({hasUnsavedChanges:b.hasUnsavedChanges,saveChanges:()=>b.saveChanges(),resetChanges:()=>{const{channel:N,...R}=b.resetChanges();l(R),f(N||5)}})),E.useEffect(()=>{n?(g(n.type),n.type===1?y(mf):[2,3,4,13,14,15].includes(n.type)?y(Pr):n.type===10?y(gf):y(Pr)):H()},[e,n]),E.useEffect(()=>{p!==null&&b.loadData()},[p]);const H=async()=>{try{const R=await(await fetch("/api/mavlink/vehicles")).json(),I=R.find(j=>j.systemId===e)||R[0];I&&(g(I.type),I.type===1?y(mf):[2,3,4,13,14,15].includes(I.type)?y(Pr):I.type===10?y(gf):y(Pr))}catch(N){console.error("Error loading vehicle type:",N)}},x=(N,R)=>{const I=parseInt(R);l(j=>({...j,[N]:I})),w({...a,[N]:I},u)},_=N=>{const R=parseInt(N);f(R),w(a,R)},w=(N,R)=>{const{channel:I,...j}=b.originalValues;let O=!1;for(let F=1;F<=6;F++)if(N[F]!==j[F]){O=!0;break}R!==I&&(O=!0),O&&b.markAsModified()};return b.loading||a===null?d.jsx("div",{className:"config-section",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:s("flightModes.loading")})]})}):d.jsxs("div",{className:"config-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("h3",{className:"section-title",children:s("flightModes.title")}),d.jsx("p",{className:"section-description",children:s("flightModes.description")})]}),d.jsx("div",{className:"header-right",children:d.jsx("button",{onClick:()=>b.saveChanges(),disabled:!b.modified||b.saving,className:`save-button ${b.modified?"modified":""}`,children:b.saving?s("flightModes.saving"):b.modified?s("flightModes.saveChanges"):s("flightModes.noChanges")})})]}),d.jsxs("div",{className:"channel-selector-container",children:[d.jsxs("label",{className:"channel-label",children:[d.jsx("span",{className:"label-icon",children:""}),d.jsx("span",{className:"label-text",children:s("flightModes.channel")})]}),d.jsx("select",{className:`channel-select ${u!==b.originalValues.channel?"modified":""}`,value:u,onChange:N=>_(N.target.value),children:[1,2,3,4,5,6,7,8].map(N=>d.jsxs("option",{value:N,children:[s("flightModes.rcChannel")," ",N]},N))})]}),d.jsx("div",{className:"flight-modes-grid",children:[1,2,3,4,5,6].map(N=>d.jsxs("div",{className:"mode-item",children:[d.jsxs("label",{className:"mode-label",children:[s("flightModes.mode")," ",N,a[N]!==b.originalValues[N]&&d.jsx("span",{className:"modified-indicator",children:"*"})]}),d.jsx("select",{className:`mode-select ${a[N]!==b.originalValues[N]?"modified":""}`,value:a[N]!==void 0?a[N]:0,onChange:R=>x(N,R.target.value),children:Object.entries(S).map(([R,I])=>d.jsx("option",{value:R,children:s(`flightModes.modes.${I}`,I)},R))})]},N))}),d.jsxs("div",{className:"info-box",children:[d.jsxs("div",{className:"info-title",children:[d.jsx("span",{className:"info-icon",children:""}),s("flightModes.infoTitle")]}),d.jsxs("ul",{className:"info-list",children:[d.jsx("li",{children:s("flightModes.info1")}),d.jsx("li",{children:s("flightModes.info2")}),d.jsx("li",{children:s("flightModes.info3")})]})]})]})});Lc.displayName="FlightModes";const gg=E.forwardRef(({systemId:e,vehicle:n},i)=>{const{t:s}=Qe();mt();const[a,l]=E.useState([]),[u,f]=E.useState(null),p={"-1":"None",1:"MAVLink1",2:"MAVLink2",3:"Frsky D",4:"Frsky SPort",5:"GPS",7:"Alexmos Gimbal Serial",8:"SToRM32 Gimbal Serial",9:"Rangefinder",10:"FrSky SPort Passthrough",11:"Lidar360",13:"Beacon",14:"Volz servo out",15:"SBus servo out",16:"ESC Telemetry",17:"Devo Telemetry",18:"OpticalFlow",19:"RobotisServo",20:"NMEA Output",21:"WindVane",22:"SLCAN",23:"RCIN",24:"EFI Serial",25:"LTM",26:"RunCam",27:"HottTelem",28:"Scripting",29:"Crossfire VTX",30:"Generator",31:"Winch",32:"MSP",33:"DJI FPV",34:"AirSpeed",35:"ADSB",36:"AHRS",37:"SmartAudio",38:"FETtecOneWire",39:"Torqeedo",40:"AIS",41:"CoDevESC",42:"DisplayPort",43:"MAVLink High Latency",44:"IRC Tramp",45:"DDS XRCE"},g=[{code:"0",rate:"Default"},{code:"1",rate:"1200"},{code:"2",rate:"2400"},{code:"4",rate:"4800"},{code:"9",rate:"9600"},{code:"19",rate:"19200"},{code:"38",rate:"38400"},{code:"57",rate:"57600"},{code:"111",rate:"111100"},{code:"115",rate:"115200"},{code:"230",rate:"230400"},{code:"256",rate:"256000"},{code:"460",rate:"460800"},{code:"500",rate:"500000"},{code:"921",rate:"921600"},{code:"1500",rate:"1500000"},{code:"2000",rate:"2000000"}],S=E.useCallback(async x=>{const _=[];for(let N=0;N<8;N++){const R=x.get(`SERIAL${N}_PROTOCOL`),I=x.get(`SERIAL${N}_BAUD`),j=R?R.value:null,O=I?I.value:null;let F="57";if(O!==null){const z=Math.round(O);F=z.toString(),!g.find(G=>G.code===F)&&z!==0&&(F="57")}_.push({index:N,name:`SERIAL${N}`,protocol:j!==null?j.toString():"-1",baud:F})}l(_);const w={};return _.forEach(N=>{w[`SERIAL${N.index}_PROTOCOL`]=N.protocol,w[`SERIAL${N.index}_BAUD`]=N.baud}),_.every(N=>N.protocol==="-1")?f(s("serialPorts.noParameters")):f(null),{originalValues:w}},[s]),y=E.useCallback(()=>{const x=[];for(const _ of a)_.protocol!==k.originalValues[`SERIAL${_.index}_PROTOCOL`]&&x.push({name:`SERIAL${_.index}_PROTOCOL`,value:parseFloat(_.protocol)}),_.baud!==k.originalValues[`SERIAL${_.index}_BAUD`]&&x.push({name:`SERIAL${_.index}_BAUD`,value:parseFloat(_.baud)});return x},[a]),C=E.useCallback(()=>{const x={};a.forEach(_=>{x[`SERIAL${_.index}_PROTOCOL`]=_.protocol,x[`SERIAL${_.index}_BAUD`]=_.baud}),k.updateOriginalValues(x)},[a]),k=ju({loadDataFn:S,getChangedParams:y,onSaveSuccess:C,t:s});E.useImperativeHandle(i,()=>({hasUnsavedChanges:k.hasUnsavedChanges,saveChanges:()=>k.saveChanges(),resetChanges:()=>{const x=a.map(_=>({..._,protocol:k.originalValues[`SERIAL${_.index}_PROTOCOL`]||"-1",baud:k.originalValues[`SERIAL${_.index}_BAUD`]||"57"}));l(x),k.resetChanges(),f(null)}})),E.useEffect(()=>{k.loadData()},[e]);const T=(x,_)=>{const w=a.map(N=>N.index===x?{...N,protocol:_}:N);l(w),H(w)},b=(x,_)=>{const w=a.map(N=>N.index===x?{...N,baud:_}:N);l(w),H(w)},H=x=>{let _=!1;for(const w of x)if(w.protocol!==k.originalValues[`SERIAL${w.index}_PROTOCOL`]||w.baud!==k.originalValues[`SERIAL${w.index}_BAUD`]){_=!0;break}_&&k.markAsModified()};return k.loading?d.jsx("div",{className:"config-section",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:s("serialPorts.loading")})]})}):d.jsxs("div",{className:"config-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("h3",{className:"section-title",children:s("serialPorts.title")}),d.jsx("p",{className:"section-description",children:s("serialPorts.description")})]}),d.jsx("div",{className:"header-right",children:d.jsx("button",{onClick:()=>k.saveChanges(),disabled:!k.modified||k.saving,className:`save-button ${k.modified?"modified":""}`,children:k.saving?s("serialPorts.saving"):k.modified?s("serialPorts.saveChanges"):s("serialPorts.noChanges")})})]}),u&&d.jsxs("div",{className:"error-message",children:[d.jsx("span",{className:"error-icon",children:""}),u]}),d.jsx("div",{className:"serial-ports-grid",children:a.map(x=>{const _=x.protocol!==k.originalValues[`SERIAL${x.index}_PROTOCOL`]||x.baud!==k.originalValues[`SERIAL${x.index}_BAUD`];return d.jsxs("div",{className:"serial-port-card",children:[d.jsxs("div",{className:"serial-port-header",children:[d.jsx("span",{className:"serial-port-icon",children:""}),d.jsxs("h4",{children:[x.name,_&&d.jsx("span",{className:"modified-indicator",children:"*"})]})]}),d.jsxs("div",{className:"serial-port-config",children:[d.jsxs("div",{className:"config-group",children:[d.jsx("label",{htmlFor:`protocol-${x.index}`,children:s("serialPorts.protocol")}),d.jsx("select",{id:`protocol-${x.index}`,value:x.protocol,onChange:w=>T(x.index,w.target.value),className:"serial-select",children:Object.entries(p).map(([w,N])=>d.jsx("option",{value:w,children:s(`serialPorts.protocols.${N}`,N)},w))})]}),d.jsxs("div",{className:"config-group",children:[d.jsx("label",{htmlFor:`baud-${x.index}`,children:s("serialPorts.baudRate")}),d.jsx("select",{id:`baud-${x.index}`,value:x.baud,onChange:w=>b(x.index,w.target.value),className:"serial-select",children:g.map(({code:w,rate:N})=>d.jsx("option",{value:w,children:N},w))})]})]})]},x.index)})}),d.jsxs("div",{className:"info-box",children:[d.jsx("h4",{children:s("serialPorts.infoTitle")}),d.jsxs("ul",{children:[d.jsx("li",{children:s("serialPorts.info1")}),d.jsx("li",{children:s("serialPorts.info2")}),d.jsx("li",{children:s("serialPorts.info3")})]})]})]})});gg.displayName="SerialPorts";function R0({systemId:e,onClose:n}){const{t:i}=Qe(),s=mt(),{vehicles:a,connectionStatus:l}=yn(),[u,f]=E.useState("flightModes"),[p,g]=E.useState(null),[S,y]=E.useState(!1),[C,k]=E.useState(!1),T=a.find(F=>F.systemId===e);E.useEffect(()=>{(!(l!=null&&l.connected)||!T)&&(s.warning(i("reconnect.connectionLost")),n())},[l==null?void 0:l.connected,T,s,n,i]);const b=E.useRef(null),H=E.useRef(null),x=E.useRef(null),_=[{id:"flightModes",label:i("vehicleConfig.flightModes"),icon:""},{id:"serialPorts",label:i("vehicleConfig.serialPorts"),icon:""},{id:"servos",label:i("vehicleConfig.servos"),icon:""},{id:"parameters",label:i("vehicleConfig.parameters"),icon:""}],w=()=>{let F=!1,z=null;switch(u){case"flightModes":z=b.current;break;case"serialPorts":z=H.current;break;case"servos":z=x.current;break}return z&&typeof z.hasUnsavedChanges=="function"&&(F=z.hasUnsavedChanges()),F},N=F=>{if(F===u)return;w()?(g(F),y(!0)):f(F)},R=()=>{if(y(!1),p){let F=null;switch(u){case"flightModes":F=b.current;break;case"serialPorts":F=H.current;break;case"servos":F=x.current;break}F&&typeof F.resetChanges=="function"&&F.resetChanges(),f(p),g(null)}},I=async()=>{k(!0);let F=null,z="";switch(u){case"flightModes":F=b.current,z=i("vehicleConfig.flightModes");break;case"serialPorts":F=H.current,z=i("vehicleConfig.serialPorts");break;case"servos":F=x.current,z=i("vehicleConfig.servos");break}try{F&&typeof F.saveChanges=="function"&&await F.saveChanges(),s.success(i("vehicleConfig.saveSuccess.message",{section:z})),p&&setTimeout(()=>{f(p),g(null)},300)}catch(Y){console.error("Error guardando cambios:",Y),s.error(i("vehicleConfig.saveError.message",{section:z}))}finally{k(!1),y(!1)}},j=()=>{y(!1),g(null)},O=()=>{switch(u){case"flightModes":return d.jsx(Lc,{ref:b,systemId:e,vehicle:T});case"serialPorts":return d.jsx(gg,{ref:H,systemId:e,vehicle:T});case"parameters":return d.jsx(M0,{systemId:e});case"servos":return d.jsx(mg,{ref:x,systemId:e,vehicle:T});default:return d.jsx(Lc,{ref:b,systemId:e,vehicle:T})}};return d.jsxs("div",{className:"vehicle-config-container",children:[d.jsx(bu,{isOpen:S,title:i("vehicleConfig.unsavedChanges.title"),message:i("vehicleConfig.unsavedChanges.message"),type:"warning",closeOnBackdrop:!C,buttons:[{label:i("vehicleConfig.unsavedChanges.discard"),onClick:R,variant:"cancel",disabled:C},{label:i("modal.cancel"),onClick:j,variant:"secondary",disabled:C},{label:i("vehicleConfig.unsavedChanges.save"),onClick:I,variant:"confirm",loading:C}]}),d.jsxs("div",{className:"vehicle-config-sidebar",children:[d.jsxs("div",{className:"vehicle-config-header",children:[d.jsxs("h2",{className:"vehicle-config-title",children:[i("vehicleConfig.title")," #",e]}),d.jsx("button",{className:"close-button",onClick:n,title:i("vehicleConfig.close"),children:""})]}),d.jsx("nav",{className:"vehicle-config-menu",children:_.map(F=>d.jsxs("button",{className:`menu-item ${u===F.id?"active":""}`,onClick:()=>N(F.id),children:[d.jsx("span",{className:"menu-icon",children:F.icon}),d.jsx("span",{className:"menu-label",children:F.label})]},F.id))})]}),d.jsx("div",{className:"vehicle-config-content",children:O()})]})}function I0(){const{notifications:e,remove:n}=mt(),i=s=>{switch(s){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return d.jsx("div",{className:"toast-container",children:e.map(s=>d.jsxs("div",{className:`toast toast-${s.type}`,onClick:()=>n(s.id),children:[d.jsx("div",{className:"toast-icon",children:i(s.type)}),d.jsx("div",{className:"toast-content",children:d.jsx("p",{className:"toast-message",children:s.message})}),d.jsx("button",{className:"toast-close",onClick:a=>{a.stopPropagation(),n(s.id)},children:""})]},s.id))})}function A0(){const{t:e}=Qe(),n=mt(),{selectedVehicleId:i}=yn(),[s,a]=E.useState("main"),[l,u]=E.useState(null),[f,p]=E.useState({isOpen:!1,action:null,systemId:null}),[g,S]=E.useState(!1),y=(x,_)=>{p({isOpen:!0,action:x,systemId:_,title:e(x==="arm"?"sidebar.actions.armConfirmTitle":"sidebar.actions.disarmConfirmTitle"),message:e(x==="arm"?"sidebar.actions.armConfirmMessage":"sidebar.actions.disarmConfirmMessage")})},C=async()=>{const{action:x,systemId:_}=f;if(!(!x||!_)){S(!0);try{const N=await(await fetch(`/api/mavlink/command/${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemId:_})})).json();if(S(!1),p({isOpen:!1,action:null,systemId:null}),N.success){const R=N.message||e(x==="arm"?"sidebar.actions.armSuccessMessage":"sidebar.actions.disarmSuccessMessage");n.success(R)}else{const R=N.message||e(x==="arm"?"sidebar.actions.armErrorMessage":"sidebar.actions.disarmErrorMessage");n.error(R)}}catch{S(!1),p({isOpen:!1,action:null,systemId:null}),n.error(e("sidebar.actions.connectionErrorMessage"))}}},k=()=>{a(s==="settings"?"main":"settings")},T=x=>{u(x),a("vehicleConfig")},b=()=>{a("main"),u(null)},H=()=>{switch(s){case"settings":return d.jsx(j0,{onClose:()=>a("main")});case"vehicleConfig":const x=l||i;return d.jsx(R0,{systemId:x,onClose:b});case"main":default:return d.jsx(L0,{onVehicleConfigClick:T,onArmDisarmRequest:y})}};return d.jsxs("div",{className:"app-container",children:[d.jsx(r0,{onSettingsClick:k,isSettingsOpen:s==="settings",onArmDisarmRequest:y}),H(),"      ",d.jsx(s0,{}),d.jsx(I0,{}),d.jsx(bu,{isOpen:f.isOpen,onClose:()=>!g&&p({isOpen:!1,action:null,systemId:null}),title:f.title,message:f.message,type:"danger",closeOnBackdrop:!g,buttons:[{label:e("modal.cancel"),onClick:()=>p({isOpen:!1,action:null,systemId:null}),variant:"cancel",disabled:g},{label:e("modal.confirm"),onClick:C,variant:"confirm",loading:g}]})]})}function D0(){return d.jsx(t0,{children:d.jsx(i0,{children:d.jsx(O0,{children:d.jsx(A0,{})})})})}const{slice:z0,forEach:F0}=[];function B0(e){return F0.call(z0.call(arguments,1),n=>{if(n)for(const i in n)e[i]===void 0&&(e[i]=n[i])}),e}function V0(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(e))}const vf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,U0=function(e,n){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(n);let l=`${e}=${a}`;if(s.maxAge>0){const u=s.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(s.domain){if(!vf.test(s.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${s.domain}`}if(s.path){if(!vf.test(s.path))throw new TypeError("option path is invalid");l+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(l+="; Partitioned"),l},yf={create(e,n,i,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+i*60*1e3)),s&&(a.domain=s),document.cookie=U0(e,n,a)},read(e){const n=`${e}=`,i=document.cookie.split(";");for(let s=0;s<i.length;s++){let a=i[s];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(n)===0)return a.substring(n.length,a.length)}return null},remove(e,n){this.create(e,"",-1,n)}};var Z0={name:"cookie",lookup(e){let{lookupCookie:n}=e;if(n&&typeof document<"u")return yf.read(n)||void 0},cacheUserLanguage(e,n){let{lookupCookie:i,cookieMinutes:s,cookieDomain:a,cookieOptions:l}=n;i&&typeof document<"u"&&yf.create(i,e,s,a,l)}},H0={name:"querystring",lookup(e){var s;let{lookupQuerystring:n}=e,i;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let f=0;f<u.length;f++){const p=u[f].indexOf("=");p>0&&u[f].substring(0,p)===n&&(i=u[f].substring(p+1))}}return i}},$0={name:"hash",lookup(e){var a;let{lookupHash:n,lookupFromHashIndex:i}=e,s;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const u=l.substring(1);if(n){const f=u.split("&");for(let p=0;p<f.length;p++){const g=f[p].indexOf("=");g>0&&f[p].substring(0,g)===n&&(s=f[p].substring(g+1))}}if(s)return s;if(!s&&i>-1){const f=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?(a=f[typeof i=="number"?i:0])==null?void 0:a.replace("/",""):void 0}}}return s}};let Si=null;const _f=()=>{if(Si!==null)return Si;try{if(Si=typeof window<"u"&&window.localStorage!==null,!Si)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Si=!1}return Si};var W0={name:"localStorage",lookup(e){let{lookupLocalStorage:n}=e;if(n&&_f())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(e,n){let{lookupLocalStorage:i}=n;i&&_f()&&window.localStorage.setItem(i,e)}};let Ci=null;const xf=()=>{if(Ci!==null)return Ci;try{if(Ci=typeof window<"u"&&window.sessionStorage!==null,!Ci)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ci=!1}return Ci};var G0={name:"sessionStorage",lookup(e){let{lookupSessionStorage:n}=e;if(n&&xf())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(e,n){let{lookupSessionStorage:i}=n;i&&xf()&&window.sessionStorage.setItem(i,e)}},K0={name:"navigator",lookup(e){const n=[];if(typeof navigator<"u"){const{languages:i,userLanguage:s,language:a}=navigator;if(i)for(let l=0;l<i.length;l++)n.push(i[l]);s&&n.push(s),a&&n.push(a)}return n.length>0?n:void 0}},q0={name:"htmlTag",lookup(e){let{htmlTag:n}=e,i;const s=n||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(i=s.getAttribute("lang")),i}},Q0={name:"path",lookup(e){var a;let{lookupFromPathIndex:n}=e;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(a=i[typeof n=="number"?n:0])==null?void 0:a.replace("/",""):void 0}},Y0={name:"subdomain",lookup(e){var a,l;let{lookupFromSubdomainIndex:n}=e;const i=typeof n=="number"?n+1:1,s=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[i]}};let vg=!1;try{document.cookie,vg=!0}catch{}const yg=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];vg||yg.splice(1,1);const J0=()=>({order:yg,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class _g{constructor(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,i)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=B0(i,this.options||{},J0()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Z0),this.addDetector(H0),this.addDetector(W0),this.addDetector(G0),this.addDetector(K0),this.addDetector(q0),this.addDetector(Q0),this.addDetector(Y0),this.addDetector($0)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return n.forEach(s=>{if(this.detectors[s]){let a=this.detectors[s].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.filter(s=>s!=null&&!V0(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(n,this.options)}))}}_g.type="languageDetector";const X0={title:"FPV Copilot GCS"},eS={noChanges:"No changes to save",savedSuccessfully:"Saved successfully",errorSaving:"Error saving",errorLoading:"Error loading configuration",parametersRejected:"{{count}} parameter(s) rejected by vehicle",cancel:"Cancel",close:"Close"},tS={noSavedConnections:"No saved connections. Connect manually from Connections.",reconnectedWith:"Reconnected with {{name}}",noConnection:"No connection. Open the Connections section to reconnect manually.",connectionLost:"Connection to vehicle lost. Returning to main view."},nS={vehicle:"Vehicle",status:"Status",signal:"Signal",battery:"Battery",gps:"GPS",telemetry:"Telemetry",noTelemetry:"No telemetry",active:"Active",inactive:"Inactive",settings:"Settings",autoConnect:"Auto-connect with available connections",armed:"Armed",disarmed:"Disarmed",flightMode:"Mode",signalQuality:{noSignal:"No signal",excellent:"Excellent",good:"Good",regular:"Regular",weak:"Weak"},gpsStatus:{noGps:"No GPS",noFix:"No Fix",fix2d:"2D Fix",fix3d:"3D Fix"},connectionError:{noSavedConnections:"No saved connections. Configure one in the Connections section.",connectionFailed:"Could not establish connection with the vehicle."}},iS={title:"Settings",general:"General",connections:"Connections",system:"System",about:"About Us"},rS={title:"Vehicle",flightModes:"Flight Modes",serialPorts:"Serial Ports",parameters:"Parameters",servos:"Servos",close:"Close",unsavedChanges:{title:"Unsaved Changes",message:"You have unsaved changes. What do you want to do?",save:"Save",discard:"Discard"},saveSuccess:{title:"Changes Saved",message:"Changes in {{section}} have been saved successfully"},saveError:{title:"Save Error",message:"Could not save changes in {{section}}"}},sS={title:"General Settings",description:"Configure general application preferences",language:"Language",selectLanguage:"Select Language",english:"English",spanish:"Spanish",languageInfo:"The language will be saved automatically and applied throughout the application.",theme:"Theme",darkTheme:"Dark Theme",lightTheme:"Light Theme"},oS={title:"Connections",description:"Configure and manage MAVLink connections",addConnection:"Add Connection",emptyState:"No connections configured",emptyStateHint:"Add a new connection to get started",connect:"Connect",disconnect:"Disconnect",delete:"Delete",connecting:"Connecting...",newConnection:"New Connection",configNotAvailable:"Configuration not available",types:{serial:"Serial",tcp:"TCP",udp:"UDP"},form:{name:"Name",namePlaceholder:"My Connection",type:"Connection Type",serialPort:"Serial Port",selectSerialPort:"Select port from browser",baudrate:"Baudrate",mode:"Mode",client:"Client",server:"Server",ipAddress:"IP Address",port:"Port",localIp:"Local IP Address",localPort:"Local Port",remoteIp:"Remote IP Address",remotePort:"Remote Port",cancel:"Cancel",save:"Save"},messages:{serverStarted:" TCP Server started",serverListening:"Server listening on port {{port}}. Waiting for client...",warning:"Warning",paramsRequestError:"Connected, but could not request parameters: {{message}}",error:"Error",paramsError:"Connected, but there was an error requesting parameters",connectionError:"Connection Error",connectionFailed:"Could not establish connection",networkError:"Network Error",serverNotAvailable:"Could not connect to the server. Verify that it is running.",nameRequired:"Please enter a name for the connection",disconnected:"Disconnected",disconnectedSuccess:"The connection has been closed successfully",disconnectError:"Could not disconnect",webSerialNotSupported:"Your browser does not support Web Serial API. Use Chrome, Edge or a compatible browser.",serialPortSelected:"Serial port selected successfully",serialPortError:"Error selecting serial port"}},aS={title:"Vehicle Parameters",description:"Ardupilot parameter configuration",downloadButton:" Download Parameters",downloading:" Downloading...",searchPlaceholder:" Search parameter...",noParameters:"No parameters loaded",clickToDownload:'Click "Download Parameters" to get them from the vehicle',noResults:"No parameters found",tryDifferentSearch:"Try a different search term",stats:{total:"Total",received:"Received",progress:"Progress",status:"Status",complete:" Complete",downloading:" Downloading..."},table:{parameter:"Parameter",type:"Type",value:"Value",actions:"Actions"},actions:{edit:"Edit",save:"Save",cancel:"Cancel"},modals:{downloadComplete:"Download Complete",downloadSuccess:"Successfully downloaded {{count}} vehicle parameters.",noConnection:"No Connection",noConnectionMessage:"There is no active connection to the vehicle. Please establish a connection from the Connections section before downloading parameters.",connectionError:"Connection Error",serverConnectionError:"Could not connect to the server. Verify that the server is running.",loadError:"Error loading vehicle parameters",parameterUpdated:"Parameter Updated",parameterUpdateSuccess:"Parameter {{name}} has been updated successfully.",saveError:"Save Error",parameterUpdateError:"Could not update the parameter.",saveConnectionError:"Could not connect to the server to save the parameter."}},lS={title:"Serial Ports Configuration",description:"Configure the protocols and baud rates for each serial port (UART)",loading:"Loading serial ports...",protocol:"Protocol",baudRate:"Baud Rate",saveChanges:"Save Changes",saving:"Saving...",noChanges:"No changes to save",success:"Success",error:"Error",info:"Information",successSave:"Serial ports configuration saved successfully",errorSave:"Error saving serial ports configuration",partialError:"Some parameters were rejected by the vehicle",rejected:"parameters rejected",errorLoading:"Error loading serial ports",noParameters:"No serial port parameters found. Make sure you have downloaded the parameters first.",infoTitle:"Important Information",info1:"SERIAL0 is typically the USB port and uses MAVLink by default",info2:"Changes require a board reboot to take effect",info3:"Make sure the protocol matches your connected device",protocols:{None:"None",MAVLink1:"MAVLink v1",MAVLink2:"MAVLink v2","Frsky D":"FrSky D","Frsky SPort":"FrSky SPort",GPS:"GPS","Alexmos Gimbal Serial":"Alexmos Gimbal","SToRM32 Gimbal Serial":"SToRM32 Gimbal",Rangefinder:"Rangefinder","FrSky SPort Passthrough":"FrSky SPort Passthrough",Lidar360:"Lidar 360",Beacon:"Beacon","Volz servo out":"Volz Servo Out","SBus servo out":"SBus Servo Out","ESC Telemetry":"ESC Telemetry","Devo Telemetry":"Devo Telemetry",OpticalFlow:"Optical Flow",RobotisServo:"Robotis Servo","NMEA Output":"NMEA Output",WindVane:"Wind Vane",SLCAN:"SLCAN",RCIN:"RC Input","EFI Serial":"EFI Serial",LTM:"LTM",RunCam:"RunCam",HottTelem:"Hott Telemetry",Scripting:"Scripting","Crossfire VTX":"Crossfire VTX",Generator:"Generator",Winch:"Winch",MSP:"MSP","DJI FPV":"DJI FPV",AirSpeed:"Airspeed",ADSB:"ADS-B",AHRS:"AHRS",SmartAudio:"SmartAudio",FETtecOneWire:"FETtec OneWire",Torqeedo:"Torqeedo",AIS:"AIS",CoDevESC:"CoDev ESC",DisplayPort:"DisplayPort","MAVLink High Latency":"MAVLink High Latency","IRC Tramp":"IRC Tramp","DDS XRCE":"DDS XRCE"}},cS={title:"Servos Configuration",description:"Configure servo output functions for your vehicle frame",loading:"Loading servo outputs...",noConnection:"No Connection",noConnectionHint:"Please establish a connection to the vehicle to configure servo outputs",output:"Servo",selectFunction:"Select Function",errorLoading:"Error loading servo outputs",errorSave:"Error saving servo function",successSave:"Servo function updated successfully",saveChanges:"Save Changes",saving:"Saving...",noChanges:"No changes to save",successSaveAll:"Successfully saved {{count}} parameters",errorSavePartial:"Some parameters failed to save: {{errors}}",infoTitle:"Important Information",info1:"Changes to servo functions are applied immediately and may affect vehicle behavior",info2:"Make sure motors are disarmed before changing motor outputs",info3:"Some functions may require specific hardware or additional configuration",function:"Function",reversed:"Reversed",normal:"Normal",reverse:"Reverse",min:"Min",max:"Max",trim:"Trim",current:"Current",functions:{Disabled:"Disabled",RCPassThru:"RC PassThru",Aileron:"Aileron",Elevator:"Elevator",RudderWithInput:"Rudder",GroundSteering:"Ground Steering",Motor1:"Motor 1",Motor2:"Motor 2",Motor3:"Motor 3",Motor4:"Motor 4",Motor5:"Motor 5",Motor6:"Motor 6",Motor7:"Motor 7",Motor8:"Motor 8",RCIN1:"RC Input 1",RCIN2:"RC Input 2",RCIN3:"RC Input 3",RCIN4:"RC Input 4",RCIN5:"RC Input 5",RCIN6:"RC Input 6",RCIN7:"RC Input 7",RCIN8:"RC Input 8",RCIN9:"RC Input 9",RCIN10:"RC Input 10",RCIN11:"RC Input 11",RCIN12:"RC Input 12",RCIN13:"RC Input 13",RCIN14:"RC Input 14",RCIN15:"RC Input 15",RCIN16:"RC Input 16",Throttle:"Throttle",ThrottleLeft:"Throttle Left",ThrottleRight:"Throttle Right",MotorTilt:"Motor Tilt",CameraISO:"Camera ISO",CameraAperture:"Camera Aperture",CameraFocus:"Camera Focus",CameraShutterSpeed:"Camera Shutter Speed",Script1:"Script 1",Script2:"Script 2",Script3:"Script 3",Script4:"Script 4",Script5:"Script 5",Script6:"Script 6",Script7:"Script 7",Script8:"Script 8",Script9:"Script 9",Script10:"Script 10",NeoPixel1:"NeoPixel 1",NeoPixel2:"NeoPixel 2",NeoPixel3:"NeoPixel 3",NeoPixel4:"NeoPixel 4",ProfiLED1:"ProfiLED 1",ProfiLED2:"ProfiLED 2",ProfiLED3:"ProfiLED 3",ProfiLEDClock:"ProfiLED Clock",Unknown:"Unknown"},functionDescriptions:{Disabled:"Output is disabled and inactive",RCPassThru:"Passes RC input directly to output",Aileron:"Controls roll (left/right)",Elevator:"Controls pitch (up/down)",RudderWithInput:"Controls yaw (rotation)",GroundSteering:"Controls ground steering for rovers",Motor1:"Main motor 1",Motor2:"Main motor 2",Motor3:"Main motor 3",Motor4:"Main motor 4",Throttle:"Throttle control",MotorTilt:"Tilt servo for VTOL",CameraISO:"Controls camera ISO",NeoPixel1:"NeoPixel LED strip 1"}},uS={title:"About Us",description:"Information about the project and development team",version:"Version",descriptionTitle:"Description",descriptionText:"FPV Copilot GCS is a ground control system designed for Linux embedded systems. It provides an intuitive Android-style interface for real-time monitoring and control of FPV drones.",featuresTitle:"Features",featuresList:{interface:"Android-style interface optimized for touchscreens",maps:"Real-time map visualization with OpenStreetMap",telemetry:"Telemetry monitoring (signal, battery, GPS)",connections:"Multiple connections (Serial, WiFi)",optimized:"Optimized for Linux embedded systems"},technologiesTitle:"Technologies",systemInfoTitle:"System Information",platform:"Platform",os:"Operating System",browser:"Browser"},dS={title:" Downloading Parameters",parameters:"parameters",complete:" Download complete",continueBackground:"Close (continue in background)",cancel:"Cancel download",cancelling:"Cancelling..."},hS={understood:"Understood",confirm:"Confirm",cancel:"Cancel"},fS={vehicle:"Vehicle",status:"Status",connected:" Connected",disconnected:" Disconnected",position:"Position",altitude:"Altitude",battery:"Battery",gps:"GPS",signal:"Signal",speed:"Speed",heading:"Heading",controls:{streetView:"Street View",satelliteView:"Satellite View",lockView:"Lock to Vehicle",unlockView:"Unlock View"},contextMenu:{centerHere:"Center Here",addWaypoint:"Add Waypoint",copyCoordinates:"Copy Coordinates"}},pS={leftPanel:"Left Panel",leftPanelContent:"Panel content will be added here",messages:"System Messages",clearMessages:"Clear all messages",noMessages:"No messages",noMessagesHint:"Messages from the vehicle will appear here",justNow:"Just now",activeVehicle:"Active Vehicle",noVehicles:"No vehicles detected",noVehiclesHint:"Establish a connection to view available vehicles",selectVehicle:"Select Vehicle",vehicle:"Vehicle",vehicleInfo:"Vehicle Information",vehicleActions:"Vehicle Actions",flightMode:"Flight Mode",status:"Status",connected:" Connected",disconnected:" Disconnected",position:"Position",altitude:"Altitude",battery:"Battery",gpsSatellites:"GPS Satellites",speed:"Speed",heading:"Heading",configureVehicle:"Configure",actions:{arm:"Arm",disarm:"Disarm",takeoff:"Takeoff",land:"Land",rtl:"Return Home",auto:"Auto Mode",armConfirmTitle:"Confirm Arm",armConfirmMessage:"Are you sure you want to arm the vehicle? Make sure the area is clear and all pre-flight checks are complete.",disarmConfirmTitle:"Confirm Disarm",disarmConfirmMessage:"Are you sure you want to disarm the vehicle? This will disable the motors.",armSuccess:"Vehicle Armed",armSuccessMessage:"The vehicle has been armed successfully.",armError:"Arm Failed",armErrorMessage:"Could not arm the vehicle. Check pre-arm conditions.",disarmSuccess:"Vehicle Disarmed",disarmSuccessMessage:"The vehicle has been disarmed successfully.",disarmError:"Disarm Failed",disarmErrorMessage:"Could not disarm the vehicle.",connectionError:"Connection Error",connectionErrorMessage:"Could not connect to the server to execute the command.",flightModeSuccess:"Flight Mode Changed",flightModeSuccessMessage:"The flight mode has been changed successfully.",flightModeError:"Flight Mode Change Failed",flightModeErrorMessage:"Could not change the flight mode."}},mS={title:"Flight Modes Configuration",description:"Configure the 6 flight modes and the RC channel that switches them",loading:"Loading flight modes...",mode:"Mode",channel:"Flight Mode Channel",rcChannel:"RC Channel",saveChanges:"Save Changes",saving:"Saving...",noChanges:"No changes to save",successSave:"Flight modes saved successfully",errorSave:"Error saving flight modes",errorLoading:"Error loading flight modes",infoTitle:"Important Information",info1:"Use a 3-position or 6-position switch on your transmitter to change flight modes",info2:"Mode 1 is typically used for the lowest switch position, Mode 6 for the highest",info3:"Changes take effect immediately - test on the ground first",modes:{Manual:"Manual",Circle:"Circle",Stabilize:"Stabilize",Training:"Training",Acro:"Acro",FlyByWireA:"Fly-By-Wire A",FlyByWireB:"Fly-By-Wire B",Cruise:"Cruise",Autotune:"Autotune",Auto:"Auto",RTL:"RTL (Return to Launch)",Loiter:"Loiter",Takeoff:"Takeoff",Avoid_ADSB:"Avoid ADSB",Guided:"Guided",QStabilize:"Q-Stabilize",QHover:"Q-Hover",QLoiter:"Q-Loiter",QLand:"Q-Land",QRTL:"Q-RTL",QAutotune:"Q-Autotune",QAcro:"Q-Acro",Thermal:"Thermal",AltHold:"Alt Hold",Position:"Position",Land:"Land",OF_Loiter:"OF Loiter",Drift:"Drift",Sport:"Sport",Flip:"Flip",AutoTune:"AutoTune",PosHold:"PosHold",Brake:"Brake",Throw:"Throw",Guided_NoGPS:"Guided NoGPS",Smart_RTL:"Smart RTL",FlowHold:"FlowHold",Follow:"Follow",ZigZag:"ZigZag",SystemID:"SystemID",Heli_Autorotate:"Heli Autorotate",Auto_RTL:"Auto RTL",Learning:"Learning",Steering:"Steering",Hold:"Hold",Simple:"Simple",SmartRTL:"Smart RTL",Unknown:"Unknown"}},gS={cancel:"Cancel",space:"Space",enter:"Enter"},vS={title:"System Information",description:"Detailed information about the operating system, hardware and connected devices",loading:"Loading system information...",error:"Error loading information",overview:"Overview",display:"Display",devices:"Devices",network:"Network",operatingSystem:"Operating System",distribution:"Distribution",version:"Version",architecture:"Architecture",hostname:"Hostname",uptime:"Uptime",memory:"Memory",totalMemory:"Total Memory",freeMemory:"Free Memory",usedMemory:"Used Memory",memoryUsage:"Memory Usage",processor:"Processor",cpuCores:"Cores",cpuModel:"Model",cpuSpeed:"Speed",loadAverage:"Load Average",displayInfo:"Display Information",displayEnv:"DISPLAY Variable",resolution:"Resolution",connectedDisplays:"Connected Displays",status:"Status",usbDevices:"USB Devices",serialPorts:"Serial Ports",videoDevices:"Video Devices",audioDevices:"Audio Devices",noDevices:"No devices found",networkInterfaces:"Network Interfaces",family:"Family",address:"Address",netmask:"Netmask",mac:"MAC Address",refresh:"Refresh",wifi:"WiFi",wifiCurrentNetwork:"Current Network",wifiAvailableNetworks:"Available Networks",wifiScan:"Scan",wifiScanning:"Scanning...",wifiConnect:"Connect",wifiConnecting:"Connecting...",wifiDisconnect:"Disconnect",wifiForget:"Forget Network",wifiPassword:"Password",wifiPasswordPlaceholder:"Enter password",wifiConnectTo:"Connect to",wifiNoNetworks:"No networks found. Press 'Scan' to search.",wifiDisconnectConfirm:"Disconnect from current WiFi network?",wifiForgetConfirm:"Forget network",wifiConnectSuccess:"Connected successfully",wifiConnectError:"Connection error",wifiDisconnectSuccess:"Disconnected successfully",wifiForgetSuccess:"Network forgotten",wifiSignalStrength:"Signal",wifiSecurity:"Security",wifiOpen:"Open",wifiSecured:"Secured",cancel:"Cancel"},yS={app:X0,common:eS,reconnect:tS,topbar:nS,settings:iS,vehicleConfig:rS,general:sS,connections:oS,parameters:aS,serialPorts:lS,servos:cS,about:uS,parameterDownload:dS,modal:hS,map:fS,sidebar:pS,flightModes:mS,keyboard:gS,systemInfo:vS},_S={title:"FPV Copilot GCS"},xS={noChanges:"No hay cambios para guardar",savedSuccessfully:"Guardado exitosamente",errorSaving:"Error al guardar",errorLoading:"Error al cargar la configuracin",parametersRejected:"{{count}} parmetro(s) rechazado(s) por el vehculo",cancel:"Cancelar",close:"Cerrar"},wS={noSavedConnections:"No hay conexiones guardadas. Conecta manualmente desde Conexiones.",reconnectedWith:"Reconectado con {{name}}",noConnection:"Sin conexin. Abre la seccin Conexiones para reconectar manualmente.",connectionLost:"Conexin con el vehculo perdida. Volviendo a la vista principal."},SS={vehicle:"Vehculo",status:"Estado",signal:"Seal",battery:"Batera",gps:"GPS",telemetry:"Telemetra",noTelemetry:"Sin telemetra",active:"Activa",inactive:"Inactiva",settings:"Configuracin",autoConnect:"Auto-conectar con conexiones disponibles",armed:"Armado",disarmed:"Desarmado",flightMode:"Modo",signalQuality:{noSignal:"Sin seal",excellent:"Excelente",good:"Buena",regular:"Regular",weak:"Dbil"},gpsStatus:{noGps:"Sin GPS",noFix:"No Fix",fix2d:"2D Fix",fix3d:"3D Fix"},connectionError:{noSavedConnections:"No hay conexiones guardadas. Configura una en la seccin Conexiones.",connectionFailed:"No se pudo establecer conexin con el vehculo."}},CS={title:"Configuracin",general:"General",connections:"Conexiones",system:"Sistema",about:"Acerca de"},NS={title:"Vehculo",flightModes:"Modos de Vuelo",serialPorts:"Puertos Seriales",parameters:"Parmetros",servos:"Servos",close:"Cerrar",unsavedChanges:{title:"Cambios sin Guardar",message:"Tienes cambios sin guardar. Qu deseas hacer?",save:"Guardar",discard:"Descartar"},saveSuccess:{title:"Cambios Guardados",message:"Los cambios en {{section}} se han guardado correctamente"},saveError:{title:"Error al Guardar",message:"No se pudieron guardar los cambios en {{section}}"}},kS={title:"Configuracin General",description:"Configura las preferencias generales de la aplicacin",language:"Idioma",selectLanguage:"Seleccionar Idioma",english:"Ingls",spanish:"Espaol",languageInfo:"El idioma se guardar automticamente y se aplicar en toda la aplicacin.",theme:"Tema",darkTheme:"Tema Oscuro",lightTheme:"Tema Claro"},PS={title:"Conexiones",description:"Configura y gestiona las conexiones MAVLink",addConnection:"Aadir Conexin",emptyState:"No hay conexiones configuradas",emptyStateHint:"Aade una nueva conexin para comenzar",connect:"Conectar",disconnect:"Desconectar",delete:"Eliminar",connecting:"Conectando...",newConnection:"Nueva Conexin",configNotAvailable:"Configuracin no disponible",types:{serial:"Serial",tcp:"TCP",udp:"UDP"},form:{name:"Nombre",namePlaceholder:"Mi Conexin",type:"Tipo de Conexin",serialPort:"Puerto Serial",selectSerialPort:"Seleccionar puerto del navegador",baudrate:"Baudrate",mode:"Modo",client:"Cliente",server:"Servidor",ipAddress:"Direccin IP",port:"Puerto",localIp:"Direccin IP Local",localPort:"Puerto Local",remoteIp:"Direccin IP Remota",remotePort:"Puerto Remoto",cancel:"Cancelar",save:"Guardar"},messages:{serverStarted:" Servidor TCP iniciado",serverListening:"Servidor escuchando en puerto {{port}}. Esperando cliente...",warning:"Advertencia",paramsRequestError:"Conectado, pero no se pudieron solicitar parmetros: {{message}}",error:"Error",paramsError:"Conectado, pero hubo un error al solicitar los parmetros",connectionError:"Error de Conexin",connectionFailed:"No se pudo establecer la conexin",networkError:"Error de Red",serverNotAvailable:"No se pudo conectar con el servidor. Verifica que est funcionando.",nameRequired:"Por favor ingresa un nombre para la conexin",disconnected:"Desconectado",disconnectedSuccess:"La conexin se ha cerrado correctamente",disconnectError:"No se pudo desconectar",webSerialNotSupported:"Tu navegador no soporta Web Serial API. Usa Chrome, Edge o un navegador compatible.",serialPortSelected:"Puerto serial seleccionado exitosamente",serialPortError:"Error al seleccionar el puerto serial"}},LS={title:"Parmetros del Vehculo",description:"Configuracin de parmetros de Ardupilot",downloadButton:" Descargar Parmetros",downloading:" Descargando...",searchPlaceholder:" Buscar parmetro...",noParameters:"No hay parmetros cargados",clickToDownload:'Haz clic en "Descargar Parmetros" para obtenerlos del vehculo',noResults:"No se encontraron parmetros",tryDifferentSearch:"Intenta con otro trmino de bsqueda",stats:{total:"Total",received:"Recibidos",progress:"Progreso",status:"Estado",complete:" Completo",downloading:" Descargando..."},table:{parameter:"Parmetro",type:"Tipo",value:"Valor",actions:"Acciones"},actions:{edit:"Editar",save:"Guardar",cancel:"Cancelar"},modals:{downloadComplete:"Descarga Completa",downloadSuccess:"Se han descargado exitosamente {{count}} parmetros del vehculo.",noConnection:"Sin Conexin",noConnectionMessage:"No hay conexin activa con el vehculo. Por favor, establece una conexin desde la seccin de Conexiones antes de descargar los parmetros.",connectionError:"Error de Conexin",serverConnectionError:"No se pudo conectar con el servidor. Verifica que el servidor est funcionando.",loadError:"Error al cargar parmetros del vehculo",parameterUpdated:"Parmetro Actualizado",parameterUpdateSuccess:"El parmetro {{name}} se ha actualizado correctamente.",saveError:"Error al Guardar",parameterUpdateError:"No se pudo actualizar el parmetro.",saveConnectionError:"No se pudo conectar con el servidor para guardar el parmetro."}},ES={title:"Configuracin de Puertos Seriales",description:"Configura los protocolos y velocidades de baudios para cada puerto serial (UART)",loading:"Cargando puertos seriales...",protocol:"Protocolo",baudRate:"Velocidad de Baudios",saveChanges:"Guardar Cambios",saving:"Guardando...",noChanges:"Sin cambios para guardar",success:"xito",error:"Error",info:"Informacin",successSave:"Configuracin de puertos seriales guardada exitosamente",errorSave:"Error al guardar la configuracin de puertos seriales",partialError:"Algunos parmetros fueron rechazados por el vehculo",rejected:"parmetros rechazados",errorLoading:"Error al cargar los puertos seriales",noParameters:"No se encontraron parmetros de puertos seriales. Asegrate de haber descargado los parmetros primero.",infoTitle:"Informacin Importante",info1:"SERIAL0 es tpicamente el puerto USB y usa MAVLink por defecto",info2:"Los cambios requieren reiniciar la controladora para tener efecto",info3:"Asegrate de que el protocolo coincida con tu dispositivo conectado",protocols:{None:"Ninguno",MAVLink1:"MAVLink v1",MAVLink2:"MAVLink v2","Frsky D":"FrSky D","Frsky SPort":"FrSky SPort",GPS:"GPS","Alexmos Gimbal Serial":"Gimbal Alexmos","SToRM32 Gimbal Serial":"Gimbal SToRM32",Rangefinder:"Telmetro","FrSky SPort Passthrough":"FrSky SPort Passthrough",Lidar360:"Lidar 360",Beacon:"Baliza","Volz servo out":"Salida Servo Volz","SBus servo out":"Salida Servo SBus","ESC Telemetry":"Telemetra ESC","Devo Telemetry":"Telemetra Devo",OpticalFlow:"Flujo ptico",RobotisServo:"Servo Robotis","NMEA Output":"Salida NMEA",WindVane:"Veleta",SLCAN:"SLCAN",RCIN:"Entrada RC","EFI Serial":"EFI Serial",LTM:"LTM",RunCam:"RunCam",HottTelem:"Telemetra Hott",Scripting:"Scripts","Crossfire VTX":"Crossfire VTX",Generator:"Generador",Winch:"Cabrestante",MSP:"MSP","DJI FPV":"DJI FPV",AirSpeed:"Velocidad Area",ADSB:"ADS-B",AHRS:"AHRS",SmartAudio:"SmartAudio",FETtecOneWire:"FETtec OneWire",Torqeedo:"Torqeedo",AIS:"AIS",CoDevESC:"CoDev ESC",DisplayPort:"DisplayPort","MAVLink High Latency":"MAVLink Alta Latencia","IRC Tramp":"IRC Tramp","DDS XRCE":"DDS XRCE"}},TS={title:"Configuracin de Servos",description:"Configura las funciones de salida de servos para tu vehculo",loading:"Cargando salidas de servos...",noConnection:"Sin Conexin",noConnectionHint:"Por favor establece una conexin con el vehculo para configurar las salidas de servos",output:"Servo",selectFunction:"Seleccionar Funcin",errorLoading:"Error al cargar las salidas de servos",errorSave:"Error al guardar la funcin del servo",successSave:"Funcin del servo actualizada correctamente",saveChanges:"Guardar Cambios",saving:"Guardando...",noChanges:"No hay cambios para guardar",successSaveAll:"Se guardaron exitosamente {{count}} parmetros",errorSavePartial:"Algunos parmetros no se pudieron guardar: {{errors}}",infoTitle:"Informacin Importante",info1:"Los cambios en las funciones de servo se aplican inmediatamente y pueden afectar el comportamiento del vehculo",info2:"Asegrate de que los motores estn desarmados antes de cambiar las salidas de motores",info3:"Algunas funciones pueden requerir hardware especfico o configuracin adicional",function:"Funcin",reversed:"Invertido",normal:"Normal",reverse:"Invertir",min:"Mnimo",max:"Mximo",trim:"Centrado",current:"Actual",functions:{Disabled:"Deshabilitado",RCPassThru:"RC PassThru",Aileron:"Alerones",Elevator:"Profundidad",RudderWithInput:"Timn",GroundSteering:"Direccin Terrestre",Motor1:"Motor 1",Motor2:"Motor 2",Motor3:"Motor 3",Motor4:"Motor 4",Motor5:"Motor 5",Motor6:"Motor 6",Motor7:"Motor 7",Motor8:"Motor 8",RCIN1:"Entrada RC 1",RCIN2:"Entrada RC 2",RCIN3:"Entrada RC 3",RCIN4:"Entrada RC 4",RCIN5:"Entrada RC 5",RCIN6:"Entrada RC 6",RCIN7:"Entrada RC 7",RCIN8:"Entrada RC 8",RCIN9:"Entrada RC 9",RCIN10:"Entrada RC 10",RCIN11:"Entrada RC 11",RCIN12:"Entrada RC 12",RCIN13:"Entrada RC 13",RCIN14:"Entrada RC 14",RCIN15:"Entrada RC 15",RCIN16:"Entrada RC 16",Throttle:"Acelerador",ThrottleLeft:"Acelerador Izquierdo",ThrottleRight:"Acelerador Derecho",MotorTilt:"Inclinacin de Motor",CameraISO:"ISO de Cmara",CameraAperture:"Apertura de Cmara",CameraFocus:"Enfoque de Cmara",CameraShutterSpeed:"Velocidad de Obturacin",Script1:"Script 1",Script2:"Script 2",Script3:"Script 3",Script4:"Script 4",Script5:"Script 5",Script6:"Script 6",Script7:"Script 7",Script8:"Script 8",Script9:"Script 9",Script10:"Script 10",NeoPixel1:"NeoPixel 1",NeoPixel2:"NeoPixel 2",NeoPixel3:"NeoPixel 3",NeoPixel4:"NeoPixel 4",ProfiLED1:"ProfiLED 1",ProfiLED2:"ProfiLED 2",ProfiLED3:"ProfiLED 3",ProfiLEDClock:"ProfiLED Clock",Unknown:"Desconocido"},functionDescriptions:{Disabled:"La salida est deshabilitada e inactiva",RCPassThru:"Pasa la entrada RC directamente a la salida",Aileron:"Controla el alabeo (izquierda/derecha)",Elevator:"Controla el cabeceo (arriba/abajo)",RudderWithInput:"Controla la guiada (rotacin)",GroundSteering:"Controla la direccin terrestre para rovers",Motor1:"Motor principal 1",Motor2:"Motor principal 2",Motor3:"Motor principal 3",Motor4:"Motor principal 4",Throttle:"Control de acelerador",MotorTilt:"Servo de inclinacin para VTOL",CameraISO:"Controla el ISO de la cmara",NeoPixel1:"Tira LED NeoPixel 1"}},bS={title:"Acerca de",description:"Informacin sobre el proyecto y el equipo de desarrollo",version:"Versin",descriptionTitle:"Descripcin",descriptionText:"FPV Copilot GCS es un sistema de control de tierra diseado para sistemas Linux embebidos. Proporciona una interfaz intuitiva tipo Android para monitorear y controlar drones FPV en tiempo real.",featuresTitle:"Caractersticas",featuresList:{interface:"Interfaz estilo Android optimizada para pantallas tctiles",maps:"Visualizacin de mapas en tiempo real con OpenStreetMap",telemetry:"Monitoreo de telemetra (seal, batera, GPS)",connections:"Conexiones mltiples (Serial, WiFi)",optimized:"Optimizado para sistemas embebidos Linux"},technologiesTitle:"Tecnologas",systemInfoTitle:"Informacin del Sistema",platform:"Plataforma",os:"Sistema Operativo",browser:"Navegador"},jS={title:" Descargando Parmetros",parameters:"parmetros",complete:" Descarga completa",continueBackground:"Cerrar (continuar en background)",cancel:"Cancelar descarga",cancelling:"Cancelando..."},OS={understood:"Entendido",confirm:"Confirmar",cancel:"Cancelar"},MS={vehicle:"Vehculo",status:"Estado",connected:" Conectado",disconnected:" Desconectado",position:"Posicin",altitude:"Altitud",battery:"Batera",gps:"GPS",signal:"Seal",speed:"Velocidad",heading:"Rumbo",controls:{streetView:"Vista de Calle",satelliteView:"Vista Satlite",lockView:"Fijar a Vehculo",unlockView:"Liberar Vista"},contextMenu:{centerHere:"Centrar Aqu",addWaypoint:"Aadir Waypoint",copyCoordinates:"Copiar Coordenadas"}},RS={leftPanel:"Panel Izquierdo",leftPanelContent:"El contenido del panel se aadir aqu",messages:"Mensajes del Sistema",clearMessages:"Limpiar todos los mensajes",noMessages:"Sin mensajes",noMessagesHint:"Los mensajes del vehculo aparecern aqu",justNow:"Ahora mismo",activeVehicle:"Vehculo Activo",noVehicles:"No hay vehculos detectados",noVehiclesHint:"Establece una conexin para ver los vehculos disponibles",selectVehicle:"Seleccionar Vehculo",vehicle:"Vehculo",vehicleInfo:"Informacin del Vehculo",vehicleActions:"Acciones del Vehculo",flightMode:"Modo de Vuelo",status:"Estado",connected:" Conectado",disconnected:" Desconectado",position:"Posicin",altitude:"Altitud",battery:"Batera",gpsSatellites:"Satlites GPS",speed:"Velocidad",heading:"Rumbo",configureVehicle:"Configurar",actions:{arm:"Armar",disarm:"Desarmar",takeoff:"Despegar",land:"Aterrizar",rtl:"Regresar a Casa",auto:"Modo Auto",armConfirmTitle:"Confirmar Armado",armConfirmMessage:"Ests seguro de que quieres armar el vehculo? Asegrate de que el rea est despejada y que todas las verificaciones previas estn completas.",disarmConfirmTitle:"Confirmar Desarmado",disarmConfirmMessage:"Ests seguro de que quieres desarmar el vehculo? Esto desactivar los motores.",armSuccess:"Vehculo Armado",armSuccessMessage:"El vehculo se ha armado exitosamente.",armError:"Fallo al Armar",armErrorMessage:"No se pudo armar el vehculo. Verifica las condiciones de pre-armado.",disarmSuccess:"Vehculo Desarmado",disarmSuccessMessage:"El vehculo se ha desarmado exitosamente.",disarmError:"Fallo al Desarmar",disarmErrorMessage:"No se pudo desarmar el vehculo.",connectionError:"Error de Conexin",connectionErrorMessage:"No se pudo conectar con el servidor para ejecutar el comando.",flightModeSuccess:"Modo de Vuelo Cambiado",flightModeSuccessMessage:"El modo de vuelo se ha cambiado exitosamente.",flightModeError:"Fallo al Cambiar Modo de Vuelo",flightModeErrorMessage:"No se pudo cambiar el modo de vuelo."}},IS={title:"Configuracin de Modos de Vuelo",description:"Configura los 6 modos de vuelo y el canal RC que los cambia",loading:"Cargando modos de vuelo...",mode:"Modo",channel:"Canal de Modos de Vuelo",rcChannel:"Canal RC",saveChanges:"Guardar Cambios",saving:"Guardando...",noChanges:"No hay cambios para guardar",successSave:"Modos de vuelo guardados correctamente",errorSave:"Error al guardar modos de vuelo",errorLoading:"Error al cargar modos de vuelo",infoTitle:"Informacin Importante",info1:"Usa un interruptor de 3 o 6 posiciones en tu emisora para cambiar modos de vuelo",info2:"El Modo 1 se usa tpicamente para la posicin ms baja del interruptor, Modo 6 para la ms alta",info3:"Los cambios se aplican inmediatamente - prueba en tierra primero",modes:{Manual:"Manual",Circle:"Crculo",Stabilize:"Estabilizado",Training:"Entrenamiento",Acro:"Acro",FlyByWireA:"Vuelo Asistido A",FlyByWireB:"Vuelo Asistido B",Cruise:"Crucero",Autotune:"Auto-Ajuste",Auto:"Automtico",RTL:"RTL (Retorno a Casa)",Loiter:"Loiter",Takeoff:"Despegue",Avoid_ADSB:"Evitar ADSB",Guided:"Guiado",QStabilize:"Q-Estabilizado",QHover:"Q-Hover",QLoiter:"Q-Loiter",QLand:"Q-Aterrizaje",QRTL:"Q-RTL",QAutotune:"Q-Auto-Ajuste",QAcro:"Q-Acro",Thermal:"Trmico",AltHold:"Mantener Altitud",Position:"Posicin",Land:"Aterrizaje",OF_Loiter:"OF Loiter",Drift:"Deriva",Sport:"Deportivo",Flip:"Volteo",AutoTune:"Auto-Ajuste",PosHold:"Mantener Posicin",Brake:"Freno",Throw:"Lanzamiento",Guided_NoGPS:"Guiado Sin GPS",Smart_RTL:"RTL Inteligente",FlowHold:"FlowHold",Follow:"Seguir",ZigZag:"ZigZag",SystemID:"ID Sistema",Heli_Autorotate:"Auto-Rotacin Heli",Auto_RTL:"RTL Automtico",Learning:"Aprendizaje",Steering:"Direccin",Hold:"Mantener",Simple:"Simple",SmartRTL:"RTL Inteligente",Unknown:"Desconocido"}},AS={cancel:"Cancelar",space:"Espacio",enter:"Enter"},DS={title:"Informacin del Sistema",description:"Informacin detallada sobre el sistema operativo, hardware y dispositivos conectados",loading:"Cargando informacin del sistema...",error:"Error al cargar la informacin",overview:"Resumen",display:"Pantalla",devices:"Dispositivos",network:"Red",operatingSystem:"Sistema Operativo",distribution:"Distribucin",version:"Versin",architecture:"Arquitectura",hostname:"Nombre del Host",uptime:"Tiempo Activo",memory:"Memoria",totalMemory:"Memoria Total",freeMemory:"Memoria Libre",usedMemory:"Memoria Usada",memoryUsage:"Uso de Memoria",processor:"Procesador",cpuCores:"Ncleos",cpuModel:"Modelo",cpuSpeed:"Velocidad",loadAverage:"Carga Promedio",displayInfo:"Informacin de Pantalla",displayEnv:"Variable DISPLAY",resolution:"Resolucin",connectedDisplays:"Pantallas Conectadas",status:"Estado",usbDevices:"Dispositivos USB",serialPorts:"Puertos Serie",videoDevices:"Dispositivos de Video",audioDevices:"Dispositivos de Audio",noDevices:"No se encontraron dispositivos",networkInterfaces:"Interfaces de Red",family:"Familia",address:"Direccin",netmask:"Mscara de Red",mac:"Direccin MAC",refresh:"Actualizar",wifi:"WiFi",wifiCurrentNetwork:"Red Actual",wifiAvailableNetworks:"Redes Disponibles",wifiScan:"Escanear",wifiScanning:"Escaneando...",wifiConnect:"Conectar",wifiConnecting:"Conectando...",wifiDisconnect:"Desconectar",wifiForget:"Olvidar Red",wifiPassword:"Contrasea",wifiPasswordPlaceholder:"Introduce la contrasea",wifiConnectTo:"Conectar a",wifiNoNetworks:"No se encontraron redes. Pulsa 'Escanear' para buscar.",wifiDisconnectConfirm:"Desconectar de la red WiFi actual?",wifiForgetConfirm:"Olvidar la red",wifiConnectSuccess:"Conectado exitosamente",wifiConnectError:"Error al conectar",wifiDisconnectSuccess:"Desconectado exitosamente",wifiForgetSuccess:"Red olvidada",wifiSignalStrength:"Seal",wifiSecurity:"Seguridad",wifiOpen:"Abierta",wifiSecured:"Protegida",cancel:"Cancelar"},zS={app:_S,common:xS,reconnect:wS,topbar:SS,settings:CS,vehicleConfig:NS,general:kS,connections:PS,parameters:LS,serialPorts:ES,servos:TS,about:bS,parameterDownload:jS,modal:OS,map:MS,sidebar:RS,flightModes:IS,keyboard:AS,systemInfo:DS};lt.use(_g).use(Ux).init({resources:{en:{translation:yS},es:{translation:zS}},fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});Sl.createRoot(document.getElementById("root")).render(d.jsx(po.StrictMode,{children:d.jsx(D0,{})}));
